(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))r(d);new MutationObserver(d=>{for(const h of d)if(h.type==="childList")for(const m of h.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function o(d){const h={};return d.integrity&&(h.integrity=d.integrity),d.referrerPolicy&&(h.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?h.credentials="include":d.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(d){if(d.ep)return;d.ep=!0;const h=o(d);fetch(d.href,h)}})();function eh(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var eu={exports:{}},di={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ym;function Pg(){if(ym)return di;ym=1;var i=Symbol.for("react.transitional.element"),c=Symbol.for("react.fragment");function o(r,d,h){var m=null;if(h!==void 0&&(m=""+h),d.key!==void 0&&(m=""+d.key),"key"in d){h={};for(var S in d)S!=="key"&&(h[S]=d[S])}else h=d;return d=h.ref,{$$typeof:i,type:r,key:m,ref:d!==void 0?d:null,props:h}}return di.Fragment=c,di.jsx=o,di.jsxs=o,di}var vm;function Wg(){return vm||(vm=1,eu.exports=Pg()),eu.exports}var u=Wg(),tu={exports:{}},ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xm;function Ig(){if(xm)return ve;xm=1;var i=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),m=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),A=Symbol.iterator;function R(M){return M===null||typeof M!="object"?null:(M=A&&M[A]||M["@@iterator"],typeof M=="function"?M:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,x={};function E(M,Z,ne){this.props=M,this.context=Z,this.refs=x,this.updater=ne||N}E.prototype.isReactComponent={},E.prototype.setState=function(M,Z){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Z,"setState")},E.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function C(){}C.prototype=E.prototype;function _(M,Z,ne){this.props=M,this.context=Z,this.refs=x,this.updater=ne||N}var U=_.prototype=new C;U.constructor=_,D(U,E.prototype),U.isPureReactComponent=!0;var H=Array.isArray,z={H:null,A:null,T:null,S:null,V:null},X=Object.prototype.hasOwnProperty;function j(M,Z,ne,te,ie,Q){return ne=Q.ref,{$$typeof:i,type:M,key:Z,ref:ne!==void 0?ne:null,props:Q}}function y(M,Z){return j(M.type,Z,void 0,void 0,void 0,M.props)}function V(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function F(M){var Z={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ne){return Z[ne]})}var le=/\/+/g;function se(M,Z){return typeof M=="object"&&M!==null&&M.key!=null?F(""+M.key):Z.toString(36)}function me(){}function de(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(me,me):(M.status="pending",M.then(function(Z){M.status==="pending"&&(M.status="fulfilled",M.value=Z)},function(Z){M.status==="pending"&&(M.status="rejected",M.reason=Z)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function ye(M,Z,ne,te,ie){var Q=typeof M;(Q==="undefined"||Q==="boolean")&&(M=null);var I=!1;if(M===null)I=!0;else switch(Q){case"bigint":case"string":case"number":I=!0;break;case"object":switch(M.$$typeof){case i:case c:I=!0;break;case v:return I=M._init,ye(I(M._payload),Z,ne,te,ie)}}if(I)return ie=ie(M),I=te===""?"."+se(M,0):te,H(ie)?(ne="",I!=null&&(ne=I.replace(le,"$&/")+"/"),ye(ie,Z,ne,"",function(oe){return oe})):ie!=null&&(V(ie)&&(ie=y(ie,ne+(ie.key==null||M&&M.key===ie.key?"":(""+ie.key).replace(le,"$&/")+"/")+I)),Z.push(ie)),1;I=0;var J=te===""?".":te+":";if(H(M))for(var ee=0;ee<M.length;ee++)te=M[ee],Q=J+se(te,ee),I+=ye(te,Z,ne,Q,ie);else if(ee=R(M),typeof ee=="function")for(M=ee.call(M),ee=0;!(te=M.next()).done;)te=te.value,Q=J+se(te,ee++),I+=ye(te,Z,ne,Q,ie);else if(Q==="object"){if(typeof M.then=="function")return ye(de(M),Z,ne,te,ie);throw Z=String(M),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return I}function Y(M,Z,ne){if(M==null)return M;var te=[],ie=0;return ye(M,te,"","",function(Q){return Z.call(ne,Q,ie++)}),te}function ae(M){if(M._status===-1){var Z=M._result;Z=Z(),Z.then(function(ne){(M._status===0||M._status===-1)&&(M._status=1,M._result=ne)},function(ne){(M._status===0||M._status===-1)&&(M._status=2,M._result=ne)}),M._status===-1&&(M._status=0,M._result=Z)}if(M._status===1)return M._result.default;throw M._result}var W=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function be(){}return ve.Children={map:Y,forEach:function(M,Z,ne){Y(M,function(){Z.apply(this,arguments)},ne)},count:function(M){var Z=0;return Y(M,function(){Z++}),Z},toArray:function(M){return Y(M,function(Z){return Z})||[]},only:function(M){if(!V(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},ve.Component=E,ve.Fragment=o,ve.Profiler=d,ve.PureComponent=_,ve.StrictMode=r,ve.Suspense=b,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,ve.__COMPILER_RUNTIME={__proto__:null,c:function(M){return z.H.useMemoCache(M)}},ve.cache=function(M){return function(){return M.apply(null,arguments)}},ve.cloneElement=function(M,Z,ne){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var te=D({},M.props),ie=M.key,Q=void 0;if(Z!=null)for(I in Z.ref!==void 0&&(Q=void 0),Z.key!==void 0&&(ie=""+Z.key),Z)!X.call(Z,I)||I==="key"||I==="__self"||I==="__source"||I==="ref"&&Z.ref===void 0||(te[I]=Z[I]);var I=arguments.length-2;if(I===1)te.children=ne;else if(1<I){for(var J=Array(I),ee=0;ee<I;ee++)J[ee]=arguments[ee+2];te.children=J}return j(M.type,ie,void 0,void 0,Q,te)},ve.createContext=function(M){return M={$$typeof:m,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:h,_context:M},M},ve.createElement=function(M,Z,ne){var te,ie={},Q=null;if(Z!=null)for(te in Z.key!==void 0&&(Q=""+Z.key),Z)X.call(Z,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(ie[te]=Z[te]);var I=arguments.length-2;if(I===1)ie.children=ne;else if(1<I){for(var J=Array(I),ee=0;ee<I;ee++)J[ee]=arguments[ee+2];ie.children=J}if(M&&M.defaultProps)for(te in I=M.defaultProps,I)ie[te]===void 0&&(ie[te]=I[te]);return j(M,Q,void 0,void 0,null,ie)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(M){return{$$typeof:S,render:M}},ve.isValidElement=V,ve.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:ae}},ve.memo=function(M,Z){return{$$typeof:p,type:M,compare:Z===void 0?null:Z}},ve.startTransition=function(M){var Z=z.T,ne={};z.T=ne;try{var te=M(),ie=z.S;ie!==null&&ie(ne,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(be,W)}catch(Q){W(Q)}finally{z.T=Z}},ve.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},ve.use=function(M){return z.H.use(M)},ve.useActionState=function(M,Z,ne){return z.H.useActionState(M,Z,ne)},ve.useCallback=function(M,Z){return z.H.useCallback(M,Z)},ve.useContext=function(M){return z.H.useContext(M)},ve.useDebugValue=function(){},ve.useDeferredValue=function(M,Z){return z.H.useDeferredValue(M,Z)},ve.useEffect=function(M,Z,ne){var te=z.H;if(typeof ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(M,Z)},ve.useId=function(){return z.H.useId()},ve.useImperativeHandle=function(M,Z,ne){return z.H.useImperativeHandle(M,Z,ne)},ve.useInsertionEffect=function(M,Z){return z.H.useInsertionEffect(M,Z)},ve.useLayoutEffect=function(M,Z){return z.H.useLayoutEffect(M,Z)},ve.useMemo=function(M,Z){return z.H.useMemo(M,Z)},ve.useOptimistic=function(M,Z){return z.H.useOptimistic(M,Z)},ve.useReducer=function(M,Z,ne){return z.H.useReducer(M,Z,ne)},ve.useRef=function(M){return z.H.useRef(M)},ve.useState=function(M){return z.H.useState(M)},ve.useSyncExternalStore=function(M,Z,ne){return z.H.useSyncExternalStore(M,Z,ne)},ve.useTransition=function(){return z.H.useTransition()},ve.version="19.1.0",ve}var Sm;function xi(){return Sm||(Sm=1,tu.exports=Ig()),tu.exports}var w=xi();const ua=eh(w);var au={exports:{}},mi={},nu={exports:{}},lu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em;function Fg(){return Em||(Em=1,function(i){function c(Y,ae){var W=Y.length;Y.push(ae);e:for(;0<W;){var be=W-1>>>1,M=Y[be];if(0<d(M,ae))Y[be]=ae,Y[W]=M,W=be;else break e}}function o(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var ae=Y[0],W=Y.pop();if(W!==ae){Y[0]=W;e:for(var be=0,M=Y.length,Z=M>>>1;be<Z;){var ne=2*(be+1)-1,te=Y[ne],ie=ne+1,Q=Y[ie];if(0>d(te,W))ie<M&&0>d(Q,te)?(Y[be]=Q,Y[ie]=W,be=ie):(Y[be]=te,Y[ne]=W,be=ne);else if(ie<M&&0>d(Q,W))Y[be]=Q,Y[ie]=W,be=ie;else break e}}return ae}function d(Y,ae){var W=Y.sortIndex-ae.sortIndex;return W!==0?W:Y.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;i.unstable_now=function(){return h.now()}}else{var m=Date,S=m.now();i.unstable_now=function(){return m.now()-S}}var b=[],p=[],v=1,A=null,R=3,N=!1,D=!1,x=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function H(Y){for(var ae=o(p);ae!==null;){if(ae.callback===null)r(p);else if(ae.startTime<=Y)r(p),ae.sortIndex=ae.expirationTime,c(b,ae);else break;ae=o(p)}}function z(Y){if(x=!1,H(Y),!D)if(o(b)!==null)D=!0,X||(X=!0,se());else{var ae=o(p);ae!==null&&ye(z,ae.startTime-Y)}}var X=!1,j=-1,y=5,V=-1;function F(){return E?!0:!(i.unstable_now()-V<y)}function le(){if(E=!1,X){var Y=i.unstable_now();V=Y;var ae=!0;try{e:{D=!1,x&&(x=!1,_(j),j=-1),N=!0;var W=R;try{t:{for(H(Y),A=o(b);A!==null&&!(A.expirationTime>Y&&F());){var be=A.callback;if(typeof be=="function"){A.callback=null,R=A.priorityLevel;var M=be(A.expirationTime<=Y);if(Y=i.unstable_now(),typeof M=="function"){A.callback=M,H(Y),ae=!0;break t}A===o(b)&&r(b),H(Y)}else r(b);A=o(b)}if(A!==null)ae=!0;else{var Z=o(p);Z!==null&&ye(z,Z.startTime-Y),ae=!1}}break e}finally{A=null,R=W,N=!1}ae=void 0}}finally{ae?se():X=!1}}}var se;if(typeof U=="function")se=function(){U(le)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,de=me.port2;me.port1.onmessage=le,se=function(){de.postMessage(null)}}else se=function(){C(le,0)};function ye(Y,ae){j=C(function(){Y(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Y){Y.callback=null},i.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<Y?Math.floor(1e3/Y):5},i.unstable_getCurrentPriorityLevel=function(){return R},i.unstable_next=function(Y){switch(R){case 1:case 2:case 3:var ae=3;break;default:ae=R}var W=R;R=ae;try{return Y()}finally{R=W}},i.unstable_requestPaint=function(){E=!0},i.unstable_runWithPriority=function(Y,ae){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var W=R;R=Y;try{return ae()}finally{R=W}},i.unstable_scheduleCallback=function(Y,ae,W){var be=i.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?be+W:be):W=be,Y){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=W+M,Y={id:v++,callback:ae,priorityLevel:Y,startTime:W,expirationTime:M,sortIndex:-1},W>be?(Y.sortIndex=W,c(p,Y),o(b)===null&&Y===o(p)&&(x?(_(j),j=-1):x=!0,ye(z,W-be))):(Y.sortIndex=M,c(b,Y),D||N||(D=!0,X||(X=!0,se()))),Y},i.unstable_shouldYield=F,i.unstable_wrapCallback=function(Y){var ae=R;return function(){var W=R;R=ae;try{return Y.apply(this,arguments)}finally{R=W}}}}(lu)),lu}var wm;function ep(){return wm||(wm=1,nu.exports=Fg()),nu.exports}var iu={exports:{}},yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tm;function tp(){if(Tm)return yt;Tm=1;var i=xi();function c(b){var p="https://react.dev/errors/"+b;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+b+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var r={d:{f:o,r:function(){throw Error(c(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},d=Symbol.for("react.portal");function h(b,p,v){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:A==null?null:""+A,children:b,containerInfo:p,implementation:v}}var m=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function S(b,p){if(b==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,yt.createPortal=function(b,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(c(299));return h(b,p,null,v)},yt.flushSync=function(b){var p=m.T,v=r.p;try{if(m.T=null,r.p=2,b)return b()}finally{m.T=p,r.p=v,r.d.f()}},yt.preconnect=function(b,p){typeof b=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(b,p))},yt.prefetchDNS=function(b){typeof b=="string"&&r.d.D(b)},yt.preinit=function(b,p){if(typeof b=="string"&&p&&typeof p.as=="string"){var v=p.as,A=S(v,p.crossOrigin),R=typeof p.integrity=="string"?p.integrity:void 0,N=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?r.d.S(b,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:A,integrity:R,fetchPriority:N}):v==="script"&&r.d.X(b,{crossOrigin:A,integrity:R,fetchPriority:N,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},yt.preinitModule=function(b,p){if(typeof b=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=S(p.as,p.crossOrigin);r.d.M(b,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(b)},yt.preload=function(b,p){if(typeof b=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,A=S(v,p.crossOrigin);r.d.L(b,v,{crossOrigin:A,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},yt.preloadModule=function(b,p){if(typeof b=="string")if(p){var v=S(p.as,p.crossOrigin);r.d.m(b,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(b)},yt.requestFormReset=function(b){r.d.r(b)},yt.unstable_batchedUpdates=function(b,p){return b(p)},yt.useFormState=function(b,p,v){return m.H.useFormState(b,p,v)},yt.useFormStatus=function(){return m.H.useHostTransitionStatus()},yt.version="19.1.0",yt}var Nm;function Su(){if(Nm)return iu.exports;Nm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(c){console.error(c)}}return i(),iu.exports=tp(),iu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cm;function ap(){if(Cm)return mi;Cm=1;var i=ep(),c=xi(),o=Su();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function S(e){if(h(e)!==e)throw Error(r(188))}function b(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(r(188));return t!==e?null:e}for(var a=e,n=t;;){var l=a.return;if(l===null)break;var s=l.alternate;if(s===null){if(n=l.return,n!==null){a=n;continue}break}if(l.child===s.child){for(s=l.child;s;){if(s===a)return S(l),e;if(s===n)return S(l),t;s=s.sibling}throw Error(r(188))}if(a.return!==n.return)a=l,n=s;else{for(var f=!1,g=l.child;g;){if(g===a){f=!0,a=l,n=s;break}if(g===n){f=!0,n=l,a=s;break}g=g.sibling}if(!f){for(g=s.child;g;){if(g===a){f=!0,a=s,n=l;break}if(g===n){f=!0,n=s,a=l;break}g=g.sibling}if(!f)throw Error(r(189))}}if(a.alternate!==n)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,A=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),U=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function se(e){return e===null||typeof e!="object"?null:(e=le&&e[le]||e["@@iterator"],typeof e=="function"?e:null)}var me=Symbol.for("react.client.reference");function de(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===me?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case E:return"Profiler";case x:return"StrictMode";case z:return"Suspense";case X:return"SuspenseList";case V:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case U:return(e.displayName||"Context")+".Provider";case _:return(e._context.displayName||"Context")+".Consumer";case H:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case j:return t=e.displayName||null,t!==null?t:de(e.type)||"Memo";case y:t=e._payload,e=e._init;try{return de(e(t))}catch{}}return null}var ye=Array.isArray,Y=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},be=[],M=-1;function Z(e){return{current:e}}function ne(e){0>M||(e.current=be[M],be[M]=null,M--)}function te(e,t){M++,be[M]=e.current,e.current=t}var ie=Z(null),Q=Z(null),I=Z(null),J=Z(null);function ee(e,t){switch(te(I,t),te(Q,e),te(ie,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Qd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Qd(t),e=Kd(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ne(ie),te(ie,e)}function oe(){ne(ie),ne(Q),ne(I)}function Ce(e){e.memoizedState!==null&&te(J,e);var t=ie.current,a=Kd(t,e.type);t!==a&&(te(Q,e),te(ie,a))}function Pe(e){Q.current===e&&(ne(ie),ne(Q)),J.current===e&&(ne(J),ri._currentValue=W)}var Ge=Object.prototype.hasOwnProperty,We=i.unstable_scheduleCallback,Ee=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ke=i.unstable_requestPaint,Xe=i.unstable_now,Ft=i.unstable_getCurrentPriorityLevel,oa=i.unstable_ImmediatePriority,xt=i.unstable_UserBlockingPriority,gt=i.unstable_NormalPriority,ea=i.unstable_LowPriority,fa=i.unstable_IdlePriority,Qt=i.log,Kt=i.unstable_setDisableYieldValue,Mt=null,Ie=null;function Ve(e){if(typeof Qt=="function"&&Kt(e),Ie&&typeof Ie.setStrictMode=="function")try{Ie.setStrictMode(Mt,e)}catch{}}var Ye=Math.clz32?Math.clz32:Ut,Ht=Math.log,Da=Math.LN2;function Ut(e){return e>>>=0,e===0?32:31-(Ht(e)/Da|0)|0}var ln=256,sn=4194304;function ta(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function rn(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var l=0,s=e.suspendedLanes,f=e.pingedLanes;e=e.warmLanes;var g=n&134217727;return g!==0?(n=g&~s,n!==0?l=ta(n):(f&=g,f!==0?l=ta(f):a||(a=g&~e,a!==0&&(l=ta(a))))):(g=n&~s,g!==0?l=ta(g):f!==0?l=ta(f):a||(a=n&~e,a!==0&&(l=ta(a)))),l===0?0:t!==0&&t!==l&&(t&s)===0&&(s=l&-l,a=t&-t,s>=a||s===32&&(a&4194048)!==0)?t:l}function pl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function kh(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mu(){var e=ln;return ln<<=1,(ln&4194048)===0&&(ln=256),e}function Au(){var e=sn;return sn<<=1,(sn&62914560)===0&&(sn=4194304),e}function Xs(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function bl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Bh(e,t,a,n,l,s){var f=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var g=e.entanglements,T=e.expirationTimes,L=e.hiddenUpdates;for(a=f&~a;0<a;){var K=31-Ye(a),P=1<<K;g[K]=0,T[K]=-1;var q=L[K];if(q!==null)for(L[K]=null,K=0;K<q.length;K++){var G=q[K];G!==null&&(G.lane&=-536870913)}a&=~P}n!==0&&ju(e,n,0),s!==0&&l===0&&e.tag!==0&&(e.suspendedLanes|=s&~(f&~t))}function ju(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-Ye(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&4194090}function Du(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-Ye(a),l=1<<n;l&t|e[n]&t&&(e[n]|=t),a&=~l}}function Vs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Zs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function zu(){var e=ae.p;return e!==0?e:(e=window.event,e===void 0?32:dm(e.type))}function Lh(e,t){var a=ae.p;try{return ae.p=e,t()}finally{ae.p=a}}var za=Math.random().toString(36).slice(2),pt="__reactFiber$"+za,St="__reactProps$"+za,Cn="__reactContainer$"+za,Qs="__reactEvents$"+za,Yh="__reactListeners$"+za,qh="__reactHandles$"+za,Ru="__reactResources$"+za,yl="__reactMarker$"+za;function Ks(e){delete e[pt],delete e[St],delete e[Qs],delete e[Yh],delete e[qh]}function Mn(e){var t=e[pt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Cn]||a[pt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Wd(e);e!==null;){if(a=e[pt])return a;e=Wd(e)}return t}e=a,a=e.parentNode}return null}function An(e){if(e=e[pt]||e[Cn]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function vl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function jn(e){var t=e[Ru];return t||(t=e[Ru]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function rt(e){e[yl]=!0}var Ou=new Set,_u={};function cn(e,t){Dn(e,t),Dn(e+"Capture",t)}function Dn(e,t){for(_u[e]=t,e=0;e<t.length;e++)Ou.add(t[e])}var Gh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hu={},Uu={};function Xh(e){return Ge.call(Uu,e)?!0:Ge.call(Hu,e)?!1:Gh.test(e)?Uu[e]=!0:(Hu[e]=!0,!1)}function Si(e,t,a){if(Xh(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Ei(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function da(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}var $s,ku;function zn(e){if($s===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);$s=t&&t[1]||"",ku=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$s+e+ku}var Js=!1;function Ps(e,t){if(!e||Js)return"";Js=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var P=function(){throw Error()};if(Object.defineProperty(P.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(P,[])}catch(G){var q=G}Reflect.construct(e,[],P)}else{try{P.call()}catch(G){q=G}e.call(P.prototype)}}else{try{throw Error()}catch(G){q=G}(P=e())&&typeof P.catch=="function"&&P.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=n.DetermineComponentFrameRoot(),f=s[0],g=s[1];if(f&&g){var T=f.split(`
`),L=g.split(`
`);for(l=n=0;n<T.length&&!T[n].includes("DetermineComponentFrameRoot");)n++;for(;l<L.length&&!L[l].includes("DetermineComponentFrameRoot");)l++;if(n===T.length||l===L.length)for(n=T.length-1,l=L.length-1;1<=n&&0<=l&&T[n]!==L[l];)l--;for(;1<=n&&0<=l;n--,l--)if(T[n]!==L[l]){if(n!==1||l!==1)do if(n--,l--,0>l||T[n]!==L[l]){var K=`
`+T[n].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=n&&0<=l);break}}}finally{Js=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?zn(a):""}function Vh(e){switch(e.tag){case 26:case 27:case 5:return zn(e.type);case 16:return zn("Lazy");case 13:return zn("Suspense");case 19:return zn("SuspenseList");case 0:case 15:return Ps(e.type,!1);case 11:return Ps(e.type.render,!1);case 1:return Ps(e.type,!0);case 31:return zn("Activity");default:return""}}function Bu(e){try{var t="";do t+=Vh(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Lu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Zh(e){var t=Lu(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var l=a.get,s=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(f){n=""+f,s.call(this,f)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(f){n=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wi(e){e._valueTracker||(e._valueTracker=Zh(e))}function Yu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=Lu(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function Ti(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Qh=/[\n"\\]/g;function Bt(e){return e.replace(Qh,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ws(e,t,a,n,l,s,f,g){e.name="",f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.type=f:e.removeAttribute("type"),t!=null?f==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+kt(t)):e.value!==""+kt(t)&&(e.value=""+kt(t)):f!=="submit"&&f!=="reset"||e.removeAttribute("value"),t!=null?Is(e,f,kt(t)):a!=null?Is(e,f,kt(a)):n!=null&&e.removeAttribute("value"),l==null&&s!=null&&(e.defaultChecked=!!s),l!=null&&(e.checked=l&&typeof l!="function"&&typeof l!="symbol"),g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.name=""+kt(g):e.removeAttribute("name")}function qu(e,t,a,n,l,s,f,g){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||a!=null){if(!(s!=="submit"&&s!=="reset"||t!=null))return;a=a!=null?""+kt(a):"",t=t!=null?""+kt(t):a,g||t===e.value||(e.value=t),e.defaultValue=t}n=n??l,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=g?e.checked:!!n,e.defaultChecked=!!n,f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.name=f)}function Is(e,t,a){t==="number"&&Ti(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Rn(e,t,a,n){if(e=e.options,t){t={};for(var l=0;l<a.length;l++)t["$"+a[l]]=!0;for(a=0;a<e.length;a++)l=t.hasOwnProperty("$"+e[a].value),e[a].selected!==l&&(e[a].selected=l),l&&n&&(e[a].defaultSelected=!0)}else{for(a=""+kt(a),t=null,l=0;l<e.length;l++){if(e[l].value===a){e[l].selected=!0,n&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Gu(e,t,a){if(t!=null&&(t=""+kt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+kt(a):""}function Xu(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(r(92));if(ye(n)){if(1<n.length)throw Error(r(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=kt(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n)}function On(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Kh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vu(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||Kh.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Zu(e,t,a){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var l in t)n=t[l],t.hasOwnProperty(l)&&a[l]!==n&&Vu(e,l,n)}else for(var s in t)t.hasOwnProperty(s)&&Vu(e,s,t[s])}function Fs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $h=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ni(e){return Jh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var er=null;function tr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _n=null,Hn=null;function Qu(e){var t=An(e);if(t&&(e=t.stateNode)){var a=e[St]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ws(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Bt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var l=n[St]||null;if(!l)throw Error(r(90));Ws(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&Yu(n)}break e;case"textarea":Gu(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Rn(e,!!a.multiple,t,!1)}}}var ar=!1;function Ku(e,t,a){if(ar)return e(t,a);ar=!0;try{var n=e(t);return n}finally{if(ar=!1,(_n!==null||Hn!==null)&&(os(),_n&&(t=_n,e=Hn,Hn=_n=null,Qu(t),e)))for(t=0;t<e.length;t++)Qu(e[t])}}function xl(e,t){var a=e.stateNode;if(a===null)return null;var n=a[St]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,t,typeof a));return a}var ma=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nr=!1;if(ma)try{var Sl={};Object.defineProperty(Sl,"passive",{get:function(){nr=!0}}),window.addEventListener("test",Sl,Sl),window.removeEventListener("test",Sl,Sl)}catch{nr=!1}var Ra=null,lr=null,Ci=null;function $u(){if(Ci)return Ci;var e,t=lr,a=t.length,n,l="value"in Ra?Ra.value:Ra.textContent,s=l.length;for(e=0;e<a&&t[e]===l[e];e++);var f=a-e;for(n=1;n<=f&&t[a-n]===l[s-n];n++);return Ci=l.slice(e,1<n?1-n:void 0)}function Mi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ai(){return!0}function Ju(){return!1}function Et(e){function t(a,n,l,s,f){this._reactName=a,this._targetInst=l,this.type=n,this.nativeEvent=s,this.target=f,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(a=e[g],this[g]=a?a(s):s[g]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ai:Ju,this.isPropagationStopped=Ju,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ai)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ai)},persist:function(){},isPersistent:Ai}),t}var un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ji=Et(un),El=v({},un,{view:0,detail:0}),Ph=Et(El),ir,sr,wl,Di=v({},El,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wl&&(wl&&e.type==="mousemove"?(ir=e.screenX-wl.screenX,sr=e.screenY-wl.screenY):sr=ir=0,wl=e),ir)},movementY:function(e){return"movementY"in e?e.movementY:sr}}),Pu=Et(Di),Wh=v({},Di,{dataTransfer:0}),Ih=Et(Wh),Fh=v({},El,{relatedTarget:0}),rr=Et(Fh),e0=v({},un,{animationName:0,elapsedTime:0,pseudoElement:0}),t0=Et(e0),a0=v({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),n0=Et(a0),l0=v({},un,{data:0}),Wu=Et(l0),i0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},r0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function c0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=r0[e])?!!t[e]:!1}function cr(){return c0}var u0=v({},El,{key:function(e){if(e.key){var t=i0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Mi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?s0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cr,charCode:function(e){return e.type==="keypress"?Mi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Mi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),o0=Et(u0),f0=v({},Di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Iu=Et(f0),d0=v({},El,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cr}),m0=Et(d0),h0=v({},un,{propertyName:0,elapsedTime:0,pseudoElement:0}),g0=Et(h0),p0=v({},Di,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),b0=Et(p0),y0=v({},un,{newState:0,oldState:0}),v0=Et(y0),x0=[9,13,27,32],ur=ma&&"CompositionEvent"in window,Tl=null;ma&&"documentMode"in document&&(Tl=document.documentMode);var S0=ma&&"TextEvent"in window&&!Tl,Fu=ma&&(!ur||Tl&&8<Tl&&11>=Tl),eo=" ",to=!1;function ao(e,t){switch(e){case"keyup":return x0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function no(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Un=!1;function E0(e,t){switch(e){case"compositionend":return no(t);case"keypress":return t.which!==32?null:(to=!0,eo);case"textInput":return e=t.data,e===eo&&to?null:e;default:return null}}function w0(e,t){if(Un)return e==="compositionend"||!ur&&ao(e,t)?(e=$u(),Ci=lr=Ra=null,Un=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fu&&t.locale!=="ko"?null:t.data;default:return null}}var T0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!T0[e.type]:t==="textarea"}function io(e,t,a,n){_n?Hn?Hn.push(n):Hn=[n]:_n=n,t=ps(t,"onChange"),0<t.length&&(a=new ji("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var Nl=null,Cl=null;function N0(e){qd(e,0)}function zi(e){var t=vl(e);if(Yu(t))return e}function so(e,t){if(e==="change")return t}var ro=!1;if(ma){var or;if(ma){var fr="oninput"in document;if(!fr){var co=document.createElement("div");co.setAttribute("oninput","return;"),fr=typeof co.oninput=="function"}or=fr}else or=!1;ro=or&&(!document.documentMode||9<document.documentMode)}function uo(){Nl&&(Nl.detachEvent("onpropertychange",oo),Cl=Nl=null)}function oo(e){if(e.propertyName==="value"&&zi(Cl)){var t=[];io(t,Cl,e,tr(e)),Ku(N0,t)}}function C0(e,t,a){e==="focusin"?(uo(),Nl=t,Cl=a,Nl.attachEvent("onpropertychange",oo)):e==="focusout"&&uo()}function M0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zi(Cl)}function A0(e,t){if(e==="click")return zi(t)}function j0(e,t){if(e==="input"||e==="change")return zi(t)}function D0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var At=typeof Object.is=="function"?Object.is:D0;function Ml(e,t){if(At(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var l=a[n];if(!Ge.call(t,l)||!At(e[l],t[l]))return!1}return!0}function fo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mo(e,t){var a=fo(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=fo(a)}}function ho(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ho(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function go(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ti(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Ti(e.document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var z0=ma&&"documentMode"in document&&11>=document.documentMode,kn=null,mr=null,Al=null,hr=!1;function po(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;hr||kn==null||kn!==Ti(n)||(n=kn,"selectionStart"in n&&dr(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Al&&Ml(Al,n)||(Al=n,n=ps(mr,"onSelect"),0<n.length&&(t=new ji("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=kn)))}function on(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Bn={animationend:on("Animation","AnimationEnd"),animationiteration:on("Animation","AnimationIteration"),animationstart:on("Animation","AnimationStart"),transitionrun:on("Transition","TransitionRun"),transitionstart:on("Transition","TransitionStart"),transitioncancel:on("Transition","TransitionCancel"),transitionend:on("Transition","TransitionEnd")},gr={},bo={};ma&&(bo=document.createElement("div").style,"AnimationEvent"in window||(delete Bn.animationend.animation,delete Bn.animationiteration.animation,delete Bn.animationstart.animation),"TransitionEvent"in window||delete Bn.transitionend.transition);function fn(e){if(gr[e])return gr[e];if(!Bn[e])return e;var t=Bn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in bo)return gr[e]=t[a];return e}var yo=fn("animationend"),vo=fn("animationiteration"),xo=fn("animationstart"),R0=fn("transitionrun"),O0=fn("transitionstart"),_0=fn("transitioncancel"),So=fn("transitionend"),Eo=new Map,pr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pr.push("scrollEnd");function $t(e,t){Eo.set(e,t),cn(t,[e])}var wo=new WeakMap;function Lt(e,t){if(typeof e=="object"&&e!==null){var a=wo.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Bu(t)},wo.set(e,t),t)}return{value:e,source:t,stack:Bu(t)}}var Yt=[],Ln=0,br=0;function Ri(){for(var e=Ln,t=br=Ln=0;t<e;){var a=Yt[t];Yt[t++]=null;var n=Yt[t];Yt[t++]=null;var l=Yt[t];Yt[t++]=null;var s=Yt[t];if(Yt[t++]=null,n!==null&&l!==null){var f=n.pending;f===null?l.next=l:(l.next=f.next,f.next=l),n.pending=l}s!==0&&To(a,l,s)}}function Oi(e,t,a,n){Yt[Ln++]=e,Yt[Ln++]=t,Yt[Ln++]=a,Yt[Ln++]=n,br|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function yr(e,t,a,n){return Oi(e,t,a,n),_i(e)}function Yn(e,t){return Oi(e,null,null,t),_i(e)}function To(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var l=!1,s=e.return;s!==null;)s.childLanes|=a,n=s.alternate,n!==null&&(n.childLanes|=a),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(l=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,l&&t!==null&&(l=31-Ye(a),e=s.hiddenUpdates,n=e[l],n===null?e[l]=[t]:n.push(t),t.lane=a|536870912),s):null}function _i(e){if(50<Fl)throw Fl=0,Tc=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var qn={};function H0(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(e,t,a,n){return new H0(e,t,a,n)}function vr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ha(e,t){var a=e.alternate;return a===null?(a=jt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function No(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Hi(e,t,a,n,l,s){var f=0;if(n=e,typeof e=="function")vr(e)&&(f=1);else if(typeof e=="string")f=kg(e,a,ie.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case V:return e=jt(31,a,t,l),e.elementType=V,e.lanes=s,e;case D:return dn(a.children,l,s,t);case x:f=8,l|=24;break;case E:return e=jt(12,a,t,l|2),e.elementType=E,e.lanes=s,e;case z:return e=jt(13,a,t,l),e.elementType=z,e.lanes=s,e;case X:return e=jt(19,a,t,l),e.elementType=X,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case C:case U:f=10;break e;case _:f=9;break e;case H:f=11;break e;case j:f=14;break e;case y:f=16,n=null;break e}f=29,a=Error(r(130,e===null?"null":typeof e,"")),n=null}return t=jt(f,a,t,l),t.elementType=e,t.type=n,t.lanes=s,t}function dn(e,t,a,n){return e=jt(7,e,n,t),e.lanes=a,e}function xr(e,t,a){return e=jt(6,e,null,t),e.lanes=a,e}function Sr(e,t,a){return t=jt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Gn=[],Xn=0,Ui=null,ki=0,qt=[],Gt=0,mn=null,ga=1,pa="";function hn(e,t){Gn[Xn++]=ki,Gn[Xn++]=Ui,Ui=e,ki=t}function Co(e,t,a){qt[Gt++]=ga,qt[Gt++]=pa,qt[Gt++]=mn,mn=e;var n=ga;e=pa;var l=32-Ye(n)-1;n&=~(1<<l),a+=1;var s=32-Ye(t)+l;if(30<s){var f=l-l%5;s=(n&(1<<f)-1).toString(32),n>>=f,l-=f,ga=1<<32-Ye(t)+l|a<<l|n,pa=s+e}else ga=1<<s|a<<l|n,pa=e}function Er(e){e.return!==null&&(hn(e,1),Co(e,1,0))}function wr(e){for(;e===Ui;)Ui=Gn[--Xn],Gn[Xn]=null,ki=Gn[--Xn],Gn[Xn]=null;for(;e===mn;)mn=qt[--Gt],qt[Gt]=null,pa=qt[--Gt],qt[Gt]=null,ga=qt[--Gt],qt[Gt]=null}var vt=null,$e=null,De=!1,gn=null,aa=!1,Tr=Error(r(519));function pn(e){var t=Error(r(418,""));throw zl(Lt(t,e)),Tr}function Mo(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[pt]=e,t[St]=n,a){case"dialog":Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":case"embed":Ne("load",t);break;case"video":case"audio":for(a=0;a<ti.length;a++)Ne(ti[a],t);break;case"source":Ne("error",t);break;case"img":case"image":case"link":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"input":Ne("invalid",t),qu(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),wi(t);break;case"select":Ne("invalid",t);break;case"textarea":Ne("invalid",t),Xu(t,n.value,n.defaultValue,n.children),wi(t)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||Zd(t.textContent,a)?(n.popover!=null&&(Ne("beforetoggle",t),Ne("toggle",t)),n.onScroll!=null&&Ne("scroll",t),n.onScrollEnd!=null&&Ne("scrollend",t),n.onClick!=null&&(t.onclick=bs),t=!0):t=!1,t||pn(e)}function Ao(e){for(vt=e.return;vt;)switch(vt.tag){case 5:case 13:aa=!1;return;case 27:case 3:aa=!0;return;default:vt=vt.return}}function jl(e){if(e!==vt)return!1;if(!De)return Ao(e),De=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Yc(e.type,e.memoizedProps)),a=!a),a&&$e&&pn(e),Ao(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){$e=Pt(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}$e=null}}else t===27?(t=$e,$a(e.type)?(e=Vc,Vc=null,$e=e):$e=t):$e=vt?Pt(e.stateNode.nextSibling):null;return!0}function Dl(){$e=vt=null,De=!1}function jo(){var e=gn;return e!==null&&(Nt===null?Nt=e:Nt.push.apply(Nt,e),gn=null),e}function zl(e){gn===null?gn=[e]:gn.push(e)}var Nr=Z(null),bn=null,ba=null;function Oa(e,t,a){te(Nr,t._currentValue),t._currentValue=a}function ya(e){e._currentValue=Nr.current,ne(Nr)}function Cr(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function Mr(e,t,a,n){var l=e.child;for(l!==null&&(l.return=e);l!==null;){var s=l.dependencies;if(s!==null){var f=l.child;s=s.firstContext;e:for(;s!==null;){var g=s;s=l;for(var T=0;T<t.length;T++)if(g.context===t[T]){s.lanes|=a,g=s.alternate,g!==null&&(g.lanes|=a),Cr(s.return,a,e),n||(f=null);break e}s=g.next}}else if(l.tag===18){if(f=l.return,f===null)throw Error(r(341));f.lanes|=a,s=f.alternate,s!==null&&(s.lanes|=a),Cr(f,a,e),f=null}else f=l.child;if(f!==null)f.return=l;else for(f=l;f!==null;){if(f===e){f=null;break}if(l=f.sibling,l!==null){l.return=f.return,f=l;break}f=f.return}l=f}}function Rl(e,t,a,n){e=null;for(var l=t,s=!1;l!==null;){if(!s){if((l.flags&524288)!==0)s=!0;else if((l.flags&262144)!==0)break}if(l.tag===10){var f=l.alternate;if(f===null)throw Error(r(387));if(f=f.memoizedProps,f!==null){var g=l.type;At(l.pendingProps.value,f.value)||(e!==null?e.push(g):e=[g])}}else if(l===J.current){if(f=l.alternate,f===null)throw Error(r(387));f.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(e!==null?e.push(ri):e=[ri])}l=l.return}e!==null&&Mr(t,e,a,n),t.flags|=262144}function Bi(e){for(e=e.firstContext;e!==null;){if(!At(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function yn(e){bn=e,ba=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function bt(e){return Do(bn,e)}function Li(e,t){return bn===null&&yn(e),Do(e,t)}function Do(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ba===null){if(e===null)throw Error(r(308));ba=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ba=ba.next=t;return a}var U0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},k0=i.unstable_scheduleCallback,B0=i.unstable_NormalPriority,lt={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ar(){return{controller:new U0,data:new Map,refCount:0}}function Ol(e){e.refCount--,e.refCount===0&&k0(B0,function(){e.controller.abort()})}var _l=null,jr=0,Vn=0,Zn=null;function L0(e,t){if(_l===null){var a=_l=[];jr=0,Vn=zc(),Zn={status:"pending",value:void 0,then:function(n){a.push(n)}}}return jr++,t.then(zo,zo),t}function zo(){if(--jr===0&&_l!==null){Zn!==null&&(Zn.status="fulfilled");var e=_l;_l=null,Vn=0,Zn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Y0(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(l){a.push(l)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var l=0;l<a.length;l++)(0,a[l])(t)},function(l){for(n.status="rejected",n.reason=l,l=0;l<a.length;l++)(0,a[l])(void 0)}),n}var Ro=Y.S;Y.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&L0(e,t),Ro!==null&&Ro(e,t)};var vn=Z(null);function Dr(){var e=vn.current;return e!==null?e:Le.pooledCache}function Yi(e,t){t===null?te(vn,vn.current):te(vn,t.pool)}function Oo(){var e=Dr();return e===null?null:{parent:lt._currentValue,pool:e}}var Hl=Error(r(460)),_o=Error(r(474)),qi=Error(r(542)),zr={then:function(){}};function Ho(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Gi(){}function Uo(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Gi,Gi),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Bo(e),e;default:if(typeof t.status=="string")t.then(Gi,Gi);else{if(e=Le,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var l=t;l.status="fulfilled",l.value=n}},function(n){if(t.status==="pending"){var l=t;l.status="rejected",l.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Bo(e),e}throw Ul=t,Hl}}var Ul=null;function ko(){if(Ul===null)throw Error(r(459));var e=Ul;return Ul=null,e}function Bo(e){if(e===Hl||e===qi)throw Error(r(483))}var _a=!1;function Rr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Or(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ha(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ua(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(ze&2)!==0){var l=n.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),n.pending=t,t=_i(e),To(e,null,a),t}return Oi(e,n,t,a),_i(e)}function kl(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Du(e,a)}}function _r(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var l=null,s=null;if(a=a.firstBaseUpdate,a!==null){do{var f={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};s===null?l=s=f:s=s.next=f,a=a.next}while(a!==null);s===null?l=s=t:s=s.next=t}else l=s=t;a={baseState:n.baseState,firstBaseUpdate:l,lastBaseUpdate:s,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Hr=!1;function Bl(){if(Hr){var e=Zn;if(e!==null)throw e}}function Ll(e,t,a,n){Hr=!1;var l=e.updateQueue;_a=!1;var s=l.firstBaseUpdate,f=l.lastBaseUpdate,g=l.shared.pending;if(g!==null){l.shared.pending=null;var T=g,L=T.next;T.next=null,f===null?s=L:f.next=L,f=T;var K=e.alternate;K!==null&&(K=K.updateQueue,g=K.lastBaseUpdate,g!==f&&(g===null?K.firstBaseUpdate=L:g.next=L,K.lastBaseUpdate=T))}if(s!==null){var P=l.baseState;f=0,K=L=T=null,g=s;do{var q=g.lane&-536870913,G=q!==g.lane;if(G?(Me&q)===q:(n&q)===q){q!==0&&q===Vn&&(Hr=!0),K!==null&&(K=K.next={lane:0,tag:g.tag,payload:g.payload,callback:null,next:null});e:{var pe=e,he=g;q=t;var He=a;switch(he.tag){case 1:if(pe=he.payload,typeof pe=="function"){P=pe.call(He,P,q);break e}P=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=he.payload,q=typeof pe=="function"?pe.call(He,P,q):pe,q==null)break e;P=v({},P,q);break e;case 2:_a=!0}}q=g.callback,q!==null&&(e.flags|=64,G&&(e.flags|=8192),G=l.callbacks,G===null?l.callbacks=[q]:G.push(q))}else G={lane:q,tag:g.tag,payload:g.payload,callback:g.callback,next:null},K===null?(L=K=G,T=P):K=K.next=G,f|=q;if(g=g.next,g===null){if(g=l.shared.pending,g===null)break;G=g,g=G.next,G.next=null,l.lastBaseUpdate=G,l.shared.pending=null}}while(!0);K===null&&(T=P),l.baseState=T,l.firstBaseUpdate=L,l.lastBaseUpdate=K,s===null&&(l.shared.lanes=0),Va|=f,e.lanes=f,e.memoizedState=P}}function Lo(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Yo(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Lo(a[e],t)}var Qn=Z(null),Xi=Z(0);function qo(e,t){e=Na,te(Xi,e),te(Qn,t),Na=e|t.baseLanes}function Ur(){te(Xi,Na),te(Qn,Qn.current)}function kr(){Na=Xi.current,ne(Qn),ne(Xi)}var ka=0,xe=null,Oe=null,at=null,Vi=!1,Kn=!1,xn=!1,Zi=0,Yl=0,$n=null,q0=0;function Fe(){throw Error(r(321))}function Br(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!At(e[a],t[a]))return!1;return!0}function Lr(e,t,a,n,l,s){return ka=s,xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Y.H=e===null||e.memoizedState===null?Nf:Cf,xn=!1,s=a(n,l),xn=!1,Kn&&(s=Xo(t,a,n,l)),Go(e),s}function Go(e){Y.H=Wi;var t=Oe!==null&&Oe.next!==null;if(ka=0,at=Oe=xe=null,Vi=!1,Yl=0,$n=null,t)throw Error(r(300));e===null||ct||(e=e.dependencies,e!==null&&Bi(e)&&(ct=!0))}function Xo(e,t,a,n){xe=e;var l=0;do{if(Kn&&($n=null),Yl=0,Kn=!1,25<=l)throw Error(r(301));if(l+=1,at=Oe=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}Y.H=$0,s=t(a,n)}while(Kn);return s}function G0(){var e=Y.H,t=e.useState()[0];return t=typeof t.then=="function"?ql(t):t,e=e.useState()[0],(Oe!==null?Oe.memoizedState:null)!==e&&(xe.flags|=1024),t}function Yr(){var e=Zi!==0;return Zi=0,e}function qr(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Gr(e){if(Vi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Vi=!1}ka=0,at=Oe=xe=null,Kn=!1,Yl=Zi=0,$n=null}function wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?xe.memoizedState=at=e:at=at.next=e,at}function nt(){if(Oe===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=Oe.next;var t=at===null?xe.memoizedState:at.next;if(t!==null)at=t,Oe=e;else{if(e===null)throw xe.alternate===null?Error(r(467)):Error(r(310));Oe=e,e={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},at===null?xe.memoizedState=at=e:at=at.next=e}return at}function Xr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ql(e){var t=Yl;return Yl+=1,$n===null&&($n=[]),e=Uo($n,e,t),t=xe,(at===null?t.memoizedState:at.next)===null&&(t=t.alternate,Y.H=t===null||t.memoizedState===null?Nf:Cf),e}function Qi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ql(e);if(e.$$typeof===U)return bt(e)}throw Error(r(438,String(e)))}function Vr(e){var t=null,a=xe.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=xe.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(l){return l.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Xr(),xe.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=F;return t.index++,a}function va(e,t){return typeof t=="function"?t(e):t}function Ki(e){var t=nt();return Zr(t,Oe,e)}function Zr(e,t,a){var n=e.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=a;var l=e.baseQueue,s=n.pending;if(s!==null){if(l!==null){var f=l.next;l.next=s.next,s.next=f}t.baseQueue=l=s,n.pending=null}if(s=e.baseState,l===null)e.memoizedState=s;else{t=l.next;var g=f=null,T=null,L=t,K=!1;do{var P=L.lane&-536870913;if(P!==L.lane?(Me&P)===P:(ka&P)===P){var q=L.revertLane;if(q===0)T!==null&&(T=T.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),P===Vn&&(K=!0);else if((ka&q)===q){L=L.next,q===Vn&&(K=!0);continue}else P={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},T===null?(g=T=P,f=s):T=T.next=P,xe.lanes|=q,Va|=q;P=L.action,xn&&a(s,P),s=L.hasEagerState?L.eagerState:a(s,P)}else q={lane:P,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},T===null?(g=T=q,f=s):T=T.next=q,xe.lanes|=P,Va|=P;L=L.next}while(L!==null&&L!==t);if(T===null?f=s:T.next=g,!At(s,e.memoizedState)&&(ct=!0,K&&(a=Zn,a!==null)))throw a;e.memoizedState=s,e.baseState=f,e.baseQueue=T,n.lastRenderedState=s}return l===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Qr(e){var t=nt(),a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var n=a.dispatch,l=a.pending,s=t.memoizedState;if(l!==null){a.pending=null;var f=l=l.next;do s=e(s,f.action),f=f.next;while(f!==l);At(s,t.memoizedState)||(ct=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),a.lastRenderedState=s}return[s,n]}function Vo(e,t,a){var n=xe,l=nt(),s=De;if(s){if(a===void 0)throw Error(r(407));a=a()}else a=t();var f=!At((Oe||l).memoizedState,a);f&&(l.memoizedState=a,ct=!0),l=l.queue;var g=Ko.bind(null,n,l,e);if(Gl(2048,8,g,[e]),l.getSnapshot!==t||f||at!==null&&at.memoizedState.tag&1){if(n.flags|=2048,Jn(9,$i(),Qo.bind(null,n,l,a,t),null),Le===null)throw Error(r(349));s||(ka&124)!==0||Zo(n,t,a)}return a}function Zo(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=xe.updateQueue,t===null?(t=Xr(),xe.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Qo(e,t,a,n){t.value=a,t.getSnapshot=n,$o(t)&&Jo(e)}function Ko(e,t,a){return a(function(){$o(t)&&Jo(e)})}function $o(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!At(e,a)}catch{return!0}}function Jo(e){var t=Yn(e,2);t!==null&&_t(t,e,2)}function Kr(e){var t=wt();if(typeof e=="function"){var a=e;if(e=a(),xn){Ve(!0);try{a()}finally{Ve(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:e},t}function Po(e,t,a,n){return e.baseState=a,Zr(e,Oe,typeof n=="function"?n:va)}function X0(e,t,a,n,l){if(Pi(e))throw Error(r(485));if(e=t.action,e!==null){var s={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(f){s.listeners.push(f)}};Y.T!==null?a(!0):s.isTransition=!1,n(s),a=t.pending,a===null?(s.next=t.pending=s,Wo(t,s)):(s.next=a.next,t.pending=a.next=s)}}function Wo(e,t){var a=t.action,n=t.payload,l=e.state;if(t.isTransition){var s=Y.T,f={};Y.T=f;try{var g=a(l,n),T=Y.S;T!==null&&T(f,g),Io(e,t,g)}catch(L){$r(e,t,L)}finally{Y.T=s}}else try{s=a(l,n),Io(e,t,s)}catch(L){$r(e,t,L)}}function Io(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){Fo(e,t,n)},function(n){return $r(e,t,n)}):Fo(e,t,a)}function Fo(e,t,a){t.status="fulfilled",t.value=a,ef(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Wo(e,a)))}function $r(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,ef(t),t=t.next;while(t!==n)}e.action=null}function ef(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function tf(e,t){return t}function af(e,t){if(De){var a=Le.formState;if(a!==null){e:{var n=xe;if(De){if($e){t:{for(var l=$e,s=aa;l.nodeType!==8;){if(!s){l=null;break t}if(l=Pt(l.nextSibling),l===null){l=null;break t}}s=l.data,l=s==="F!"||s==="F"?l:null}if(l){$e=Pt(l.nextSibling),n=l.data==="F!";break e}}pn(n)}n=!1}n&&(t=a[0])}}return a=wt(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tf,lastRenderedState:t},a.queue=n,a=Ef.bind(null,xe,n),n.dispatch=a,n=Kr(!1),s=Fr.bind(null,xe,!1,n.queue),n=wt(),l={state:t,dispatch:null,action:e,pending:null},n.queue=l,a=X0.bind(null,xe,l,s,a),l.dispatch=a,n.memoizedState=e,[t,a,!1]}function nf(e){var t=nt();return lf(t,Oe,e)}function lf(e,t,a){if(t=Zr(e,t,tf)[0],e=Ki(va)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=ql(t)}catch(f){throw f===Hl?qi:f}else n=t;t=nt();var l=t.queue,s=l.dispatch;return a!==t.memoizedState&&(xe.flags|=2048,Jn(9,$i(),V0.bind(null,l,a),null)),[n,s,e]}function V0(e,t){e.action=t}function sf(e){var t=nt(),a=Oe;if(a!==null)return lf(t,a,e);nt(),t=t.memoizedState,a=nt();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function Jn(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=xe.updateQueue,t===null&&(t=Xr(),xe.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function $i(){return{destroy:void 0,resource:void 0}}function rf(){return nt().memoizedState}function Ji(e,t,a,n){var l=wt();n=n===void 0?null:n,xe.flags|=e,l.memoizedState=Jn(1|t,$i(),a,n)}function Gl(e,t,a,n){var l=nt();n=n===void 0?null:n;var s=l.memoizedState.inst;Oe!==null&&n!==null&&Br(n,Oe.memoizedState.deps)?l.memoizedState=Jn(t,s,a,n):(xe.flags|=e,l.memoizedState=Jn(1|t,s,a,n))}function cf(e,t){Ji(8390656,8,e,t)}function uf(e,t){Gl(2048,8,e,t)}function of(e,t){return Gl(4,2,e,t)}function ff(e,t){return Gl(4,4,e,t)}function df(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mf(e,t,a){a=a!=null?a.concat([e]):null,Gl(4,4,df.bind(null,t,e),a)}function Jr(){}function hf(e,t){var a=nt();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&Br(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function gf(e,t){var a=nt();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&Br(t,n[1]))return n[0];if(n=e(),xn){Ve(!0);try{e()}finally{Ve(!1)}}return a.memoizedState=[n,t],n}function Pr(e,t,a){return a===void 0||(ka&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=yd(),xe.lanes|=e,Va|=e,a)}function pf(e,t,a,n){return At(a,t)?a:Qn.current!==null?(e=Pr(e,a,n),At(e,t)||(ct=!0),e):(ka&42)===0?(ct=!0,e.memoizedState=a):(e=yd(),xe.lanes|=e,Va|=e,t)}function bf(e,t,a,n,l){var s=ae.p;ae.p=s!==0&&8>s?s:8;var f=Y.T,g={};Y.T=g,Fr(e,!1,t,a);try{var T=l(),L=Y.S;if(L!==null&&L(g,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var K=Y0(T,n);Xl(e,t,K,Ot(e))}else Xl(e,t,n,Ot(e))}catch(P){Xl(e,t,{then:function(){},status:"rejected",reason:P},Ot())}finally{ae.p=s,Y.T=f}}function Z0(){}function Wr(e,t,a,n){if(e.tag!==5)throw Error(r(476));var l=yf(e).queue;bf(e,l,t,W,a===null?Z0:function(){return vf(e),a(n)})}function yf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:W},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function vf(e){var t=yf(e).next.queue;Xl(e,t,{},Ot())}function Ir(){return bt(ri)}function xf(){return nt().memoizedState}function Sf(){return nt().memoizedState}function Q0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Ot();e=Ha(a);var n=Ua(t,e,a);n!==null&&(_t(n,t,a),kl(n,t,a)),t={cache:Ar()},e.payload=t;return}t=t.return}}function K0(e,t,a){var n=Ot();a={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Pi(e)?wf(t,a):(a=yr(e,t,a,n),a!==null&&(_t(a,e,n),Tf(a,t,n)))}function Ef(e,t,a){var n=Ot();Xl(e,t,a,n)}function Xl(e,t,a,n){var l={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Pi(e))wf(t,l);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var f=t.lastRenderedState,g=s(f,a);if(l.hasEagerState=!0,l.eagerState=g,At(g,f))return Oi(e,t,l,0),Le===null&&Ri(),!1}catch{}finally{}if(a=yr(e,t,l,n),a!==null)return _t(a,e,n),Tf(a,t,n),!0}return!1}function Fr(e,t,a,n){if(n={lane:2,revertLane:zc(),action:n,hasEagerState:!1,eagerState:null,next:null},Pi(e)){if(t)throw Error(r(479))}else t=yr(e,a,n,2),t!==null&&_t(t,e,2)}function Pi(e){var t=e.alternate;return e===xe||t!==null&&t===xe}function wf(e,t){Kn=Vi=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Tf(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Du(e,a)}}var Wi={readContext:bt,use:Qi,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useLayoutEffect:Fe,useInsertionEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useSyncExternalStore:Fe,useId:Fe,useHostTransitionStatus:Fe,useFormState:Fe,useActionState:Fe,useOptimistic:Fe,useMemoCache:Fe,useCacheRefresh:Fe},Nf={readContext:bt,use:Qi,useCallback:function(e,t){return wt().memoizedState=[e,t===void 0?null:t],e},useContext:bt,useEffect:cf,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Ji(4194308,4,df.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Ji(4194308,4,e,t)},useInsertionEffect:function(e,t){Ji(4,2,e,t)},useMemo:function(e,t){var a=wt();t=t===void 0?null:t;var n=e();if(xn){Ve(!0);try{e()}finally{Ve(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=wt();if(a!==void 0){var l=a(t);if(xn){Ve(!0);try{a(t)}finally{Ve(!1)}}}else l=t;return n.memoizedState=n.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},n.queue=e,e=e.dispatch=K0.bind(null,xe,e),[n.memoizedState,e]},useRef:function(e){var t=wt();return e={current:e},t.memoizedState=e},useState:function(e){e=Kr(e);var t=e.queue,a=Ef.bind(null,xe,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Jr,useDeferredValue:function(e,t){var a=wt();return Pr(a,e,t)},useTransition:function(){var e=Kr(!1);return e=bf.bind(null,xe,e.queue,!0,!1),wt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=xe,l=wt();if(De){if(a===void 0)throw Error(r(407));a=a()}else{if(a=t(),Le===null)throw Error(r(349));(Me&124)!==0||Zo(n,t,a)}l.memoizedState=a;var s={value:a,getSnapshot:t};return l.queue=s,cf(Ko.bind(null,n,s,e),[e]),n.flags|=2048,Jn(9,$i(),Qo.bind(null,n,s,a,t),null),a},useId:function(){var e=wt(),t=Le.identifierPrefix;if(De){var a=pa,n=ga;a=(n&~(1<<32-Ye(n)-1)).toString(32)+a,t=""+t+"R"+a,a=Zi++,0<a&&(t+="H"+a.toString(32)),t+=""}else a=q0++,t=""+t+"r"+a.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Ir,useFormState:af,useActionState:af,useOptimistic:function(e){var t=wt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Fr.bind(null,xe,!0,a),a.dispatch=t,[e,t]},useMemoCache:Vr,useCacheRefresh:function(){return wt().memoizedState=Q0.bind(null,xe)}},Cf={readContext:bt,use:Qi,useCallback:hf,useContext:bt,useEffect:uf,useImperativeHandle:mf,useInsertionEffect:of,useLayoutEffect:ff,useMemo:gf,useReducer:Ki,useRef:rf,useState:function(){return Ki(va)},useDebugValue:Jr,useDeferredValue:function(e,t){var a=nt();return pf(a,Oe.memoizedState,e,t)},useTransition:function(){var e=Ki(va)[0],t=nt().memoizedState;return[typeof e=="boolean"?e:ql(e),t]},useSyncExternalStore:Vo,useId:xf,useHostTransitionStatus:Ir,useFormState:nf,useActionState:nf,useOptimistic:function(e,t){var a=nt();return Po(a,Oe,e,t)},useMemoCache:Vr,useCacheRefresh:Sf},$0={readContext:bt,use:Qi,useCallback:hf,useContext:bt,useEffect:uf,useImperativeHandle:mf,useInsertionEffect:of,useLayoutEffect:ff,useMemo:gf,useReducer:Qr,useRef:rf,useState:function(){return Qr(va)},useDebugValue:Jr,useDeferredValue:function(e,t){var a=nt();return Oe===null?Pr(a,e,t):pf(a,Oe.memoizedState,e,t)},useTransition:function(){var e=Qr(va)[0],t=nt().memoizedState;return[typeof e=="boolean"?e:ql(e),t]},useSyncExternalStore:Vo,useId:xf,useHostTransitionStatus:Ir,useFormState:sf,useActionState:sf,useOptimistic:function(e,t){var a=nt();return Oe!==null?Po(a,Oe,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Vr,useCacheRefresh:Sf},Pn=null,Vl=0;function Ii(e){var t=Vl;return Vl+=1,Pn===null&&(Pn=[]),Uo(Pn,e,t)}function Zl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Fi(e,t){throw t.$$typeof===A?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Mf(e){var t=e._init;return t(e._payload)}function Af(e){function t(k,O){if(e){var B=k.deletions;B===null?(k.deletions=[O],k.flags|=16):B.push(O)}}function a(k,O){if(!e)return null;for(;O!==null;)t(k,O),O=O.sibling;return null}function n(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function l(k,O){return k=ha(k,O),k.index=0,k.sibling=null,k}function s(k,O,B){return k.index=B,e?(B=k.alternate,B!==null?(B=B.index,B<O?(k.flags|=67108866,O):B):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function f(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function g(k,O,B,$){return O===null||O.tag!==6?(O=xr(B,k.mode,$),O.return=k,O):(O=l(O,B),O.return=k,O)}function T(k,O,B,$){var re=B.type;return re===D?K(k,O,B.props.children,$,B.key):O!==null&&(O.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===y&&Mf(re)===O.type)?(O=l(O,B.props),Zl(O,B),O.return=k,O):(O=Hi(B.type,B.key,B.props,null,k.mode,$),Zl(O,B),O.return=k,O)}function L(k,O,B,$){return O===null||O.tag!==4||O.stateNode.containerInfo!==B.containerInfo||O.stateNode.implementation!==B.implementation?(O=Sr(B,k.mode,$),O.return=k,O):(O=l(O,B.children||[]),O.return=k,O)}function K(k,O,B,$,re){return O===null||O.tag!==7?(O=dn(B,k.mode,$,re),O.return=k,O):(O=l(O,B),O.return=k,O)}function P(k,O,B){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=xr(""+O,k.mode,B),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case R:return B=Hi(O.type,O.key,O.props,null,k.mode,B),Zl(B,O),B.return=k,B;case N:return O=Sr(O,k.mode,B),O.return=k,O;case y:var $=O._init;return O=$(O._payload),P(k,O,B)}if(ye(O)||se(O))return O=dn(O,k.mode,B,null),O.return=k,O;if(typeof O.then=="function")return P(k,Ii(O),B);if(O.$$typeof===U)return P(k,Li(k,O),B);Fi(k,O)}return null}function q(k,O,B,$){var re=O!==null?O.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return re!==null?null:g(k,O,""+B,$);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case R:return B.key===re?T(k,O,B,$):null;case N:return B.key===re?L(k,O,B,$):null;case y:return re=B._init,B=re(B._payload),q(k,O,B,$)}if(ye(B)||se(B))return re!==null?null:K(k,O,B,$,null);if(typeof B.then=="function")return q(k,O,Ii(B),$);if(B.$$typeof===U)return q(k,O,Li(k,B),$);Fi(k,B)}return null}function G(k,O,B,$,re){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return k=k.get(B)||null,g(O,k,""+$,re);if(typeof $=="object"&&$!==null){switch($.$$typeof){case R:return k=k.get($.key===null?B:$.key)||null,T(O,k,$,re);case N:return k=k.get($.key===null?B:$.key)||null,L(O,k,$,re);case y:var we=$._init;return $=we($._payload),G(k,O,B,$,re)}if(ye($)||se($))return k=k.get(B)||null,K(O,k,$,re,null);if(typeof $.then=="function")return G(k,O,B,Ii($),re);if($.$$typeof===U)return G(k,O,B,Li(O,$),re);Fi(O,$)}return null}function pe(k,O,B,$){for(var re=null,we=null,fe=O,ge=O=0,ot=null;fe!==null&&ge<B.length;ge++){fe.index>ge?(ot=fe,fe=null):ot=fe.sibling;var je=q(k,fe,B[ge],$);if(je===null){fe===null&&(fe=ot);break}e&&fe&&je.alternate===null&&t(k,fe),O=s(je,O,ge),we===null?re=je:we.sibling=je,we=je,fe=ot}if(ge===B.length)return a(k,fe),De&&hn(k,ge),re;if(fe===null){for(;ge<B.length;ge++)fe=P(k,B[ge],$),fe!==null&&(O=s(fe,O,ge),we===null?re=fe:we.sibling=fe,we=fe);return De&&hn(k,ge),re}for(fe=n(fe);ge<B.length;ge++)ot=G(fe,k,ge,B[ge],$),ot!==null&&(e&&ot.alternate!==null&&fe.delete(ot.key===null?ge:ot.key),O=s(ot,O,ge),we===null?re=ot:we.sibling=ot,we=ot);return e&&fe.forEach(function(Fa){return t(k,Fa)}),De&&hn(k,ge),re}function he(k,O,B,$){if(B==null)throw Error(r(151));for(var re=null,we=null,fe=O,ge=O=0,ot=null,je=B.next();fe!==null&&!je.done;ge++,je=B.next()){fe.index>ge?(ot=fe,fe=null):ot=fe.sibling;var Fa=q(k,fe,je.value,$);if(Fa===null){fe===null&&(fe=ot);break}e&&fe&&Fa.alternate===null&&t(k,fe),O=s(Fa,O,ge),we===null?re=Fa:we.sibling=Fa,we=Fa,fe=ot}if(je.done)return a(k,fe),De&&hn(k,ge),re;if(fe===null){for(;!je.done;ge++,je=B.next())je=P(k,je.value,$),je!==null&&(O=s(je,O,ge),we===null?re=je:we.sibling=je,we=je);return De&&hn(k,ge),re}for(fe=n(fe);!je.done;ge++,je=B.next())je=G(fe,k,ge,je.value,$),je!==null&&(e&&je.alternate!==null&&fe.delete(je.key===null?ge:je.key),O=s(je,O,ge),we===null?re=je:we.sibling=je,we=je);return e&&fe.forEach(function(Jg){return t(k,Jg)}),De&&hn(k,ge),re}function He(k,O,B,$){if(typeof B=="object"&&B!==null&&B.type===D&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case R:e:{for(var re=B.key;O!==null;){if(O.key===re){if(re=B.type,re===D){if(O.tag===7){a(k,O.sibling),$=l(O,B.props.children),$.return=k,k=$;break e}}else if(O.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===y&&Mf(re)===O.type){a(k,O.sibling),$=l(O,B.props),Zl($,B),$.return=k,k=$;break e}a(k,O);break}else t(k,O);O=O.sibling}B.type===D?($=dn(B.props.children,k.mode,$,B.key),$.return=k,k=$):($=Hi(B.type,B.key,B.props,null,k.mode,$),Zl($,B),$.return=k,k=$)}return f(k);case N:e:{for(re=B.key;O!==null;){if(O.key===re)if(O.tag===4&&O.stateNode.containerInfo===B.containerInfo&&O.stateNode.implementation===B.implementation){a(k,O.sibling),$=l(O,B.children||[]),$.return=k,k=$;break e}else{a(k,O);break}else t(k,O);O=O.sibling}$=Sr(B,k.mode,$),$.return=k,k=$}return f(k);case y:return re=B._init,B=re(B._payload),He(k,O,B,$)}if(ye(B))return pe(k,O,B,$);if(se(B)){if(re=se(B),typeof re!="function")throw Error(r(150));return B=re.call(B),he(k,O,B,$)}if(typeof B.then=="function")return He(k,O,Ii(B),$);if(B.$$typeof===U)return He(k,O,Li(k,B),$);Fi(k,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,O!==null&&O.tag===6?(a(k,O.sibling),$=l(O,B),$.return=k,k=$):(a(k,O),$=xr(B,k.mode,$),$.return=k,k=$),f(k)):a(k,O)}return function(k,O,B,$){try{Vl=0;var re=He(k,O,B,$);return Pn=null,re}catch(fe){if(fe===Hl||fe===qi)throw fe;var we=jt(29,fe,null,k.mode);return we.lanes=$,we.return=k,we}finally{}}}var Wn=Af(!0),jf=Af(!1),Xt=Z(null),na=null;function Ba(e){var t=e.alternate;te(it,it.current&1),te(Xt,e),na===null&&(t===null||Qn.current!==null||t.memoizedState!==null)&&(na=e)}function Df(e){if(e.tag===22){if(te(it,it.current),te(Xt,e),na===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(na=e)}}else La()}function La(){te(it,it.current),te(Xt,Xt.current)}function xa(e){ne(Xt),na===e&&(na=null),ne(it)}var it=Z(0);function es(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Xc(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ec(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:v({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var tc={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=Ot(),l=Ha(n);l.payload=t,a!=null&&(l.callback=a),t=Ua(e,l,n),t!==null&&(_t(t,e,n),kl(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=Ot(),l=Ha(n);l.tag=1,l.payload=t,a!=null&&(l.callback=a),t=Ua(e,l,n),t!==null&&(_t(t,e,n),kl(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Ot(),n=Ha(a);n.tag=2,t!=null&&(n.callback=t),t=Ua(e,n,a),t!==null&&(_t(t,e,a),kl(t,e,a))}};function zf(e,t,a,n,l,s,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,f):t.prototype&&t.prototype.isPureReactComponent?!Ml(a,n)||!Ml(l,s):!0}function Rf(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&tc.enqueueReplaceState(t,t.state,null)}function Sn(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=v({},a));for(var l in e)a[l]===void 0&&(a[l]=e[l])}return a}var ts=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Of(e){ts(e)}function _f(e){console.error(e)}function Hf(e){ts(e)}function as(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Uf(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function ac(e,t,a){return a=Ha(a),a.tag=3,a.payload={element:null},a.callback=function(){as(e,t)},a}function kf(e){return e=Ha(e),e.tag=3,e}function Bf(e,t,a,n){var l=a.type.getDerivedStateFromError;if(typeof l=="function"){var s=n.value;e.payload=function(){return l(s)},e.callback=function(){Uf(t,a,n)}}var f=a.stateNode;f!==null&&typeof f.componentDidCatch=="function"&&(e.callback=function(){Uf(t,a,n),typeof l!="function"&&(Za===null?Za=new Set([this]):Za.add(this));var g=n.stack;this.componentDidCatch(n.value,{componentStack:g!==null?g:""})})}function J0(e,t,a,n,l){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&Rl(t,a,l,!0),a=Xt.current,a!==null){switch(a.tag){case 13:return na===null?Cc():a.alternate===null&&Je===0&&(Je=3),a.flags&=-257,a.flags|=65536,a.lanes=l,n===zr?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),Ac(e,n,l)),!1;case 22:return a.flags|=65536,n===zr?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),Ac(e,n,l)),!1}throw Error(r(435,a.tag))}return Ac(e,n,l),Cc(),!1}if(De)return t=Xt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=l,n!==Tr&&(e=Error(r(422),{cause:n}),zl(Lt(e,a)))):(n!==Tr&&(t=Error(r(423),{cause:n}),zl(Lt(t,a))),e=e.current.alternate,e.flags|=65536,l&=-l,e.lanes|=l,n=Lt(n,a),l=ac(e.stateNode,n,l),_r(e,l),Je!==4&&(Je=2)),!1;var s=Error(r(520),{cause:n});if(s=Lt(s,a),Il===null?Il=[s]:Il.push(s),Je!==4&&(Je=2),t===null)return!0;n=Lt(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=l&-l,a.lanes|=e,e=ac(a.stateNode,n,e),_r(a,e),!1;case 1:if(t=a.type,s=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Za===null||!Za.has(s))))return a.flags|=65536,l&=-l,a.lanes|=l,l=kf(l),Bf(l,e,a,n),_r(a,l),!1}a=a.return}while(a!==null);return!1}var Lf=Error(r(461)),ct=!1;function ft(e,t,a,n){t.child=e===null?jf(t,null,a,n):Wn(t,e.child,a,n)}function Yf(e,t,a,n,l){a=a.render;var s=t.ref;if("ref"in n){var f={};for(var g in n)g!=="ref"&&(f[g]=n[g])}else f=n;return yn(t),n=Lr(e,t,a,f,s,l),g=Yr(),e!==null&&!ct?(qr(e,t,l),Sa(e,t,l)):(De&&g&&Er(t),t.flags|=1,ft(e,t,n,l),t.child)}function qf(e,t,a,n,l){if(e===null){var s=a.type;return typeof s=="function"&&!vr(s)&&s.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=s,Gf(e,t,s,n,l)):(e=Hi(a.type,null,n,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!oc(e,l)){var f=s.memoizedProps;if(a=a.compare,a=a!==null?a:Ml,a(f,n)&&e.ref===t.ref)return Sa(e,t,l)}return t.flags|=1,e=ha(s,n),e.ref=t.ref,e.return=t,t.child=e}function Gf(e,t,a,n,l){if(e!==null){var s=e.memoizedProps;if(Ml(s,n)&&e.ref===t.ref)if(ct=!1,t.pendingProps=n=s,oc(e,l))(e.flags&131072)!==0&&(ct=!0);else return t.lanes=e.lanes,Sa(e,t,l)}return nc(e,t,a,n,l)}function Xf(e,t,a){var n=t.pendingProps,l=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden"){if((t.flags&128)!==0){if(n=s!==null?s.baseLanes|a:a,e!==null){for(l=t.child=e.child,s=0;l!==null;)s=s|l.lanes|l.childLanes,l=l.sibling;t.childLanes=s&~n}else t.childLanes=0,t.child=null;return Vf(e,t,n,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Yi(t,s!==null?s.cachePool:null),s!==null?qo(t,s):Ur(),Df(t);else return t.lanes=t.childLanes=536870912,Vf(e,t,s!==null?s.baseLanes|a:a,a)}else s!==null?(Yi(t,s.cachePool),qo(t,s),La(),t.memoizedState=null):(e!==null&&Yi(t,null),Ur(),La());return ft(e,t,l,a),t.child}function Vf(e,t,a,n){var l=Dr();return l=l===null?null:{parent:lt._currentValue,pool:l},t.memoizedState={baseLanes:a,cachePool:l},e!==null&&Yi(t,null),Ur(),Df(t),e!==null&&Rl(e,t,n,!0),null}function ns(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function nc(e,t,a,n,l){return yn(t),a=Lr(e,t,a,n,void 0,l),n=Yr(),e!==null&&!ct?(qr(e,t,l),Sa(e,t,l)):(De&&n&&Er(t),t.flags|=1,ft(e,t,a,l),t.child)}function Zf(e,t,a,n,l,s){return yn(t),t.updateQueue=null,a=Xo(t,n,a,l),Go(e),n=Yr(),e!==null&&!ct?(qr(e,t,s),Sa(e,t,s)):(De&&n&&Er(t),t.flags|=1,ft(e,t,a,s),t.child)}function Qf(e,t,a,n,l){if(yn(t),t.stateNode===null){var s=qn,f=a.contextType;typeof f=="object"&&f!==null&&(s=bt(f)),s=new a(n,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=tc,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=n,s.state=t.memoizedState,s.refs={},Rr(t),f=a.contextType,s.context=typeof f=="object"&&f!==null?bt(f):qn,s.state=t.memoizedState,f=a.getDerivedStateFromProps,typeof f=="function"&&(ec(t,a,f,n),s.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(f=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),f!==s.state&&tc.enqueueReplaceState(s,s.state,null),Ll(t,n,s,l),Bl(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){s=t.stateNode;var g=t.memoizedProps,T=Sn(a,g);s.props=T;var L=s.context,K=a.contextType;f=qn,typeof K=="object"&&K!==null&&(f=bt(K));var P=a.getDerivedStateFromProps;K=typeof P=="function"||typeof s.getSnapshotBeforeUpdate=="function",g=t.pendingProps!==g,K||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(g||L!==f)&&Rf(t,s,n,f),_a=!1;var q=t.memoizedState;s.state=q,Ll(t,n,s,l),Bl(),L=t.memoizedState,g||q!==L||_a?(typeof P=="function"&&(ec(t,a,P,n),L=t.memoizedState),(T=_a||zf(t,a,T,n,q,L,f))?(K||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=L),s.props=n,s.state=L,s.context=f,n=T):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,Or(e,t),f=t.memoizedProps,K=Sn(a,f),s.props=K,P=t.pendingProps,q=s.context,L=a.contextType,T=qn,typeof L=="object"&&L!==null&&(T=bt(L)),g=a.getDerivedStateFromProps,(L=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(f!==P||q!==T)&&Rf(t,s,n,T),_a=!1,q=t.memoizedState,s.state=q,Ll(t,n,s,l),Bl();var G=t.memoizedState;f!==P||q!==G||_a||e!==null&&e.dependencies!==null&&Bi(e.dependencies)?(typeof g=="function"&&(ec(t,a,g,n),G=t.memoizedState),(K=_a||zf(t,a,K,n,q,G,T)||e!==null&&e.dependencies!==null&&Bi(e.dependencies))?(L||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,G,T),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,G,T)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||f===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=G),s.props=n,s.state=G,s.context=T,n=K):(typeof s.componentDidUpdate!="function"||f===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),n=!1)}return s=n,ns(e,t),n=(t.flags&128)!==0,s||n?(s=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&n?(t.child=Wn(t,e.child,null,l),t.child=Wn(t,null,a,l)):ft(e,t,a,l),t.memoizedState=s.state,e=t.child):e=Sa(e,t,l),e}function Kf(e,t,a,n){return Dl(),t.flags|=256,ft(e,t,a,n),t.child}var lc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ic(e){return{baseLanes:e,cachePool:Oo()}}function sc(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Vt),e}function $f(e,t,a){var n=t.pendingProps,l=!1,s=(t.flags&128)!==0,f;if((f=s)||(f=e!==null&&e.memoizedState===null?!1:(it.current&2)!==0),f&&(l=!0,t.flags&=-129),f=(t.flags&32)!==0,t.flags&=-33,e===null){if(De){if(l?Ba(t):La(),De){var g=$e,T;if(T=g){e:{for(T=g,g=aa;T.nodeType!==8;){if(!g){g=null;break e}if(T=Pt(T.nextSibling),T===null){g=null;break e}}g=T}g!==null?(t.memoizedState={dehydrated:g,treeContext:mn!==null?{id:ga,overflow:pa}:null,retryLane:536870912,hydrationErrors:null},T=jt(18,null,null,0),T.stateNode=g,T.return=t,t.child=T,vt=t,$e=null,T=!0):T=!1}T||pn(t)}if(g=t.memoizedState,g!==null&&(g=g.dehydrated,g!==null))return Xc(g)?t.lanes=32:t.lanes=536870912,null;xa(t)}return g=n.children,n=n.fallback,l?(La(),l=t.mode,g=ls({mode:"hidden",children:g},l),n=dn(n,l,a,null),g.return=t,n.return=t,g.sibling=n,t.child=g,l=t.child,l.memoizedState=ic(a),l.childLanes=sc(e,f,a),t.memoizedState=lc,n):(Ba(t),rc(t,g))}if(T=e.memoizedState,T!==null&&(g=T.dehydrated,g!==null)){if(s)t.flags&256?(Ba(t),t.flags&=-257,t=cc(e,t,a)):t.memoizedState!==null?(La(),t.child=e.child,t.flags|=128,t=null):(La(),l=n.fallback,g=t.mode,n=ls({mode:"visible",children:n.children},g),l=dn(l,g,a,null),l.flags|=2,n.return=t,l.return=t,n.sibling=l,t.child=n,Wn(t,e.child,null,a),n=t.child,n.memoizedState=ic(a),n.childLanes=sc(e,f,a),t.memoizedState=lc,t=l);else if(Ba(t),Xc(g)){if(f=g.nextSibling&&g.nextSibling.dataset,f)var L=f.dgst;f=L,n=Error(r(419)),n.stack="",n.digest=f,zl({value:n,source:null,stack:null}),t=cc(e,t,a)}else if(ct||Rl(e,t,a,!1),f=(a&e.childLanes)!==0,ct||f){if(f=Le,f!==null&&(n=a&-a,n=(n&42)!==0?1:Vs(n),n=(n&(f.suspendedLanes|a))!==0?0:n,n!==0&&n!==T.retryLane))throw T.retryLane=n,Yn(e,n),_t(f,e,n),Lf;g.data==="$?"||Cc(),t=cc(e,t,a)}else g.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=T.treeContext,$e=Pt(g.nextSibling),vt=t,De=!0,gn=null,aa=!1,e!==null&&(qt[Gt++]=ga,qt[Gt++]=pa,qt[Gt++]=mn,ga=e.id,pa=e.overflow,mn=t),t=rc(t,n.children),t.flags|=4096);return t}return l?(La(),l=n.fallback,g=t.mode,T=e.child,L=T.sibling,n=ha(T,{mode:"hidden",children:n.children}),n.subtreeFlags=T.subtreeFlags&65011712,L!==null?l=ha(L,l):(l=dn(l,g,a,null),l.flags|=2),l.return=t,n.return=t,n.sibling=l,t.child=n,n=l,l=t.child,g=e.child.memoizedState,g===null?g=ic(a):(T=g.cachePool,T!==null?(L=lt._currentValue,T=T.parent!==L?{parent:L,pool:L}:T):T=Oo(),g={baseLanes:g.baseLanes|a,cachePool:T}),l.memoizedState=g,l.childLanes=sc(e,f,a),t.memoizedState=lc,n):(Ba(t),a=e.child,e=a.sibling,a=ha(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(f=t.deletions,f===null?(t.deletions=[e],t.flags|=16):f.push(e)),t.child=a,t.memoizedState=null,a)}function rc(e,t){return t=ls({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ls(e,t){return e=jt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function cc(e,t,a){return Wn(t,e.child,null,a),e=rc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Jf(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Cr(e.return,t,a)}function uc(e,t,a,n,l){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:l}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=a,s.tailMode=l)}function Pf(e,t,a){var n=t.pendingProps,l=n.revealOrder,s=n.tail;if(ft(e,t,n.children,a),n=it.current,(n&2)!==0)n=n&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jf(e,a,t);else if(e.tag===19)Jf(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}switch(te(it,n),l){case"forwards":for(a=t.child,l=null;a!==null;)e=a.alternate,e!==null&&es(e)===null&&(l=a),a=a.sibling;a=l,a===null?(l=t.child,t.child=null):(l=a.sibling,a.sibling=null),uc(t,!1,l,a,s);break;case"backwards":for(a=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&es(e)===null){t.child=l;break}e=l.sibling,l.sibling=a,a=l,l=e}uc(t,!0,a,null,s);break;case"together":uc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Sa(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Va|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Rl(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,a=ha(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ha(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function oc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Bi(e)))}function P0(e,t,a){switch(t.tag){case 3:ee(t,t.stateNode.containerInfo),Oa(t,lt,e.memoizedState.cache),Dl();break;case 27:case 5:Ce(t);break;case 4:ee(t,t.stateNode.containerInfo);break;case 10:Oa(t,t.type,t.memoizedProps.value);break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(Ba(t),t.flags|=128,null):(a&t.child.childLanes)!==0?$f(e,t,a):(Ba(t),e=Sa(e,t,a),e!==null?e.sibling:null);Ba(t);break;case 19:var l=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(Rl(e,t,a,!1),n=(a&t.childLanes)!==0),l){if(n)return Pf(e,t,a);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),te(it,it.current),n)break;return null;case 22:case 23:return t.lanes=0,Xf(e,t,a);case 24:Oa(t,lt,e.memoizedState.cache)}return Sa(e,t,a)}function Wf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)ct=!0;else{if(!oc(e,a)&&(t.flags&128)===0)return ct=!1,P0(e,t,a);ct=(e.flags&131072)!==0}else ct=!1,De&&(t.flags&1048576)!==0&&Co(t,ki,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var n=t.elementType,l=n._init;if(n=l(n._payload),t.type=n,typeof n=="function")vr(n)?(e=Sn(n,e),t.tag=1,t=Qf(null,t,n,e,a)):(t.tag=0,t=nc(null,t,n,e,a));else{if(n!=null){if(l=n.$$typeof,l===H){t.tag=11,t=Yf(null,t,n,e,a);break e}else if(l===j){t.tag=14,t=qf(null,t,n,e,a);break e}}throw t=de(n)||n,Error(r(306,t,""))}}return t;case 0:return nc(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,l=Sn(n,t.pendingProps),Qf(e,t,n,l,a);case 3:e:{if(ee(t,t.stateNode.containerInfo),e===null)throw Error(r(387));n=t.pendingProps;var s=t.memoizedState;l=s.element,Or(e,t),Ll(t,n,null,a);var f=t.memoizedState;if(n=f.cache,Oa(t,lt,n),n!==s.cache&&Mr(t,[lt],a,!0),Bl(),n=f.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:f.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Kf(e,t,n,a);break e}else if(n!==l){l=Lt(Error(r(424)),t),zl(l),t=Kf(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for($e=Pt(e.firstChild),vt=t,De=!0,gn=null,aa=!0,a=jf(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Dl(),n===l){t=Sa(e,t,a);break e}ft(e,t,n,a)}t=t.child}return t;case 26:return ns(e,t),e===null?(a=tm(t.type,null,t.pendingProps,null))?t.memoizedState=a:De||(a=t.type,e=t.pendingProps,n=ys(I.current).createElement(a),n[pt]=t,n[St]=e,mt(n,a,e),rt(n),t.stateNode=n):t.memoizedState=tm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ce(t),e===null&&De&&(n=t.stateNode=Id(t.type,t.pendingProps,I.current),vt=t,aa=!0,l=$e,$a(t.type)?(Vc=l,$e=Pt(n.firstChild)):$e=l),ft(e,t,t.pendingProps.children,a),ns(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&De&&((l=n=$e)&&(n=Tg(n,t.type,t.pendingProps,aa),n!==null?(t.stateNode=n,vt=t,$e=Pt(n.firstChild),aa=!1,l=!0):l=!1),l||pn(t)),Ce(t),l=t.type,s=t.pendingProps,f=e!==null?e.memoizedProps:null,n=s.children,Yc(l,s)?n=null:f!==null&&Yc(l,f)&&(t.flags|=32),t.memoizedState!==null&&(l=Lr(e,t,G0,null,null,a),ri._currentValue=l),ns(e,t),ft(e,t,n,a),t.child;case 6:return e===null&&De&&((e=a=$e)&&(a=Ng(a,t.pendingProps,aa),a!==null?(t.stateNode=a,vt=t,$e=null,e=!0):e=!1),e||pn(t)),null;case 13:return $f(e,t,a);case 4:return ee(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Wn(t,null,n,a):ft(e,t,n,a),t.child;case 11:return Yf(e,t,t.type,t.pendingProps,a);case 7:return ft(e,t,t.pendingProps,a),t.child;case 8:return ft(e,t,t.pendingProps.children,a),t.child;case 12:return ft(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,Oa(t,t.type,n.value),ft(e,t,n.children,a),t.child;case 9:return l=t.type._context,n=t.pendingProps.children,yn(t),l=bt(l),n=n(l),t.flags|=1,ft(e,t,n,a),t.child;case 14:return qf(e,t,t.type,t.pendingProps,a);case 15:return Gf(e,t,t.type,t.pendingProps,a);case 19:return Pf(e,t,a);case 31:return n=t.pendingProps,a=t.mode,n={mode:n.mode,children:n.children},e===null?(a=ls(n,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=ha(e.child,n),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return Xf(e,t,a);case 24:return yn(t),n=bt(lt),e===null?(l=Dr(),l===null&&(l=Le,s=Ar(),l.pooledCache=s,s.refCount++,s!==null&&(l.pooledCacheLanes|=a),l=s),t.memoizedState={parent:n,cache:l},Rr(t),Oa(t,lt,l)):((e.lanes&a)!==0&&(Or(e,t),Ll(t,null,null,a),Bl()),l=e.memoizedState,s=t.memoizedState,l.parent!==n?(l={parent:n,cache:n},t.memoizedState=l,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=l),Oa(t,lt,n)):(n=s.cache,Oa(t,lt,n),n!==l.cache&&Mr(t,[lt],a,!0))),ft(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function Ea(e){e.flags|=4}function If(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!sm(t)){if(t=Xt.current,t!==null&&((Me&4194048)===Me?na!==null:(Me&62914560)!==Me&&(Me&536870912)===0||t!==na))throw Ul=zr,_o;e.flags|=8192}}function is(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Au():536870912,e.lanes|=t,tl|=t)}function Ql(e,t){if(!De)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var l=e.child;l!==null;)a|=l.lanes|l.childLanes,n|=l.subtreeFlags&65011712,n|=l.flags&65011712,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)a|=l.lanes|l.childLanes,n|=l.subtreeFlags,n|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function W0(e,t,a){var n=t.pendingProps;switch(wr(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(t),null;case 1:return Ze(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ya(lt),oe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(jl(t)?Ea(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,jo())),Ze(t),null;case 26:return a=t.memoizedState,e===null?(Ea(t),a!==null?(Ze(t),If(t,a)):(Ze(t),t.flags&=-16777217)):a?a!==e.memoizedState?(Ea(t),Ze(t),If(t,a)):(Ze(t),t.flags&=-16777217):(e.memoizedProps!==n&&Ea(t),Ze(t),t.flags&=-16777217),null;case 27:Pe(t),a=I.current;var l=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Ea(t);else{if(!n){if(t.stateNode===null)throw Error(r(166));return Ze(t),null}e=ie.current,jl(t)?Mo(t):(e=Id(l,n,a),t.stateNode=e,Ea(t))}return Ze(t),null;case 5:if(Pe(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Ea(t);else{if(!n){if(t.stateNode===null)throw Error(r(166));return Ze(t),null}if(e=ie.current,jl(t))Mo(t);else{switch(l=ys(I.current),e){case 1:e=l.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=l.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=l.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=l.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof n.is=="string"?l.createElement("select",{is:n.is}):l.createElement("select"),n.multiple?e.multiple=!0:n.size&&(e.size=n.size);break;default:e=typeof n.is=="string"?l.createElement(a,{is:n.is}):l.createElement(a)}}e[pt]=t,e[St]=n;e:for(l=t.child;l!==null;){if(l.tag===5||l.tag===6)e.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===t)break e;for(;l.sibling===null;){if(l.return===null||l.return===t)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}t.stateNode=e;e:switch(mt(e,a,n),a){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ea(t)}}return Ze(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&Ea(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(r(166));if(e=I.current,jl(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,l=vt,l!==null)switch(l.tag){case 27:case 5:n=l.memoizedProps}e[pt]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||Zd(e.nodeValue,a)),e||pn(t)}else e=ys(e).createTextNode(n),e[pt]=t,t.stateNode=e}return Ze(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(l=jl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!l)throw Error(r(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));l[pt]=t}else Dl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ze(t),l=!1}else l=jo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),l=!0;if(!l)return t.flags&256?(xa(t),t):(xa(t),null)}if(xa(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=n!==null,e=e!==null&&e.memoizedState!==null,a){n=t.child,l=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(l=n.alternate.memoizedState.cachePool.pool);var s=null;n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==l&&(n.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),is(t,t.updateQueue),Ze(t),null;case 4:return oe(),e===null&&Hc(t.stateNode.containerInfo),Ze(t),null;case 10:return ya(t.type),Ze(t),null;case 19:if(ne(it),l=t.memoizedState,l===null)return Ze(t),null;if(n=(t.flags&128)!==0,s=l.rendering,s===null)if(n)Ql(l,!1);else{if(Je!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(s=es(e),s!==null){for(t.flags|=128,Ql(l,!1),e=s.updateQueue,t.updateQueue=e,is(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)No(a,e),a=a.sibling;return te(it,it.current&1|2),t.child}e=e.sibling}l.tail!==null&&Xe()>cs&&(t.flags|=128,n=!0,Ql(l,!1),t.lanes=4194304)}else{if(!n)if(e=es(s),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,is(t,e),Ql(l,!0),l.tail===null&&l.tailMode==="hidden"&&!s.alternate&&!De)return Ze(t),null}else 2*Xe()-l.renderingStartTime>cs&&a!==536870912&&(t.flags|=128,n=!0,Ql(l,!1),t.lanes=4194304);l.isBackwards?(s.sibling=t.child,t.child=s):(e=l.last,e!==null?e.sibling=s:t.child=s,l.last=s)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Xe(),t.sibling=null,e=it.current,te(it,n?e&1|2:e&1),t):(Ze(t),null);case 22:case 23:return xa(t),kr(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(Ze(t),t.subtreeFlags&6&&(t.flags|=8192)):Ze(t),a=t.updateQueue,a!==null&&is(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&ne(vn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ya(lt),Ze(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function I0(e,t){switch(wr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ya(lt),oe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Pe(t),null;case 13:if(xa(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Dl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ne(it),null;case 4:return oe(),null;case 10:return ya(t.type),null;case 22:case 23:return xa(t),kr(),e!==null&&ne(vn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ya(lt),null;case 25:return null;default:return null}}function Ff(e,t){switch(wr(t),t.tag){case 3:ya(lt),oe();break;case 26:case 27:case 5:Pe(t);break;case 4:oe();break;case 13:xa(t);break;case 19:ne(it);break;case 10:ya(t.type);break;case 22:case 23:xa(t),kr(),e!==null&&ne(vn);break;case 24:ya(lt)}}function Kl(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var l=n.next;a=l;do{if((a.tag&e)===e){n=void 0;var s=a.create,f=a.inst;n=s(),f.destroy=n}a=a.next}while(a!==l)}}catch(g){ke(t,t.return,g)}}function Ya(e,t,a){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var s=l.next;n=s;do{if((n.tag&e)===e){var f=n.inst,g=f.destroy;if(g!==void 0){f.destroy=void 0,l=t;var T=a,L=g;try{L()}catch(K){ke(l,T,K)}}}n=n.next}while(n!==s)}}catch(K){ke(t,t.return,K)}}function ed(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Yo(t,a)}catch(n){ke(e,e.return,n)}}}function td(e,t,a){a.props=Sn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){ke(e,t,n)}}function $l(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(l){ke(e,t,l)}}function la(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(l){ke(e,t,l)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(l){ke(e,t,l)}else a.current=null}function ad(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(l){ke(e,e.return,l)}}function fc(e,t,a){try{var n=e.stateNode;vg(n,e.type,a,t),n[St]=t}catch(l){ke(e,e.return,l)}}function nd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&$a(e.type)||e.tag===4}function dc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&$a(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mc(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=bs));else if(n!==4&&(n===27&&$a(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(mc(e,t,a),e=e.sibling;e!==null;)mc(e,t,a),e=e.sibling}function ss(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&$a(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ss(e,t,a),e=e.sibling;e!==null;)ss(e,t,a),e=e.sibling}function ld(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,l=t.attributes;l.length;)t.removeAttributeNode(l[0]);mt(t,n,a),t[pt]=e,t[St]=a}catch(s){ke(e,e.return,s)}}var wa=!1,et=!1,hc=!1,id=typeof WeakSet=="function"?WeakSet:Set,ut=null;function F0(e,t){if(e=e.containerInfo,Bc=Ts,e=go(e),dr(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var l=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{a.nodeType,s.nodeType}catch{a=null;break e}var f=0,g=-1,T=-1,L=0,K=0,P=e,q=null;t:for(;;){for(var G;P!==a||l!==0&&P.nodeType!==3||(g=f+l),P!==s||n!==0&&P.nodeType!==3||(T=f+n),P.nodeType===3&&(f+=P.nodeValue.length),(G=P.firstChild)!==null;)q=P,P=G;for(;;){if(P===e)break t;if(q===a&&++L===l&&(g=f),q===s&&++K===n&&(T=f),(G=P.nextSibling)!==null)break;P=q,q=P.parentNode}P=G}a=g===-1||T===-1?null:{start:g,end:T}}else a=null}a=a||{start:0,end:0}}else a=null;for(Lc={focusedElem:e,selectionRange:a},Ts=!1,ut=t;ut!==null;)if(t=ut,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,ut=e;else for(;ut!==null;){switch(t=ut,s=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&s!==null){e=void 0,a=t,l=s.memoizedProps,s=s.memoizedState,n=a.stateNode;try{var pe=Sn(a.type,l,a.elementType===a.type);e=n.getSnapshotBeforeUpdate(pe,s),n.__reactInternalSnapshotBeforeUpdate=e}catch(he){ke(a,a.return,he)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Gc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Gc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,ut=e;break}ut=t.return}}function sd(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:qa(e,a),n&4&&Kl(5,a);break;case 1:if(qa(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(f){ke(a,a.return,f)}else{var l=Sn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(l,t,e.__reactInternalSnapshotBeforeUpdate)}catch(f){ke(a,a.return,f)}}n&64&&ed(a),n&512&&$l(a,a.return);break;case 3:if(qa(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Yo(e,t)}catch(f){ke(a,a.return,f)}}break;case 27:t===null&&n&4&&ld(a);case 26:case 5:qa(e,a),t===null&&n&4&&ad(a),n&512&&$l(a,a.return);break;case 12:qa(e,a);break;case 13:qa(e,a),n&4&&ud(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=cg.bind(null,a),Cg(e,a))));break;case 22:if(n=a.memoizedState!==null||wa,!n){t=t!==null&&t.memoizedState!==null||et,l=wa;var s=et;wa=n,(et=t)&&!s?Ga(e,a,(a.subtreeFlags&8772)!==0):qa(e,a),wa=l,et=s}break;case 30:break;default:qa(e,a)}}function rd(e){var t=e.alternate;t!==null&&(e.alternate=null,rd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ks(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qe=null,Tt=!1;function Ta(e,t,a){for(a=a.child;a!==null;)cd(e,t,a),a=a.sibling}function cd(e,t,a){if(Ie&&typeof Ie.onCommitFiberUnmount=="function")try{Ie.onCommitFiberUnmount(Mt,a)}catch{}switch(a.tag){case 26:et||la(a,t),Ta(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:et||la(a,t);var n=qe,l=Tt;$a(a.type)&&(qe=a.stateNode,Tt=!1),Ta(e,t,a),ni(a.stateNode),qe=n,Tt=l;break;case 5:et||la(a,t);case 6:if(n=qe,l=Tt,qe=null,Ta(e,t,a),qe=n,Tt=l,qe!==null)if(Tt)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(a.stateNode)}catch(s){ke(a,t,s)}else try{qe.removeChild(a.stateNode)}catch(s){ke(a,t,s)}break;case 18:qe!==null&&(Tt?(e=qe,Pd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),fi(e)):Pd(qe,a.stateNode));break;case 4:n=qe,l=Tt,qe=a.stateNode.containerInfo,Tt=!0,Ta(e,t,a),qe=n,Tt=l;break;case 0:case 11:case 14:case 15:et||Ya(2,a,t),et||Ya(4,a,t),Ta(e,t,a);break;case 1:et||(la(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&td(a,t,n)),Ta(e,t,a);break;case 21:Ta(e,t,a);break;case 22:et=(n=et)||a.memoizedState!==null,Ta(e,t,a),et=n;break;default:Ta(e,t,a)}}function ud(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{fi(e)}catch(a){ke(t,t.return,a)}}function eg(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new id),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new id),t;default:throw Error(r(435,e.tag))}}function gc(e,t){var a=eg(e);t.forEach(function(n){var l=ug.bind(null,e,n);a.has(n)||(a.add(n),n.then(l,l))})}function Dt(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var l=a[n],s=e,f=t,g=f;e:for(;g!==null;){switch(g.tag){case 27:if($a(g.type)){qe=g.stateNode,Tt=!1;break e}break;case 5:qe=g.stateNode,Tt=!1;break e;case 3:case 4:qe=g.stateNode.containerInfo,Tt=!0;break e}g=g.return}if(qe===null)throw Error(r(160));cd(s,f,l),qe=null,Tt=!1,s=l.alternate,s!==null&&(s.return=null),l.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)od(t,e),t=t.sibling}var Jt=null;function od(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Dt(t,e),zt(e),n&4&&(Ya(3,e,e.return),Kl(3,e),Ya(5,e,e.return));break;case 1:Dt(t,e),zt(e),n&512&&(et||a===null||la(a,a.return)),n&64&&wa&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var l=Jt;if(Dt(t,e),zt(e),n&512&&(et||a===null||la(a,a.return)),n&4){var s=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,l=l.ownerDocument||l;t:switch(n){case"title":s=l.getElementsByTagName("title")[0],(!s||s[yl]||s[pt]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=l.createElement(n),l.head.insertBefore(s,l.querySelector("head > title"))),mt(s,n,a),s[pt]=e,rt(s),n=s;break e;case"link":var f=lm("link","href",l).get(n+(a.href||""));if(f){for(var g=0;g<f.length;g++)if(s=f[g],s.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&s.getAttribute("rel")===(a.rel==null?null:a.rel)&&s.getAttribute("title")===(a.title==null?null:a.title)&&s.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){f.splice(g,1);break t}}s=l.createElement(n),mt(s,n,a),l.head.appendChild(s);break;case"meta":if(f=lm("meta","content",l).get(n+(a.content||""))){for(g=0;g<f.length;g++)if(s=f[g],s.getAttribute("content")===(a.content==null?null:""+a.content)&&s.getAttribute("name")===(a.name==null?null:a.name)&&s.getAttribute("property")===(a.property==null?null:a.property)&&s.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&s.getAttribute("charset")===(a.charSet==null?null:a.charSet)){f.splice(g,1);break t}}s=l.createElement(n),mt(s,n,a),l.head.appendChild(s);break;default:throw Error(r(468,n))}s[pt]=e,rt(s),n=s}e.stateNode=n}else im(l,e.type,e.stateNode);else e.stateNode=nm(l,n,e.memoizedProps);else s!==n?(s===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):s.count--,n===null?im(l,e.type,e.stateNode):nm(l,n,e.memoizedProps)):n===null&&e.stateNode!==null&&fc(e,e.memoizedProps,a.memoizedProps)}break;case 27:Dt(t,e),zt(e),n&512&&(et||a===null||la(a,a.return)),a!==null&&n&4&&fc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Dt(t,e),zt(e),n&512&&(et||a===null||la(a,a.return)),e.flags&32){l=e.stateNode;try{On(l,"")}catch(G){ke(e,e.return,G)}}n&4&&e.stateNode!=null&&(l=e.memoizedProps,fc(e,l,a!==null?a.memoizedProps:l)),n&1024&&(hc=!0);break;case 6:if(Dt(t,e),zt(e),n&4){if(e.stateNode===null)throw Error(r(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(G){ke(e,e.return,G)}}break;case 3:if(Ss=null,l=Jt,Jt=vs(t.containerInfo),Dt(t,e),Jt=l,zt(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{fi(t.containerInfo)}catch(G){ke(e,e.return,G)}hc&&(hc=!1,fd(e));break;case 4:n=Jt,Jt=vs(e.stateNode.containerInfo),Dt(t,e),zt(e),Jt=n;break;case 12:Dt(t,e),zt(e);break;case 13:Dt(t,e),zt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Sc=Xe()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,gc(e,n)));break;case 22:l=e.memoizedState!==null;var T=a!==null&&a.memoizedState!==null,L=wa,K=et;if(wa=L||l,et=K||T,Dt(t,e),et=K,wa=L,zt(e),n&8192)e:for(t=e.stateNode,t._visibility=l?t._visibility&-2:t._visibility|1,l&&(a===null||T||wa||et||En(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){T=a=t;try{if(s=T.stateNode,l)f=s.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{g=T.stateNode;var P=T.memoizedProps.style,q=P!=null&&P.hasOwnProperty("display")?P.display:null;g.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(G){ke(T,T.return,G)}}}else if(t.tag===6){if(a===null){T=t;try{T.stateNode.nodeValue=l?"":T.memoizedProps}catch(G){ke(T,T.return,G)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,gc(e,a))));break;case 19:Dt(t,e),zt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,gc(e,n)));break;case 30:break;case 21:break;default:Dt(t,e),zt(e)}}function zt(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(nd(n)){a=n;break}n=n.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var l=a.stateNode,s=dc(e);ss(e,s,l);break;case 5:var f=a.stateNode;a.flags&32&&(On(f,""),a.flags&=-33);var g=dc(e);ss(e,g,f);break;case 3:case 4:var T=a.stateNode.containerInfo,L=dc(e);mc(e,L,T);break;default:throw Error(r(161))}}catch(K){ke(e,e.return,K)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;fd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function qa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)sd(e,t.alternate,t),t=t.sibling}function En(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ya(4,t,t.return),En(t);break;case 1:la(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&td(t,t.return,a),En(t);break;case 27:ni(t.stateNode);case 26:case 5:la(t,t.return),En(t);break;case 22:t.memoizedState===null&&En(t);break;case 30:En(t);break;default:En(t)}e=e.sibling}}function Ga(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,l=e,s=t,f=s.flags;switch(s.tag){case 0:case 11:case 15:Ga(l,s,a),Kl(4,s);break;case 1:if(Ga(l,s,a),n=s,l=n.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(L){ke(n,n.return,L)}if(n=s,l=n.updateQueue,l!==null){var g=n.stateNode;try{var T=l.shared.hiddenCallbacks;if(T!==null)for(l.shared.hiddenCallbacks=null,l=0;l<T.length;l++)Lo(T[l],g)}catch(L){ke(n,n.return,L)}}a&&f&64&&ed(s),$l(s,s.return);break;case 27:ld(s);case 26:case 5:Ga(l,s,a),a&&n===null&&f&4&&ad(s),$l(s,s.return);break;case 12:Ga(l,s,a);break;case 13:Ga(l,s,a),a&&f&4&&ud(l,s);break;case 22:s.memoizedState===null&&Ga(l,s,a),$l(s,s.return);break;case 30:break;default:Ga(l,s,a)}t=t.sibling}}function pc(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ol(a))}function bc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ol(e))}function ia(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)dd(e,t,a,n),t=t.sibling}function dd(e,t,a,n){var l=t.flags;switch(t.tag){case 0:case 11:case 15:ia(e,t,a,n),l&2048&&Kl(9,t);break;case 1:ia(e,t,a,n);break;case 3:ia(e,t,a,n),l&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ol(e)));break;case 12:if(l&2048){ia(e,t,a,n),e=t.stateNode;try{var s=t.memoizedProps,f=s.id,g=s.onPostCommit;typeof g=="function"&&g(f,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){ke(t,t.return,T)}}else ia(e,t,a,n);break;case 13:ia(e,t,a,n);break;case 23:break;case 22:s=t.stateNode,f=t.alternate,t.memoizedState!==null?s._visibility&2?ia(e,t,a,n):Jl(e,t):s._visibility&2?ia(e,t,a,n):(s._visibility|=2,In(e,t,a,n,(t.subtreeFlags&10256)!==0)),l&2048&&pc(f,t);break;case 24:ia(e,t,a,n),l&2048&&bc(t.alternate,t);break;default:ia(e,t,a,n)}}function In(e,t,a,n,l){for(l=l&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var s=e,f=t,g=a,T=n,L=f.flags;switch(f.tag){case 0:case 11:case 15:In(s,f,g,T,l),Kl(8,f);break;case 23:break;case 22:var K=f.stateNode;f.memoizedState!==null?K._visibility&2?In(s,f,g,T,l):Jl(s,f):(K._visibility|=2,In(s,f,g,T,l)),l&&L&2048&&pc(f.alternate,f);break;case 24:In(s,f,g,T,l),l&&L&2048&&bc(f.alternate,f);break;default:In(s,f,g,T,l)}t=t.sibling}}function Jl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,l=n.flags;switch(n.tag){case 22:Jl(a,n),l&2048&&pc(n.alternate,n);break;case 24:Jl(a,n),l&2048&&bc(n.alternate,n);break;default:Jl(a,n)}t=t.sibling}}var Pl=8192;function Fn(e){if(e.subtreeFlags&Pl)for(e=e.child;e!==null;)md(e),e=e.sibling}function md(e){switch(e.tag){case 26:Fn(e),e.flags&Pl&&e.memoizedState!==null&&Lg(Jt,e.memoizedState,e.memoizedProps);break;case 5:Fn(e);break;case 3:case 4:var t=Jt;Jt=vs(e.stateNode.containerInfo),Fn(e),Jt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Pl,Pl=16777216,Fn(e),Pl=t):Fn(e));break;default:Fn(e)}}function hd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Wl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];ut=n,pd(n,e)}hd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)gd(e),e=e.sibling}function gd(e){switch(e.tag){case 0:case 11:case 15:Wl(e),e.flags&2048&&Ya(9,e,e.return);break;case 3:Wl(e);break;case 12:Wl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,rs(e)):Wl(e);break;default:Wl(e)}}function rs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];ut=n,pd(n,e)}hd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ya(8,t,t.return),rs(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,rs(t));break;default:rs(t)}e=e.sibling}}function pd(e,t){for(;ut!==null;){var a=ut;switch(a.tag){case 0:case 11:case 15:Ya(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Ol(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,ut=n;else e:for(a=e;ut!==null;){n=ut;var l=n.sibling,s=n.return;if(rd(n),n===a){ut=null;break e}if(l!==null){l.return=s,ut=l;break e}ut=s}}}var tg={getCacheForType:function(e){var t=bt(lt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},ag=typeof WeakMap=="function"?WeakMap:Map,ze=0,Le=null,Te=null,Me=0,Re=0,Rt=null,Xa=!1,el=!1,yc=!1,Na=0,Je=0,Va=0,wn=0,vc=0,Vt=0,tl=0,Il=null,Nt=null,xc=!1,Sc=0,cs=1/0,us=null,Za=null,dt=0,Qa=null,al=null,nl=0,Ec=0,wc=null,bd=null,Fl=0,Tc=null;function Ot(){if((ze&2)!==0&&Me!==0)return Me&-Me;if(Y.T!==null){var e=Vn;return e!==0?e:zc()}return zu()}function yd(){Vt===0&&(Vt=(Me&536870912)===0||De?Mu():536870912);var e=Xt.current;return e!==null&&(e.flags|=32),Vt}function _t(e,t,a){(e===Le&&(Re===2||Re===9)||e.cancelPendingCommit!==null)&&(ll(e,0),Ka(e,Me,Vt,!1)),bl(e,a),((ze&2)===0||e!==Le)&&(e===Le&&((ze&2)===0&&(wn|=a),Je===4&&Ka(e,Me,Vt,!1)),sa(e))}function vd(e,t,a){if((ze&6)!==0)throw Error(r(327));var n=!a&&(t&124)===0&&(t&e.expiredLanes)===0||pl(e,t),l=n?ig(e,t):Mc(e,t,!0),s=n;do{if(l===0){el&&!n&&Ka(e,t,0,!1);break}else{if(a=e.current.alternate,s&&!ng(a)){l=Mc(e,t,!1),s=!1;continue}if(l===2){if(s=t,e.errorRecoveryDisabledLanes&s)var f=0;else f=e.pendingLanes&-536870913,f=f!==0?f:f&536870912?536870912:0;if(f!==0){t=f;e:{var g=e;l=Il;var T=g.current.memoizedState.isDehydrated;if(T&&(ll(g,f).flags|=256),f=Mc(g,f,!1),f!==2){if(yc&&!T){g.errorRecoveryDisabledLanes|=s,wn|=s,l=4;break e}s=Nt,Nt=l,s!==null&&(Nt===null?Nt=s:Nt.push.apply(Nt,s))}l=f}if(s=!1,l!==2)continue}}if(l===1){ll(e,0),Ka(e,t,0,!0);break}e:{switch(n=e,s=l,s){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Ka(n,t,Vt,!Xa);break e;case 2:Nt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(l=Sc+300-Xe(),10<l)){if(Ka(n,t,Vt,!Xa),rn(n,0,!0)!==0)break e;n.timeoutHandle=$d(xd.bind(null,n,a,Nt,us,xc,t,Vt,wn,tl,Xa,s,2,-0,0),l);break e}xd(n,a,Nt,us,xc,t,Vt,wn,tl,Xa,s,0,-0,0)}}break}while(!0);sa(e)}function xd(e,t,a,n,l,s,f,g,T,L,K,P,q,G){if(e.timeoutHandle=-1,P=t.subtreeFlags,(P&8192||(P&16785408)===16785408)&&(si={stylesheets:null,count:0,unsuspend:Bg},md(t),P=Yg(),P!==null)){e.cancelPendingCommit=P(Md.bind(null,e,t,s,a,n,l,f,g,T,K,1,q,G)),Ka(e,s,f,!L);return}Md(e,t,s,a,n,l,f,g,T)}function ng(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var l=a[n],s=l.getSnapshot;l=l.value;try{if(!At(s(),l))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ka(e,t,a,n){t&=~vc,t&=~wn,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var l=t;0<l;){var s=31-Ye(l),f=1<<s;n[s]=-1,l&=~f}a!==0&&ju(e,a,t)}function os(){return(ze&6)===0?(ei(0),!1):!0}function Nc(){if(Te!==null){if(Re===0)var e=Te.return;else e=Te,ba=bn=null,Gr(e),Pn=null,Vl=0,e=Te;for(;e!==null;)Ff(e.alternate,e),e=e.return;Te=null}}function ll(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Sg(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Nc(),Le=e,Te=a=ha(e.current,null),Me=t,Re=0,Rt=null,Xa=!1,el=pl(e,t),yc=!1,tl=Vt=vc=wn=Va=Je=0,Nt=Il=null,xc=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var l=31-Ye(n),s=1<<l;t|=e[l],n&=~s}return Na=t,Ri(),a}function Sd(e,t){xe=null,Y.H=Wi,t===Hl||t===qi?(t=ko(),Re=3):t===_o?(t=ko(),Re=4):Re=t===Lf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Rt=t,Te===null&&(Je=1,as(e,Lt(t,e.current)))}function Ed(){var e=Y.H;return Y.H=Wi,e===null?Wi:e}function wd(){var e=Y.A;return Y.A=tg,e}function Cc(){Je=4,Xa||(Me&4194048)!==Me&&Xt.current!==null||(el=!0),(Va&134217727)===0&&(wn&134217727)===0||Le===null||Ka(Le,Me,Vt,!1)}function Mc(e,t,a){var n=ze;ze|=2;var l=Ed(),s=wd();(Le!==e||Me!==t)&&(us=null,ll(e,t)),t=!1;var f=Je;e:do try{if(Re!==0&&Te!==null){var g=Te,T=Rt;switch(Re){case 8:Nc(),f=6;break e;case 3:case 2:case 9:case 6:Xt.current===null&&(t=!0);var L=Re;if(Re=0,Rt=null,il(e,g,T,L),a&&el){f=0;break e}break;default:L=Re,Re=0,Rt=null,il(e,g,T,L)}}lg(),f=Je;break}catch(K){Sd(e,K)}while(!0);return t&&e.shellSuspendCounter++,ba=bn=null,ze=n,Y.H=l,Y.A=s,Te===null&&(Le=null,Me=0,Ri()),f}function lg(){for(;Te!==null;)Td(Te)}function ig(e,t){var a=ze;ze|=2;var n=Ed(),l=wd();Le!==e||Me!==t?(us=null,cs=Xe()+500,ll(e,t)):el=pl(e,t);e:do try{if(Re!==0&&Te!==null){t=Te;var s=Rt;t:switch(Re){case 1:Re=0,Rt=null,il(e,t,s,1);break;case 2:case 9:if(Ho(s)){Re=0,Rt=null,Nd(t);break}t=function(){Re!==2&&Re!==9||Le!==e||(Re=7),sa(e)},s.then(t,t);break e;case 3:Re=7;break e;case 4:Re=5;break e;case 7:Ho(s)?(Re=0,Rt=null,Nd(t)):(Re=0,Rt=null,il(e,t,s,7));break;case 5:var f=null;switch(Te.tag){case 26:f=Te.memoizedState;case 5:case 27:var g=Te;if(!f||sm(f)){Re=0,Rt=null;var T=g.sibling;if(T!==null)Te=T;else{var L=g.return;L!==null?(Te=L,fs(L)):Te=null}break t}}Re=0,Rt=null,il(e,t,s,5);break;case 6:Re=0,Rt=null,il(e,t,s,6);break;case 8:Nc(),Je=6;break e;default:throw Error(r(462))}}sg();break}catch(K){Sd(e,K)}while(!0);return ba=bn=null,Y.H=n,Y.A=l,ze=a,Te!==null?0:(Le=null,Me=0,Ri(),Je)}function sg(){for(;Te!==null&&!Qe();)Td(Te)}function Td(e){var t=Wf(e.alternate,e,Na);e.memoizedProps=e.pendingProps,t===null?fs(e):Te=t}function Nd(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Zf(a,t,t.pendingProps,t.type,void 0,Me);break;case 11:t=Zf(a,t,t.pendingProps,t.type.render,t.ref,Me);break;case 5:Gr(t);default:Ff(a,t),t=Te=No(t,Na),t=Wf(a,t,Na)}e.memoizedProps=e.pendingProps,t===null?fs(e):Te=t}function il(e,t,a,n){ba=bn=null,Gr(t),Pn=null,Vl=0;var l=t.return;try{if(J0(e,l,t,a,Me)){Je=1,as(e,Lt(a,e.current)),Te=null;return}}catch(s){if(l!==null)throw Te=l,s;Je=1,as(e,Lt(a,e.current)),Te=null;return}t.flags&32768?(De||n===1?e=!0:el||(Me&536870912)!==0?e=!1:(Xa=e=!0,(n===2||n===9||n===3||n===6)&&(n=Xt.current,n!==null&&n.tag===13&&(n.flags|=16384))),Cd(t,e)):fs(t)}function fs(e){var t=e;do{if((t.flags&32768)!==0){Cd(t,Xa);return}e=t.return;var a=W0(t.alternate,t,Na);if(a!==null){Te=a;return}if(t=t.sibling,t!==null){Te=t;return}Te=t=e}while(t!==null);Je===0&&(Je=5)}function Cd(e,t){do{var a=I0(e.alternate,e);if(a!==null){a.flags&=32767,Te=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Te=e;return}Te=e=a}while(e!==null);Je=6,Te=null}function Md(e,t,a,n,l,s,f,g,T){e.cancelPendingCommit=null;do ds();while(dt!==0);if((ze&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(s=t.lanes|t.childLanes,s|=br,Bh(e,a,s,f,g,T),e===Le&&(Te=Le=null,Me=0),al=t,Qa=e,nl=a,Ec=s,wc=l,bd=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,og(gt,function(){return Rd(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=Y.T,Y.T=null,l=ae.p,ae.p=2,f=ze,ze|=4;try{F0(e,t,a)}finally{ze=f,ae.p=l,Y.T=n}}dt=1,Ad(),jd(),Dd()}}function Ad(){if(dt===1){dt=0;var e=Qa,t=al,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var n=ae.p;ae.p=2;var l=ze;ze|=4;try{od(t,e);var s=Lc,f=go(e.containerInfo),g=s.focusedElem,T=s.selectionRange;if(f!==g&&g&&g.ownerDocument&&ho(g.ownerDocument.documentElement,g)){if(T!==null&&dr(g)){var L=T.start,K=T.end;if(K===void 0&&(K=L),"selectionStart"in g)g.selectionStart=L,g.selectionEnd=Math.min(K,g.value.length);else{var P=g.ownerDocument||document,q=P&&P.defaultView||window;if(q.getSelection){var G=q.getSelection(),pe=g.textContent.length,he=Math.min(T.start,pe),He=T.end===void 0?he:Math.min(T.end,pe);!G.extend&&he>He&&(f=He,He=he,he=f);var k=mo(g,he),O=mo(g,He);if(k&&O&&(G.rangeCount!==1||G.anchorNode!==k.node||G.anchorOffset!==k.offset||G.focusNode!==O.node||G.focusOffset!==O.offset)){var B=P.createRange();B.setStart(k.node,k.offset),G.removeAllRanges(),he>He?(G.addRange(B),G.extend(O.node,O.offset)):(B.setEnd(O.node,O.offset),G.addRange(B))}}}}for(P=[],G=g;G=G.parentNode;)G.nodeType===1&&P.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<P.length;g++){var $=P[g];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Ts=!!Bc,Lc=Bc=null}finally{ze=l,ae.p=n,Y.T=a}}e.current=t,dt=2}}function jd(){if(dt===2){dt=0;var e=Qa,t=al,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var n=ae.p;ae.p=2;var l=ze;ze|=4;try{sd(e,t.alternate,t)}finally{ze=l,ae.p=n,Y.T=a}}dt=3}}function Dd(){if(dt===4||dt===3){dt=0,Ke();var e=Qa,t=al,a=nl,n=bd;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?dt=5:(dt=0,al=Qa=null,zd(e,e.pendingLanes));var l=e.pendingLanes;if(l===0&&(Za=null),Zs(a),t=t.stateNode,Ie&&typeof Ie.onCommitFiberRoot=="function")try{Ie.onCommitFiberRoot(Mt,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=Y.T,l=ae.p,ae.p=2,Y.T=null;try{for(var s=e.onRecoverableError,f=0;f<n.length;f++){var g=n[f];s(g.value,{componentStack:g.stack})}}finally{Y.T=t,ae.p=l}}(nl&3)!==0&&ds(),sa(e),l=e.pendingLanes,(a&4194090)!==0&&(l&42)!==0?e===Tc?Fl++:(Fl=0,Tc=e):Fl=0,ei(0)}}function zd(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ol(t)))}function ds(e){return Ad(),jd(),Dd(),Rd()}function Rd(){if(dt!==5)return!1;var e=Qa,t=Ec;Ec=0;var a=Zs(nl),n=Y.T,l=ae.p;try{ae.p=32>a?32:a,Y.T=null,a=wc,wc=null;var s=Qa,f=nl;if(dt=0,al=Qa=null,nl=0,(ze&6)!==0)throw Error(r(331));var g=ze;if(ze|=4,gd(s.current),dd(s,s.current,f,a),ze=g,ei(0,!1),Ie&&typeof Ie.onPostCommitFiberRoot=="function")try{Ie.onPostCommitFiberRoot(Mt,s)}catch{}return!0}finally{ae.p=l,Y.T=n,zd(e,t)}}function Od(e,t,a){t=Lt(a,t),t=ac(e.stateNode,t,2),e=Ua(e,t,2),e!==null&&(bl(e,2),sa(e))}function ke(e,t,a){if(e.tag===3)Od(e,e,a);else for(;t!==null;){if(t.tag===3){Od(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Za===null||!Za.has(n))){e=Lt(a,e),a=kf(2),n=Ua(t,a,2),n!==null&&(Bf(a,n,t,e),bl(n,2),sa(n));break}}t=t.return}}function Ac(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new ag;var l=new Set;n.set(t,l)}else l=n.get(t),l===void 0&&(l=new Set,n.set(t,l));l.has(a)||(yc=!0,l.add(a),e=rg.bind(null,e,t,a),t.then(e,e))}function rg(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Le===e&&(Me&a)===a&&(Je===4||Je===3&&(Me&62914560)===Me&&300>Xe()-Sc?(ze&2)===0&&ll(e,0):vc|=a,tl===Me&&(tl=0)),sa(e)}function _d(e,t){t===0&&(t=Au()),e=Yn(e,t),e!==null&&(bl(e,t),sa(e))}function cg(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),_d(e,a)}function ug(e,t){var a=0;switch(e.tag){case 13:var n=e.stateNode,l=e.memoizedState;l!==null&&(a=l.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(r(314))}n!==null&&n.delete(t),_d(e,a)}function og(e,t){return We(e,t)}var ms=null,sl=null,jc=!1,hs=!1,Dc=!1,Tn=0;function sa(e){e!==sl&&e.next===null&&(sl===null?ms=sl=e:sl=sl.next=e),hs=!0,jc||(jc=!0,dg())}function ei(e,t){if(!Dc&&hs){Dc=!0;do for(var a=!1,n=ms;n!==null;){if(e!==0){var l=n.pendingLanes;if(l===0)var s=0;else{var f=n.suspendedLanes,g=n.pingedLanes;s=(1<<31-Ye(42|e)+1)-1,s&=l&~(f&~g),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(a=!0,Bd(n,s))}else s=Me,s=rn(n,n===Le?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(s&3)===0||pl(n,s)||(a=!0,Bd(n,s));n=n.next}while(a);Dc=!1}}function fg(){Hd()}function Hd(){hs=jc=!1;var e=0;Tn!==0&&(xg()&&(e=Tn),Tn=0);for(var t=Xe(),a=null,n=ms;n!==null;){var l=n.next,s=Ud(n,t);s===0?(n.next=null,a===null?ms=l:a.next=l,l===null&&(sl=a)):(a=n,(e!==0||(s&3)!==0)&&(hs=!0)),n=l}ei(e)}function Ud(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,l=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var f=31-Ye(s),g=1<<f,T=l[f];T===-1?((g&a)===0||(g&n)!==0)&&(l[f]=kh(g,t)):T<=t&&(e.expiredLanes|=g),s&=~g}if(t=Le,a=Me,a=rn(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(Re===2||Re===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&Ee(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||pl(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&Ee(n),Zs(a)){case 2:case 8:a=xt;break;case 32:a=gt;break;case 268435456:a=fa;break;default:a=gt}return n=kd.bind(null,e),a=We(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&Ee(n),e.callbackPriority=2,e.callbackNode=null,2}function kd(e,t){if(dt!==0&&dt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(ds()&&e.callbackNode!==a)return null;var n=Me;return n=rn(e,e===Le?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(vd(e,n,t),Ud(e,Xe()),e.callbackNode!=null&&e.callbackNode===a?kd.bind(null,e):null)}function Bd(e,t){if(ds())return null;vd(e,t,!0)}function dg(){Eg(function(){(ze&6)!==0?We(oa,fg):Hd()})}function zc(){return Tn===0&&(Tn=Mu()),Tn}function Ld(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ni(""+e)}function Yd(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function mg(e,t,a,n,l){if(t==="submit"&&a&&a.stateNode===l){var s=Ld((l[St]||null).action),f=n.submitter;f&&(t=(t=f[St]||null)?Ld(t.formAction):f.getAttribute("formAction"),t!==null&&(s=t,f=null));var g=new ji("action","action",null,n,l);e.push({event:g,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Tn!==0){var T=f?Yd(l,f):new FormData(l);Wr(a,{pending:!0,data:T,method:l.method,action:s},null,T)}}else typeof s=="function"&&(g.preventDefault(),T=f?Yd(l,f):new FormData(l),Wr(a,{pending:!0,data:T,method:l.method,action:s},s,T))},currentTarget:l}]})}}for(var Rc=0;Rc<pr.length;Rc++){var Oc=pr[Rc],hg=Oc.toLowerCase(),gg=Oc[0].toUpperCase()+Oc.slice(1);$t(hg,"on"+gg)}$t(yo,"onAnimationEnd"),$t(vo,"onAnimationIteration"),$t(xo,"onAnimationStart"),$t("dblclick","onDoubleClick"),$t("focusin","onFocus"),$t("focusout","onBlur"),$t(R0,"onTransitionRun"),$t(O0,"onTransitionStart"),$t(_0,"onTransitionCancel"),$t(So,"onTransitionEnd"),Dn("onMouseEnter",["mouseout","mouseover"]),Dn("onMouseLeave",["mouseout","mouseover"]),Dn("onPointerEnter",["pointerout","pointerover"]),Dn("onPointerLeave",["pointerout","pointerover"]),cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ti="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ti));function qd(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],l=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var f=n.length-1;0<=f;f--){var g=n[f],T=g.instance,L=g.currentTarget;if(g=g.listener,T!==s&&l.isPropagationStopped())break e;s=g,l.currentTarget=L;try{s(l)}catch(K){ts(K)}l.currentTarget=null,s=T}else for(f=0;f<n.length;f++){if(g=n[f],T=g.instance,L=g.currentTarget,g=g.listener,T!==s&&l.isPropagationStopped())break e;s=g,l.currentTarget=L;try{s(l)}catch(K){ts(K)}l.currentTarget=null,s=T}}}}function Ne(e,t){var a=t[Qs];a===void 0&&(a=t[Qs]=new Set);var n=e+"__bubble";a.has(n)||(Gd(t,e,2,!1),a.add(n))}function _c(e,t,a){var n=0;t&&(n|=4),Gd(a,e,n,t)}var gs="_reactListening"+Math.random().toString(36).slice(2);function Hc(e){if(!e[gs]){e[gs]=!0,Ou.forEach(function(a){a!=="selectionchange"&&(pg.has(a)||_c(a,!1,e),_c(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[gs]||(t[gs]=!0,_c("selectionchange",!1,t))}}function Gd(e,t,a,n){switch(dm(t)){case 2:var l=Xg;break;case 8:l=Vg;break;default:l=Jc}a=l.bind(null,t,a,e),l=void 0,!nr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),n?l!==void 0?e.addEventListener(t,a,{capture:!0,passive:l}):e.addEventListener(t,a,!0):l!==void 0?e.addEventListener(t,a,{passive:l}):e.addEventListener(t,a,!1)}function Uc(e,t,a,n,l){var s=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var f=n.tag;if(f===3||f===4){var g=n.stateNode.containerInfo;if(g===l)break;if(f===4)for(f=n.return;f!==null;){var T=f.tag;if((T===3||T===4)&&f.stateNode.containerInfo===l)return;f=f.return}for(;g!==null;){if(f=Mn(g),f===null)return;if(T=f.tag,T===5||T===6||T===26||T===27){n=s=f;continue e}g=g.parentNode}}n=n.return}Ku(function(){var L=s,K=tr(a),P=[];e:{var q=Eo.get(e);if(q!==void 0){var G=ji,pe=e;switch(e){case"keypress":if(Mi(a)===0)break e;case"keydown":case"keyup":G=o0;break;case"focusin":pe="focus",G=rr;break;case"focusout":pe="blur",G=rr;break;case"beforeblur":case"afterblur":G=rr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Pu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Ih;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=m0;break;case yo:case vo:case xo:G=t0;break;case So:G=g0;break;case"scroll":case"scrollend":G=Ph;break;case"wheel":G=b0;break;case"copy":case"cut":case"paste":G=n0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Iu;break;case"toggle":case"beforetoggle":G=v0}var he=(t&4)!==0,He=!he&&(e==="scroll"||e==="scrollend"),k=he?q!==null?q+"Capture":null:q;he=[];for(var O=L,B;O!==null;){var $=O;if(B=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||B===null||k===null||($=xl(O,k),$!=null&&he.push(ai(O,$,B))),He)break;O=O.return}0<he.length&&(q=new G(q,pe,null,a,K),P.push({event:q,listeners:he}))}}if((t&7)===0){e:{if(q=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",q&&a!==er&&(pe=a.relatedTarget||a.fromElement)&&(Mn(pe)||pe[Cn]))break e;if((G||q)&&(q=K.window===K?K:(q=K.ownerDocument)?q.defaultView||q.parentWindow:window,G?(pe=a.relatedTarget||a.toElement,G=L,pe=pe?Mn(pe):null,pe!==null&&(He=h(pe),he=pe.tag,pe!==He||he!==5&&he!==27&&he!==6)&&(pe=null)):(G=null,pe=L),G!==pe)){if(he=Pu,$="onMouseLeave",k="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(he=Iu,$="onPointerLeave",k="onPointerEnter",O="pointer"),He=G==null?q:vl(G),B=pe==null?q:vl(pe),q=new he($,O+"leave",G,a,K),q.target=He,q.relatedTarget=B,$=null,Mn(K)===L&&(he=new he(k,O+"enter",pe,a,K),he.target=B,he.relatedTarget=He,$=he),He=$,G&&pe)t:{for(he=G,k=pe,O=0,B=he;B;B=rl(B))O++;for(B=0,$=k;$;$=rl($))B++;for(;0<O-B;)he=rl(he),O--;for(;0<B-O;)k=rl(k),B--;for(;O--;){if(he===k||k!==null&&he===k.alternate)break t;he=rl(he),k=rl(k)}he=null}else he=null;G!==null&&Xd(P,q,G,he,!1),pe!==null&&He!==null&&Xd(P,He,pe,he,!0)}}e:{if(q=L?vl(L):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var re=so;else if(lo(q))if(ro)re=j0;else{re=M0;var we=C0}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?L&&Fs(L.elementType)&&(re=so):re=A0;if(re&&(re=re(e,L))){io(P,re,a,K);break e}we&&we(e,q,L),e==="focusout"&&L&&q.type==="number"&&L.memoizedProps.value!=null&&Is(q,"number",q.value)}switch(we=L?vl(L):window,e){case"focusin":(lo(we)||we.contentEditable==="true")&&(kn=we,mr=L,Al=null);break;case"focusout":Al=mr=kn=null;break;case"mousedown":hr=!0;break;case"contextmenu":case"mouseup":case"dragend":hr=!1,po(P,a,K);break;case"selectionchange":if(z0)break;case"keydown":case"keyup":po(P,a,K)}var fe;if(ur)e:{switch(e){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else Un?ao(e,a)&&(ge="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ge="onCompositionStart");ge&&(Fu&&a.locale!=="ko"&&(Un||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&Un&&(fe=$u()):(Ra=K,lr="value"in Ra?Ra.value:Ra.textContent,Un=!0)),we=ps(L,ge),0<we.length&&(ge=new Wu(ge,e,null,a,K),P.push({event:ge,listeners:we}),fe?ge.data=fe:(fe=no(a),fe!==null&&(ge.data=fe)))),(fe=S0?E0(e,a):w0(e,a))&&(ge=ps(L,"onBeforeInput"),0<ge.length&&(we=new Wu("onBeforeInput","beforeinput",null,a,K),P.push({event:we,listeners:ge}),we.data=fe)),mg(P,e,L,a,K)}qd(P,t)})}function ai(e,t,a){return{instance:e,listener:t,currentTarget:a}}function ps(e,t){for(var a=t+"Capture",n=[];e!==null;){var l=e,s=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||s===null||(l=xl(e,a),l!=null&&n.unshift(ai(e,l,s)),l=xl(e,t),l!=null&&n.push(ai(e,l,s))),e.tag===3)return n;e=e.return}return[]}function rl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Xd(e,t,a,n,l){for(var s=t._reactName,f=[];a!==null&&a!==n;){var g=a,T=g.alternate,L=g.stateNode;if(g=g.tag,T!==null&&T===n)break;g!==5&&g!==26&&g!==27||L===null||(T=L,l?(L=xl(a,s),L!=null&&f.unshift(ai(a,L,T))):l||(L=xl(a,s),L!=null&&f.push(ai(a,L,T)))),a=a.return}f.length!==0&&e.push({event:t,listeners:f})}var bg=/\r\n?/g,yg=/\u0000|\uFFFD/g;function Vd(e){return(typeof e=="string"?e:""+e).replace(bg,`
`).replace(yg,"")}function Zd(e,t){return t=Vd(t),Vd(e)===t}function bs(){}function _e(e,t,a,n,l,s){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||On(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&On(e,""+n);break;case"className":Ei(e,"class",n);break;case"tabIndex":Ei(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Ei(e,a,n);break;case"style":Zu(e,n,s);break;case"data":if(t!=="object"){Ei(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Ni(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(a==="formAction"?(t!=="input"&&_e(e,t,"name",l.name,l,null),_e(e,t,"formEncType",l.formEncType,l,null),_e(e,t,"formMethod",l.formMethod,l,null),_e(e,t,"formTarget",l.formTarget,l,null)):(_e(e,t,"encType",l.encType,l,null),_e(e,t,"method",l.method,l,null),_e(e,t,"target",l.target,l,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Ni(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=bs);break;case"onScroll":n!=null&&Ne("scroll",e);break;case"onScrollEnd":n!=null&&Ne("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(r(61));if(a=n.__html,a!=null){if(l.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=Ni(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":Ne("beforetoggle",e),Ne("toggle",e),Si(e,"popover",n);break;case"xlinkActuate":da(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":da(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":da(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":da(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":da(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":da(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":da(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":da(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":da(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Si(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=$h.get(a)||a,Si(e,a,n))}}function kc(e,t,a,n,l,s){switch(a){case"style":Zu(e,n,s);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(r(61));if(a=n.__html,a!=null){if(l.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof n=="string"?On(e,n):(typeof n=="number"||typeof n=="bigint")&&On(e,""+n);break;case"onScroll":n!=null&&Ne("scroll",e);break;case"onScrollEnd":n!=null&&Ne("scrollend",e);break;case"onClick":n!=null&&(e.onclick=bs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_u.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(l=a.endsWith("Capture"),t=a.slice(2,l?a.length-7:void 0),s=e[St]||null,s=s!=null?s[a]:null,typeof s=="function"&&e.removeEventListener(t,s,l),typeof n=="function")){typeof s!="function"&&s!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,l);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):Si(e,a,n)}}}function mt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",e),Ne("load",e);var n=!1,l=!1,s;for(s in a)if(a.hasOwnProperty(s)){var f=a[s];if(f!=null)switch(s){case"src":n=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:_e(e,t,s,f,a,null)}}l&&_e(e,t,"srcSet",a.srcSet,a,null),n&&_e(e,t,"src",a.src,a,null);return;case"input":Ne("invalid",e);var g=s=f=l=null,T=null,L=null;for(n in a)if(a.hasOwnProperty(n)){var K=a[n];if(K!=null)switch(n){case"name":l=K;break;case"type":f=K;break;case"checked":T=K;break;case"defaultChecked":L=K;break;case"value":s=K;break;case"defaultValue":g=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,t));break;default:_e(e,t,n,K,a,null)}}qu(e,s,g,T,L,f,l,!1),wi(e);return;case"select":Ne("invalid",e),n=f=s=null;for(l in a)if(a.hasOwnProperty(l)&&(g=a[l],g!=null))switch(l){case"value":s=g;break;case"defaultValue":f=g;break;case"multiple":n=g;default:_e(e,t,l,g,a,null)}t=s,a=f,e.multiple=!!n,t!=null?Rn(e,!!n,t,!1):a!=null&&Rn(e,!!n,a,!0);return;case"textarea":Ne("invalid",e),s=l=n=null;for(f in a)if(a.hasOwnProperty(f)&&(g=a[f],g!=null))switch(f){case"value":n=g;break;case"defaultValue":l=g;break;case"children":s=g;break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:_e(e,t,f,g,a,null)}Xu(e,n,l,s),wi(e);return;case"option":for(T in a)if(a.hasOwnProperty(T)&&(n=a[T],n!=null))switch(T){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:_e(e,t,T,n,a,null)}return;case"dialog":Ne("beforetoggle",e),Ne("toggle",e),Ne("cancel",e),Ne("close",e);break;case"iframe":case"object":Ne("load",e);break;case"video":case"audio":for(n=0;n<ti.length;n++)Ne(ti[n],e);break;case"image":Ne("error",e),Ne("load",e);break;case"details":Ne("toggle",e);break;case"embed":case"source":case"link":Ne("error",e),Ne("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(n=a[L],n!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:_e(e,t,L,n,a,null)}return;default:if(Fs(t)){for(K in a)a.hasOwnProperty(K)&&(n=a[K],n!==void 0&&kc(e,t,K,n,a,void 0));return}}for(g in a)a.hasOwnProperty(g)&&(n=a[g],n!=null&&_e(e,t,g,n,a,null))}function vg(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,s=null,f=null,g=null,T=null,L=null,K=null;for(G in a){var P=a[G];if(a.hasOwnProperty(G)&&P!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":T=P;default:n.hasOwnProperty(G)||_e(e,t,G,null,n,P)}}for(var q in n){var G=n[q];if(P=a[q],n.hasOwnProperty(q)&&(G!=null||P!=null))switch(q){case"type":s=G;break;case"name":l=G;break;case"checked":L=G;break;case"defaultChecked":K=G;break;case"value":f=G;break;case"defaultValue":g=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,t));break;default:G!==P&&_e(e,t,q,G,n,P)}}Ws(e,f,g,T,L,K,s,l);return;case"select":G=f=g=q=null;for(s in a)if(T=a[s],a.hasOwnProperty(s)&&T!=null)switch(s){case"value":break;case"multiple":G=T;default:n.hasOwnProperty(s)||_e(e,t,s,null,n,T)}for(l in n)if(s=n[l],T=a[l],n.hasOwnProperty(l)&&(s!=null||T!=null))switch(l){case"value":q=s;break;case"defaultValue":g=s;break;case"multiple":f=s;default:s!==T&&_e(e,t,l,s,n,T)}t=g,a=f,n=G,q!=null?Rn(e,!!a,q,!1):!!n!=!!a&&(t!=null?Rn(e,!!a,t,!0):Rn(e,!!a,a?[]:"",!1));return;case"textarea":G=q=null;for(g in a)if(l=a[g],a.hasOwnProperty(g)&&l!=null&&!n.hasOwnProperty(g))switch(g){case"value":break;case"children":break;default:_e(e,t,g,null,n,l)}for(f in n)if(l=n[f],s=a[f],n.hasOwnProperty(f)&&(l!=null||s!=null))switch(f){case"value":q=l;break;case"defaultValue":G=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(r(91));break;default:l!==s&&_e(e,t,f,l,n,s)}Gu(e,q,G);return;case"option":for(var pe in a)if(q=a[pe],a.hasOwnProperty(pe)&&q!=null&&!n.hasOwnProperty(pe))switch(pe){case"selected":e.selected=!1;break;default:_e(e,t,pe,null,n,q)}for(T in n)if(q=n[T],G=a[T],n.hasOwnProperty(T)&&q!==G&&(q!=null||G!=null))switch(T){case"selected":e.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:_e(e,t,T,q,n,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in a)q=a[he],a.hasOwnProperty(he)&&q!=null&&!n.hasOwnProperty(he)&&_e(e,t,he,null,n,q);for(L in n)if(q=n[L],G=a[L],n.hasOwnProperty(L)&&q!==G&&(q!=null||G!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,t));break;default:_e(e,t,L,q,n,G)}return;default:if(Fs(t)){for(var He in a)q=a[He],a.hasOwnProperty(He)&&q!==void 0&&!n.hasOwnProperty(He)&&kc(e,t,He,void 0,n,q);for(K in n)q=n[K],G=a[K],!n.hasOwnProperty(K)||q===G||q===void 0&&G===void 0||kc(e,t,K,q,n,G);return}}for(var k in a)q=a[k],a.hasOwnProperty(k)&&q!=null&&!n.hasOwnProperty(k)&&_e(e,t,k,null,n,q);for(P in n)q=n[P],G=a[P],!n.hasOwnProperty(P)||q===G||q==null&&G==null||_e(e,t,P,q,n,G)}var Bc=null,Lc=null;function ys(e){return e.nodeType===9?e:e.ownerDocument}function Qd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Kd(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Yc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qc=null;function xg(){var e=window.event;return e&&e.type==="popstate"?e===qc?!1:(qc=e,!0):(qc=null,!1)}var $d=typeof setTimeout=="function"?setTimeout:void 0,Sg=typeof clearTimeout=="function"?clearTimeout:void 0,Jd=typeof Promise=="function"?Promise:void 0,Eg=typeof queueMicrotask=="function"?queueMicrotask:typeof Jd<"u"?function(e){return Jd.resolve(null).then(e).catch(wg)}:$d;function wg(e){setTimeout(function(){throw e})}function $a(e){return e==="head"}function Pd(e,t){var a=t,n=0,l=0;do{var s=a.nextSibling;if(e.removeChild(a),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(0<n&&8>n){a=n;var f=e.ownerDocument;if(a&1&&ni(f.documentElement),a&2&&ni(f.body),a&4)for(a=f.head,ni(a),f=a.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[yl]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}if(l===0){e.removeChild(s),fi(t);return}l--}else a==="$"||a==="$?"||a==="$!"?l++:n=a.charCodeAt(0)-48;else n=0;a=s}while(a);fi(t)}function Gc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Gc(a),Ks(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Tg(e,t,a,n){for(;e.nodeType===1;){var l=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[yl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==l.rel||e.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||e.getAttribute("title")!==(l.title==null?null:l.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(l.src==null?null:l.src)||e.getAttribute("type")!==(l.type==null?null:l.type)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=l.name==null?null:""+l.name;if(l.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=Pt(e.nextSibling),e===null)break}return null}function Ng(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Pt(e.nextSibling),e===null))return null;return e}function Xc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Cg(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function Pt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Vc=null;function Wd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function Id(e,t,a){switch(t=ys(a),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function ni(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ks(e)}var Zt=new Map,Fd=new Set;function vs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ca=ae.d;ae.d={f:Mg,r:Ag,D:jg,C:Dg,L:zg,m:Rg,X:_g,S:Og,M:Hg};function Mg(){var e=Ca.f(),t=os();return e||t}function Ag(e){var t=An(e);t!==null&&t.tag===5&&t.type==="form"?vf(t):Ca.r(e)}var cl=typeof document>"u"?null:document;function em(e,t,a){var n=cl;if(n&&typeof t=="string"&&t){var l=Bt(t);l='link[rel="'+e+'"][href="'+l+'"]',typeof a=="string"&&(l+='[crossorigin="'+a+'"]'),Fd.has(l)||(Fd.add(l),e={rel:e,crossOrigin:a,href:t},n.querySelector(l)===null&&(t=n.createElement("link"),mt(t,"link",e),rt(t),n.head.appendChild(t)))}}function jg(e){Ca.D(e),em("dns-prefetch",e,null)}function Dg(e,t){Ca.C(e,t),em("preconnect",e,t)}function zg(e,t,a){Ca.L(e,t,a);var n=cl;if(n&&e&&t){var l='link[rel="preload"][as="'+Bt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(l+='[imagesrcset="'+Bt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(l+='[imagesizes="'+Bt(a.imageSizes)+'"]')):l+='[href="'+Bt(e)+'"]';var s=l;switch(t){case"style":s=ul(e);break;case"script":s=ol(e)}Zt.has(s)||(e=v({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Zt.set(s,e),n.querySelector(l)!==null||t==="style"&&n.querySelector(li(s))||t==="script"&&n.querySelector(ii(s))||(t=n.createElement("link"),mt(t,"link",e),rt(t),n.head.appendChild(t)))}}function Rg(e,t){Ca.m(e,t);var a=cl;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",l='link[rel="modulepreload"][as="'+Bt(n)+'"][href="'+Bt(e)+'"]',s=l;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=ol(e)}if(!Zt.has(s)&&(e=v({rel:"modulepreload",href:e},t),Zt.set(s,e),a.querySelector(l)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ii(s)))return}n=a.createElement("link"),mt(n,"link",e),rt(n),a.head.appendChild(n)}}}function Og(e,t,a){Ca.S(e,t,a);var n=cl;if(n&&e){var l=jn(n).hoistableStyles,s=ul(e);t=t||"default";var f=l.get(s);if(!f){var g={loading:0,preload:null};if(f=n.querySelector(li(s)))g.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Zt.get(s))&&Zc(e,a);var T=f=n.createElement("link");rt(T),mt(T,"link",e),T._p=new Promise(function(L,K){T.onload=L,T.onerror=K}),T.addEventListener("load",function(){g.loading|=1}),T.addEventListener("error",function(){g.loading|=2}),g.loading|=4,xs(f,t,n)}f={type:"stylesheet",instance:f,count:1,state:g},l.set(s,f)}}}function _g(e,t){Ca.X(e,t);var a=cl;if(a&&e){var n=jn(a).hoistableScripts,l=ol(e),s=n.get(l);s||(s=a.querySelector(ii(l)),s||(e=v({src:e,async:!0},t),(t=Zt.get(l))&&Qc(e,t),s=a.createElement("script"),rt(s),mt(s,"link",e),a.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},n.set(l,s))}}function Hg(e,t){Ca.M(e,t);var a=cl;if(a&&e){var n=jn(a).hoistableScripts,l=ol(e),s=n.get(l);s||(s=a.querySelector(ii(l)),s||(e=v({src:e,async:!0,type:"module"},t),(t=Zt.get(l))&&Qc(e,t),s=a.createElement("script"),rt(s),mt(s,"link",e),a.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},n.set(l,s))}}function tm(e,t,a,n){var l=(l=I.current)?vs(l):null;if(!l)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=ul(a.href),a=jn(l).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ul(a.href);var s=jn(l).hoistableStyles,f=s.get(e);if(f||(l=l.ownerDocument||l,f={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,f),(s=l.querySelector(li(e)))&&!s._p&&(f.instance=s,f.state.loading=5),Zt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Zt.set(e,a),s||Ug(l,e,a,f.state))),t&&n===null)throw Error(r(528,""));return f}if(t&&n!==null)throw Error(r(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ol(a),a=jn(l).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function ul(e){return'href="'+Bt(e)+'"'}function li(e){return'link[rel="stylesheet"]['+e+"]"}function am(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function Ug(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),mt(t,"link",a),rt(t),e.head.appendChild(t))}function ol(e){return'[src="'+Bt(e)+'"]'}function ii(e){return"script[async]"+e}function nm(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+Bt(a.href)+'"]');if(n)return t.instance=n,rt(n),n;var l=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),rt(n),mt(n,"style",l),xs(n,a.precedence,e),t.instance=n;case"stylesheet":l=ul(a.href);var s=e.querySelector(li(l));if(s)return t.state.loading|=4,t.instance=s,rt(s),s;n=am(a),(l=Zt.get(l))&&Zc(n,l),s=(e.ownerDocument||e).createElement("link"),rt(s);var f=s;return f._p=new Promise(function(g,T){f.onload=g,f.onerror=T}),mt(s,"link",n),t.state.loading|=4,xs(s,a.precedence,e),t.instance=s;case"script":return s=ol(a.src),(l=e.querySelector(ii(s)))?(t.instance=l,rt(l),l):(n=a,(l=Zt.get(s))&&(n=v({},a),Qc(n,l)),e=e.ownerDocument||e,l=e.createElement("script"),rt(l),mt(l,"link",n),e.head.appendChild(l),t.instance=l);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,xs(n,a.precedence,e));return t.instance}function xs(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=n.length?n[n.length-1]:null,s=l,f=0;f<n.length;f++){var g=n[f];if(g.dataset.precedence===t)s=g;else if(s!==l)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Zc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Qc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ss=null;function lm(e,t,a){if(Ss===null){var n=new Map,l=Ss=new Map;l.set(a,n)}else l=Ss,n=l.get(a),n||(n=new Map,l.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),l=0;l<a.length;l++){var s=a[l];if(!(s[yl]||s[pt]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var f=s.getAttribute(t)||"";f=e+f;var g=n.get(f);g?g.push(s):n.set(f,[s])}}return n}function im(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function kg(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function sm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var si=null;function Bg(){}function Lg(e,t,a){if(si===null)throw Error(r(475));var n=si;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var l=ul(a.href),s=e.querySelector(li(l));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(n.count++,n=Es.bind(n),e.then(n,n)),t.state.loading|=4,t.instance=s,rt(s);return}s=e.ownerDocument||e,a=am(a),(l=Zt.get(l))&&Zc(a,l),s=s.createElement("link"),rt(s);var f=s;f._p=new Promise(function(g,T){f.onload=g,f.onerror=T}),mt(s,"link",a),t.instance=s}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(n.count++,t=Es.bind(n),e.addEventListener("load",t),e.addEventListener("error",t))}}function Yg(){if(si===null)throw Error(r(475));var e=si;return e.stylesheets&&e.count===0&&Kc(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&Kc(e,e.stylesheets),e.unsuspend){var n=e.unsuspend;e.unsuspend=null,n()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Es(){if(this.count--,this.count===0){if(this.stylesheets)Kc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ws=null;function Kc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ws=new Map,t.forEach(qg,e),ws=null,Es.call(e))}function qg(e,t){if(!(t.state.loading&4)){var a=ws.get(e);if(a)var n=a.get(null);else{a=new Map,ws.set(e,a);for(var l=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<l.length;s++){var f=l[s];(f.nodeName==="LINK"||f.getAttribute("media")!=="not all")&&(a.set(f.dataset.precedence,f),n=f)}n&&a.set(null,n)}l=t.instance,f=l.getAttribute("data-precedence"),s=a.get(f)||n,s===n&&a.set(null,l),a.set(f,l),this.count++,n=Es.bind(this),l.addEventListener("load",n),l.addEventListener("error",n),s?s.parentNode.insertBefore(l,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(l,e.firstChild)),t.state.loading|=4}}var ri={$$typeof:U,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function Gg(e,t,a,n,l,s,f,g){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xs(0),this.hiddenUpdates=Xs(null),this.identifierPrefix=n,this.onUncaughtError=l,this.onCaughtError=s,this.onRecoverableError=f,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=g,this.incompleteTransitions=new Map}function rm(e,t,a,n,l,s,f,g,T,L,K,P){return e=new Gg(e,t,a,f,g,T,L,P),t=1,s===!0&&(t|=24),s=jt(3,null,null,t),e.current=s,s.stateNode=e,t=Ar(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:n,isDehydrated:a,cache:t},Rr(s),e}function cm(e){return e?(e=qn,e):qn}function um(e,t,a,n,l,s){l=cm(l),n.context===null?n.context=l:n.pendingContext=l,n=Ha(t),n.payload={element:a},s=s===void 0?null:s,s!==null&&(n.callback=s),a=Ua(e,n,t),a!==null&&(_t(a,e,t),kl(a,e,t))}function om(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function $c(e,t){om(e,t),(e=e.alternate)&&om(e,t)}function fm(e){if(e.tag===13){var t=Yn(e,67108864);t!==null&&_t(t,e,67108864),$c(e,67108864)}}var Ts=!0;function Xg(e,t,a,n){var l=Y.T;Y.T=null;var s=ae.p;try{ae.p=2,Jc(e,t,a,n)}finally{ae.p=s,Y.T=l}}function Vg(e,t,a,n){var l=Y.T;Y.T=null;var s=ae.p;try{ae.p=8,Jc(e,t,a,n)}finally{ae.p=s,Y.T=l}}function Jc(e,t,a,n){if(Ts){var l=Pc(n);if(l===null)Uc(e,t,n,Ns,a),mm(e,n);else if(Qg(l,e,t,a,n))n.stopPropagation();else if(mm(e,n),t&4&&-1<Zg.indexOf(e)){for(;l!==null;){var s=An(l);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var f=ta(s.pendingLanes);if(f!==0){var g=s;for(g.pendingLanes|=2,g.entangledLanes|=2;f;){var T=1<<31-Ye(f);g.entanglements[1]|=T,f&=~T}sa(s),(ze&6)===0&&(cs=Xe()+500,ei(0))}}break;case 13:g=Yn(s,2),g!==null&&_t(g,s,2),os(),$c(s,2)}if(s=Pc(n),s===null&&Uc(e,t,n,Ns,a),s===l)break;l=s}l!==null&&n.stopPropagation()}else Uc(e,t,n,null,a)}}function Pc(e){return e=tr(e),Wc(e)}var Ns=null;function Wc(e){if(Ns=null,e=Mn(e),e!==null){var t=h(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=m(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ns=e,null}function dm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ft()){case oa:return 2;case xt:return 8;case gt:case ea:return 32;case fa:return 268435456;default:return 32}default:return 32}}var Ic=!1,Ja=null,Pa=null,Wa=null,ci=new Map,ui=new Map,Ia=[],Zg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mm(e,t){switch(e){case"focusin":case"focusout":Ja=null;break;case"dragenter":case"dragleave":Pa=null;break;case"mouseover":case"mouseout":Wa=null;break;case"pointerover":case"pointerout":ci.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ui.delete(t.pointerId)}}function oi(e,t,a,n,l,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:s,targetContainers:[l]},t!==null&&(t=An(t),t!==null&&fm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Qg(e,t,a,n,l){switch(t){case"focusin":return Ja=oi(Ja,e,t,a,n,l),!0;case"dragenter":return Pa=oi(Pa,e,t,a,n,l),!0;case"mouseover":return Wa=oi(Wa,e,t,a,n,l),!0;case"pointerover":var s=l.pointerId;return ci.set(s,oi(ci.get(s)||null,e,t,a,n,l)),!0;case"gotpointercapture":return s=l.pointerId,ui.set(s,oi(ui.get(s)||null,e,t,a,n,l)),!0}return!1}function hm(e){var t=Mn(e.target);if(t!==null){var a=h(t);if(a!==null){if(t=a.tag,t===13){if(t=m(a),t!==null){e.blockedOn=t,Lh(e.priority,function(){if(a.tag===13){var n=Ot();n=Vs(n);var l=Yn(a,n);l!==null&&_t(l,a,n),$c(a,n)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Pc(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);er=n,a.target.dispatchEvent(n),er=null}else return t=An(a),t!==null&&fm(t),e.blockedOn=a,!1;t.shift()}return!0}function gm(e,t,a){Cs(e)&&a.delete(t)}function Kg(){Ic=!1,Ja!==null&&Cs(Ja)&&(Ja=null),Pa!==null&&Cs(Pa)&&(Pa=null),Wa!==null&&Cs(Wa)&&(Wa=null),ci.forEach(gm),ui.forEach(gm)}function Ms(e,t){e.blockedOn===t&&(e.blockedOn=null,Ic||(Ic=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Kg)))}var As=null;function pm(e){As!==e&&(As=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){As===e&&(As=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],l=e[t+2];if(typeof n!="function"){if(Wc(n||a)===null)continue;break}var s=An(a);s!==null&&(e.splice(t,3),t-=3,Wr(s,{pending:!0,data:l,method:a.method,action:n},n,l))}}))}function fi(e){function t(T){return Ms(T,e)}Ja!==null&&Ms(Ja,e),Pa!==null&&Ms(Pa,e),Wa!==null&&Ms(Wa,e),ci.forEach(t),ui.forEach(t);for(var a=0;a<Ia.length;a++){var n=Ia[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Ia.length&&(a=Ia[0],a.blockedOn===null);)hm(a),a.blockedOn===null&&Ia.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var l=a[n],s=a[n+1],f=l[St]||null;if(typeof s=="function")f||pm(a);else if(f){var g=null;if(s&&s.hasAttribute("formAction")){if(l=s,f=s[St]||null)g=f.formAction;else if(Wc(l)!==null)continue}else g=f.action;typeof g=="function"?a[n+1]=g:(a.splice(n,3),n-=3),pm(a)}}}function Fc(e){this._internalRoot=e}js.prototype.render=Fc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var a=t.current,n=Ot();um(a,n,e,t,null,null)},js.prototype.unmount=Fc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;um(e.current,2,null,e,null,null),os(),t[Cn]=null}};function js(e){this._internalRoot=e}js.prototype.unstable_scheduleHydration=function(e){if(e){var t=zu();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Ia.length&&t!==0&&t<Ia[a].priority;a++);Ia.splice(a,0,e),a===0&&hm(e)}};var bm=c.version;if(bm!=="19.1.0")throw Error(r(527,bm,"19.1.0"));ae.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=b(t),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var $g={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ds=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ds.isDisabled&&Ds.supportsFiber)try{Mt=Ds.inject($g),Ie=Ds}catch{}}return mi.createRoot=function(e,t){if(!d(e))throw Error(r(299));var a=!1,n="",l=Of,s=_f,f=Hf,g=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(l=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(f=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(g=t.unstable_transitionCallbacks)),t=rm(e,1,!1,null,null,a,n,l,s,f,g,null),e[Cn]=t.current,Hc(e),new Fc(t)},mi.hydrateRoot=function(e,t,a){if(!d(e))throw Error(r(299));var n=!1,l="",s=Of,f=_f,g=Hf,T=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onUncaughtError!==void 0&&(s=a.onUncaughtError),a.onCaughtError!==void 0&&(f=a.onCaughtError),a.onRecoverableError!==void 0&&(g=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(T=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),t=rm(e,1,!0,t,a??null,n,l,s,f,g,T,L),t.context=cm(null),a=t.current,n=Ot(),n=Vs(n),l=Ha(n),l.callback=null,Ua(a,l,n),a=n,t.current.lanes=a,bl(t,a),sa(t),e[Cn]=t.current,Hc(e),new js(t)},mi.version="19.1.0",mi}var Mm;function np(){if(Mm)return au.exports;Mm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(c){console.error(c)}}return i(),au.exports=ap(),au.exports}var lp=np();const Ue={SELECT:"SELECT",PAN:"PAN",RULER:"RULER",DICE:"DICE"},Aa={CHAT:"CHAT",TOKENS:"TOKENS"},Be={PLAYER:"Player",MONSTER_NPC:"Monster/NPC",OBJECT:"Object"},Wt={SNAP_TO_CENTER:"SNAP_TO_CENTER",FREE_PLACEMENT:"FREE_PLACEMENT"},ip="/assets/d20-CHhPTgW4.png",sp="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='none'%20stroke='%23000000'%20stroke-width='2'%20d='M4,4%20L20,20%20M22,12%20C22,12%2016.7200572,17.2799437%2016.7200572,17.2799437%20M15,19%20C15,19%2013.7932491,20.2067517%2013.0000004,21.0000004%20C6.99999996,27.0000004%20-2.00000007,18.0000004%203.99999994,12.0000004%20C4.88551518,11.1144851%206,10%206,10%20M8,8%20C8,8%2010.1615592,5.83844087%2013,3.00000008%20C17,-0.999999955%2023,4.99999994%2019,9.00000005%20C16.9873313,11.0126688%2014,14%2014,14%20M12,16%20C12,16%2010.6478339,17.3521667%209.99999995,18.0000004%20C7.99999952,20%205,17%206.99999995,15.0000004%20C7.50049504,14.4995054%209,13%209,13%20M11,11%20C10.7388543,11.261146%2016,6%2016,6'/%3e%3c/svg%3e",rp="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20fill='%23000000'%20viewBox='0%200%20256%20256'%3e%3cpath%20d='M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z'%3e%3c/path%3e%3c/svg%3e",cp="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20fill='%23000000'%20viewBox='0%200%20256%20256'%3e%3cpath%20d='M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm48-88a8,8,0,0,1-8,8H136v32a8,8,0,0,1-16,0V136H88a8,8,0,0,1,0-16h32V88a8,8,0,0,1,16,0v32h32A8,8,0,0,1,176,128Z'%3e%3c/path%3e%3c/svg%3e",up="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20fill='%23000000'%20viewBox='0%200%20256%20256'%3e%3cpath%20d='M227.31,73.37,182.63,28.68a16,16,0,0,0-22.63,0L36.69,152A15.86,15.86,0,0,0,32,163.31V208a16,16,0,0,0,16,16H92.69A15.86,15.86,0,0,0,104,219.31L227.31,96a16,16,0,0,0,0-22.63ZM51.31,160,136,75.31,152.69,92,68,176.68ZM48,179.31,76.69,208H48Zm48,25.38L79.31,188,164,103.31,180.69,120Zm96-96L147.31,64l24-24L216,84.68Z'%3e%3c/path%3e%3c/svg%3e",op="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20fill='%23000000'%20viewBox='0%200%20256%20256'%3e%3cpath%20d='M216,48H40A16,16,0,0,0,24,64V224a15.84,15.84,0,0,0,9.25,14.5A16.05,16.05,0,0,0,40,240a15.89,15.89,0,0,0,10.25-3.78l.09-.07L83,208H216a16,16,0,0,0,16-16V64A16,16,0,0,0,216,48ZM40,224h0ZM216,192H80a8,8,0,0,0-5.23,1.95L40,224V64H216Z'%3e%3c/path%3e%3c/svg%3e",fp="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20fill='%23000000'%20viewBox='0%200%20256%20256'%3e%3cpath%20d='M235.32,73.37,182.63,20.69a16,16,0,0,0-22.63,0L20.68,160a16,16,0,0,0,0,22.63l52.69,52.68a16,16,0,0,0,22.63,0L235.32,96A16,16,0,0,0,235.32,73.37ZM84.68,224,32,171.31l32-32,26.34,26.35a8,8,0,0,0,11.32-11.32L75.31,128,96,107.31l26.34,26.35a8,8,0,0,0,11.32-11.32L107.31,96,128,75.31l26.34,26.35a8,8,0,0,0,11.32-11.32L139.31,64l32-32L224,84.69Z'%3e%3c/path%3e%3c/svg%3e",dp="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20fill='%23000000'%20viewBox='0%200%20256%20256'%3e%3cpath%20d='M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z'%3e%3c/path%3e%3c/svg%3e",mp="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20fill='%23000000'%20viewBox='0%200%20256%20256'%3e%3cpath%20d='M165.66,202.34a8,8,0,0,1-11.32,11.32l-80-80a8,8,0,0,1,0-11.32l80-80a8,8,0,0,1,11.32,11.32L91.31,128Z'%3e%3c/path%3e%3c/svg%3e",hp="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20fill='%23000000'%20viewBox='0%200%20256%20256'%3e%3cpath%20d='M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z'%3e%3c/path%3e%3c/svg%3e",gp="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20fill='%23000000'%20viewBox='0%200%20256%20256'%3e%3cpath%20d='M188,48a27.75,27.75,0,0,0-12,2.71V44a28,28,0,0,0-54.65-8.6A28,28,0,0,0,80,60v64l-3.82-6.13a28,28,0,0,0-48.6,27.82c16,33.77,28.93,57.72,43.72,72.69C86.24,233.54,103.2,240,128,240a88.1,88.1,0,0,0,88-88V76A28,28,0,0,0,188,48Zm12,104a72.08,72.08,0,0,1-72,72c-20.38,0-33.51-4.88-45.33-16.85C69.44,193.74,57.26,171,41.9,138.58a6.36,6.36,0,0,0-.3-.58,12,12,0,0,1,20.79-12,1.76,1.76,0,0,0,.14.23l18.67,30A8,8,0,0,0,96,152V60a12,12,0,0,1,24,0v60a8,8,0,0,0,16,0V44a12,12,0,0,1,24,0v76a8,8,0,0,0,16,0V76a12,12,0,0,1,24,0Z'%3e%3c/path%3e%3c/svg%3e",pp="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20fill='%23000000'%20viewBox='0%200%20256%20256'%3e%3cpath%20d='M237.33,106.21,61.41,41l-.16-.05A16,16,0,0,0,40.9,61.25a1,1,0,0,0,.05.16l65.26,175.92A15.77,15.77,0,0,0,121.28,248h.3a15.77,15.77,0,0,0,15-11.29l.06-.2,21.84-78,78-21.84.2-.06a16,16,0,0,0,.62-30.38ZM149.84,144.3a8,8,0,0,0-5.54,5.54L121.3,232l-.06-.17L56,56l175.82,65.22.16.06Z'%3e%3c/path%3e%3c/svg%3e",bp="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20fill='%23000000'%20viewBox='0%200%20256%20256'%3e%3cpath%20d='M200,112a8,8,0,0,1-8,8H152a8,8,0,0,1,0-16h40A8,8,0,0,1,200,112Zm-8,24H152a8,8,0,0,0,0,16h40a8,8,0,0,0,0-16Zm40-80V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56ZM216,200V56H40V200H216Zm-80.26-34a8,8,0,1,1-15.5,4c-2.63-10.26-13.06-18-24.25-18s-21.61,7.74-24.25,18a8,8,0,1,1-15.5-4,39.84,39.84,0,0,1,17.19-23.34,32,32,0,1,1,45.12,0A39.76,39.76,0,0,1,135.75,166ZM96,136a16,16,0,1,0-16-16A16,16,0,0,0,96,136Z'%3e%3c/path%3e%3c/svg%3e",yp="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20fill='%23000000'%20viewBox='0%200%20256%20256'%3e%3cpath%20d='M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128ZM128,72a12,12,0,1,0-12-12A12,12,0,0,0,128,72Zm0,112a12,12,0,1,0,12,12A12,12,0,0,0,128,184Z'%3e%3c/path%3e%3c/svg%3e",vp="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20fill='%23000000'%20viewBox='0%200%20256%20256'%3e%3cpath%20d='M216,40H72A16,16,0,0,0,56,56V72H40A16,16,0,0,0,24,88V200a16,16,0,0,0,16,16H184a16,16,0,0,0,16-16V184h16a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM184,88v16H40V88Zm0,112H40V120H184v80Zm32-32H200V88a16,16,0,0,0-16-16H72V56H216Z'%3e%3c/path%3e%3c/svg%3e",xp="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20fill='%23000000'%20viewBox='0%200%20256%20256'%3e%3cpath%20d='M224,128a8,8,0,0,1-8,8H40a8,8,0,0,1,0-16H216A8,8,0,0,1,224,128Z'%3e%3c/path%3e%3c/svg%3e",Sp="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20fill='%23000000'%20viewBox='0%200%20256%20256'%3e%3cpath%20d='M208,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32Zm0,176H48V48H208V208Z'%3e%3c/path%3e%3c/svg%3e";function Ep({"aria-hidden":i,className:c,width:o,height:r}){const m={className:`invert ${o&&r?`w-${o} h-${r}`:"w-5 h-5"} ${c||""}`,src:up,alt:"cone de edio","data-testid":"edit-icon"};return i!==void 0&&(m["aria-hidden"]=i),u.jsx("img",{...m})}function wp({"aria-hidden":i,className:c,width:o,height:r}){const m={className:`invert ${o&&r?`w-${o} h-${r}`:"w-5 h-5"} ${c||""}`,src:ip,alt:"dado de vinte lados","data-testid":"dice-icon"};return i!==void 0&&(m["aria-hidden"]=i),u.jsx("img",{...m})}function th({"aria-hidden":i,className:c,width:o,height:r}){const h=o&&r?`w-${o} h-${r}`:"w-5 h-5",m={src:rp,alt:"lixeira",className:`invert ${h} ${c||""}`};return i!==void 0&&(m["aria-hidden"]=i),u.jsx("img",{...m})}function Eu({"aria-hidden":i,className:c,width:o,height:r}){const h=o&&r?`w-${o} h-${r}`:"w-5 h-5",m={src:cp,alt:"adicionar",className:`invert ${h} ${c||""}`};return i!==void 0&&(m["aria-hidden"]=i),u.jsx("img",{...m})}function Tp({"aria-hidden":i,className:c,width:o,height:r}){const m={className:`invert ${o&&r?`w-${o} h-${r}`:"w-3 h-3"} ${c||""}`,src:sp,alt:"clip de papel partido ao meio"};return i!==void 0&&(m["aria-hidden"]=i),u.jsx("img",{...m})}function Np({"aria-hidden":i,className:c,width:o,height:r}){const m={className:`invert ${o&&r?`w-${o} h-${r}`:"w-5 h-5"} ${c||""}`,src:pp,alt:"seta de navegao"};return i!==void 0&&(m["aria-hidden"]=i),u.jsx("img",{...m})}function Cp({"aria-hidden":i,className:c,width:o,height:r}){const m={className:`invert ${o&&r?`w-${o} h-${r}`:"w-5 h-5"} ${c||""}`,src:gp,alt:"mo"};return i!==void 0&&(m["aria-hidden"]=i),u.jsx("img",{...m})}function Mp({"aria-hidden":i,className:c,width:o,height:r}){const m={className:`invert ${o&&r?`w-${o} h-${r}`:"w-5 h-5"} ${c||""}`,src:op,alt:"balo de chat"};return i!==void 0&&(m["aria-hidden"]=i),u.jsx("img",{...m})}function Ap({"aria-hidden":i,className:c,width:o,height:r}){const m={className:`invert ${o&&r?`w-${o} h-${r}`:"w-5 h-5"} ${c||""}`,src:fp,alt:"rgua"};return i!==void 0&&(m["aria-hidden"]=i),u.jsx("img",{...m})}function wu({"aria-hidden":i,className:c,width:o,height:r}){const m={className:`invert ${o&&r?`w-${o} h-${r}`:"w-5 h-5"} ${c||""}`,src:dp,alt:"fechar"};return i!==void 0&&(m["aria-hidden"]=i),u.jsx("img",{...m})}function ah({"aria-hidden":i,className:c,width:o,height:r}){const m={className:`invert ${o&&r?`w-${o} h-${r}`:"w-5 h-5"} ${c||""}`,src:mp,alt:"seta para a esquerda"};return i!==void 0&&(m["aria-hidden"]=i),u.jsx("img",{...m})}function nh({"aria-hidden":i,className:c,width:o,height:r}){const m={className:`invert ${o&&r?`w-${o} h-${r}`:"w-5 h-5"} ${c||""}`,src:hp,alt:"seta para a direita"};return i!==void 0&&(m["aria-hidden"]=i),u.jsx("img",{...m})}function jp({"aria-hidden":i,className:c,width:o,height:r}){const m={className:`invert ${o&&r?`w-${o} h-${r}`:"w-5 h-5"} ${c||""}`,src:bp,alt:"carto de identificao"};return i!==void 0&&(m["aria-hidden"]=i),u.jsx("img",{...m})}function Dp({"aria-hidden":i,className:c,width:o,height:r}){const m={className:`invert ${o&&r?`w-${o} h-${r}`:"w-5 h-5"} ${c||""}`,src:yp,alt:"trs pontos verticais"};return i!==void 0&&(m["aria-hidden"]=i),u.jsx("img",{...m})}function zp({"aria-hidden":i,className:c,width:o,height:r}){const m={className:`invert ${o&&r?`w-${o} h-${r}`:"w-5 h-5"} ${c||""}`,src:vp,alt:"configuraes de pgina"};return i!==void 0&&(m["aria-hidden"]=i),u.jsx("img",{...m})}function Rp({"aria-hidden":i,className:c,width:o,height:r}){const m={className:`invert ${o&&r?`w-${o} h-${r}`:"w-5 h-5"} ${c||""}`,src:xp,alt:"minimizar"};return i!==void 0&&(m["aria-hidden"]=i),u.jsx("img",{...m})}function Op({"aria-hidden":i,className:c,width:o,height:r}){const m={className:`invert ${o&&r?`w-${o} h-${r}`:"w-5 h-5"} ${c||""}`,src:Sp,alt:"restaurar janela"};return i!==void 0&&(m["aria-hidden"]=i),u.jsx("img",{...m})}function _p({isOpen:i,onClose:c,currentMode:o,onSetMode:r,rulerPersistsPath:d,onToggleRulerPersistPath:h,targetRef:m}){const S=w.useRef(null),[b,p]=w.useState({top:0,left:0});return w.useEffect(()=>{if(m.current&&i){const v=m.current.getBoundingClientRect();p({top:v.top,left:v.right+8})}},[m,i]),w.useEffect(()=>{const v=A=>{i&&S.current&&!S.current.contains(A.target)&&m.current&&!m.current.contains(A.target)&&c()};return i&&document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[i,c,m]),i?u.jsx("div",{ref:S,className:"bg-surface-1 fixed border rounded-md shadow-xl z-[60] w-56",style:{top:`${b.top}px`,left:`${b.left}px`},role:"dialog","aria-label":"Opes de Posicionamento da Rgua",children:u.jsxs("div",{children:[u.jsx("button",{onClick:()=>{r(Wt.SNAP_TO_CENTER),c()},className:`w-full text-left px-4 py-2 text-sm cursor-pointer focus:outline-none focus:ring-2 focus:ring-accent-primary focus:ring-opacity-50 rounded-t-md ${o===Wt.SNAP_TO_CENTER?"bg-accent-primary":"hover:bg-accent-secondary"}`,"aria-pressed":o===Wt.SNAP_TO_CENTER,role:"option","aria-selected":o===Wt.SNAP_TO_CENTER,children:"Fixar no Centro da Grade "}),u.jsx("button",{onClick:()=>{r(Wt.FREE_PLACEMENT),c()},className:`w-full text-left px-4 py-2 text-sm cursor-pointer focus:outline-none focus:ring-2 focus:ring-accent-primary  ${o===Wt.FREE_PLACEMENT?"bg-accent-primary":"hover:bg-accent-secondary"}`,"aria-pressed":o===Wt.FREE_PLACEMENT,role:"option","aria-selected":o===Wt.FREE_PLACEMENT,children:"Posicionamento Livre "}),u.jsx("div",{className:"border-t my-1"}),u.jsxs("label",{htmlFor:"persistRulerPath",className:"flex items-center px-3 py-2 text-sm cursor-pointer hover:bg-accent-secondary rounded-b-md",children:[u.jsx("input",{type:"checkbox",id:"persistRulerPath",checked:d,onChange:h,className:"mr-2 h-4 w-4 rounded text-accent-primary focus:ring-accent-primary"}),"Manter marcao ao soltar "]})]})}):null}const Hp=["1D2","1D4","1D6","1D8","1D10","1D12","1D20","1D100"];function Up({isOpen:i,onClose:c,onRoll:o,targetRef:r}){const d=w.useRef(null),[h,m]=w.useState({top:0,left:0});return w.useEffect(()=>{if(r.current&&i){const S=r.current.getBoundingClientRect();m({top:S.top,left:S.right+8})}},[r,i]),w.useEffect(()=>{const S=b=>{i&&d.current&&!d.current.contains(b.target)&&r.current&&!r.current.contains(b.target)&&c()};return i&&document.addEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)}},[i,c,r]),i?u.jsx("div",{ref:d,className:"fixed bg-surface-1 border rounded-md shadow-xl z-[60] p-2 grid grid-cols-2 gap-2",style:{top:`${h.top}px`,left:`${h.left}px`,minWidth:"10rem"},role:"dialog","aria-label":"Opes de Rolagem de Dados",children:Hp.map(S=>u.jsx("button",{onClick:()=>{o(S),c()},className:"w-full text-center px-3 py-1.5 text-sm  hover:bg-accent-primary-hover cursor-pointer focus:outline-none focus:ring-2 focus:ring-accent-primary-hover rounded",children:S},S))}):null}const lh=50,su=1,gu=.1,pu=3,kp=.001,vi="Jogador",ih=1.5,Bp={widthInUnits:30,heightInUnits:30,backgroundColor:"#FFFFFF"},Am="#875cad",Hs="1x1",ca=10,Lp="#000",jm=1,Yp=!1,Us={[Be.PLAYER]:"Jogador",[Be.MONSTER_NPC]:"Monstro/NPC",[Be.OBJECT]:"Objeto"},qp=Object.values(Be).map(i=>({value:i,label:Us[i]})),Gp=i=>{const c=i.toLowerCase().match(/^(\d{1,3})d(\d{1,3})(?:([+-])(\d+))?$/);if(!c)return{error:`Notao de dados invlida: ${i}`};const o=parseInt(c[1]),r=parseInt(c[2]),d=c[3],h=c[4]?parseInt(c[4]):void 0;if(o<=0||r<=0||o>100||r>100)return{error:`Parmetros de dados invlidos (1-100 permitidos para X e Y): ${i}`};let m=0;const S=[];for(let p=0;p<o;p++){const v=Math.floor(Math.random()*r)+1;S.push(v),m+=v}let b=m;return d&&h!==void 0&&(d==="+"?b+=h:d==="-"&&(b-=h)),{notation:i,rolls:S,modifierOperator:d,modifierValue:h,finalResult:b}},ht=[];for(let i=0;i<256;++i)ht.push((i+256).toString(16).slice(1));function Xp(i,c=0){return(ht[i[c+0]]+ht[i[c+1]]+ht[i[c+2]]+ht[i[c+3]]+"-"+ht[i[c+4]]+ht[i[c+5]]+"-"+ht[i[c+6]]+ht[i[c+7]]+"-"+ht[i[c+8]]+ht[i[c+9]]+"-"+ht[i[c+10]]+ht[i[c+11]]+ht[i[c+12]]+ht[i[c+13]]+ht[i[c+14]]+ht[i[c+15]]).toLowerCase()}let ru;const Vp=new Uint8Array(16);function Zp(){if(!ru){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ru=crypto.getRandomValues.bind(crypto)}return ru(Vp)}const Qp=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Dm={randomUUID:Qp};function Kp(i,c,o){var d;if(Dm.randomUUID&&!i)return Dm.randomUUID();i=i||{};const r=i.random??((d=i.rng)==null?void 0:d.call(i))??Zp();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Xp(r)}const ja=()=>Kp(),$p=()=>{const i={id:ja(),sender:"Sistema",text:"Saudaes, nobre aventureiro! Que os deuses da sorte guiem seus dados!",timestamp:new Date,isDiceRoll:!1},[c,o]=w.useState([i]),r=w.useCallback((m,S=vi)=>{const b={id:ja(),sender:S,timestamp:new Date};if(typeof m=="string"){const p={...b,isDiceRoll:!1,text:m};o(v=>[...v,p])}else{const p=`Rolou ${m.notation}: [${m.rolls.join(", ")}]`+(m.modifierOperator&&m.modifierValue!==void 0?` ${m.modifierOperator} ${m.modifierValue}`:"")+` = ${m.finalResult}`,v={...b,isDiceRoll:!0,diceRollDetails:{...m},text:p};o(A=>[...A,v])}},[]),d=w.useCallback(m=>{const S=Gp(m);"error"in S?r(S.error,"Sistema"):r(S,vi)},[r]),h=w.useCallback(()=>{o([i])},[i]);return{messages:c,sendMessage:r,rollAndSendMessage:d,clearMessages:h}},sh=w.createContext(void 0),Jp=({children:i})=>{const c=$p();return u.jsx(sh.Provider,{value:c,children:i})},rh=()=>{const i=w.useContext(sh);if(i===void 0)throw new Error("useChat must be used within a ChatProvider");return i},Pp=()=>{const[i,c]=w.useState({visualCellSize:lh,lineColor:"#788475",metersPerSquare:ih}),[o,r]=w.useState(Bp),[d,h]=w.useState(Wt.SNAP_TO_CENTER),[m,S]=w.useState(!1),b=w.useCallback(R=>{c(N=>({...N,...R}))},[]),p=w.useCallback(R=>{r(N=>({...N,...R}))},[]),v=w.useCallback(R=>{h(R)},[]),A=w.useCallback(R=>{S(R)},[]);return{gridSettings:i,pageSettings:o,rulerPlacementMode:d,rulerPersists:m,updateGridSettings:b,updatePageSettings:p,setRulerPlacementMode:v,setRulerPersists:A}},ch=w.createContext(void 0),Wp=({children:i})=>{const c=Pp();return u.jsx(ch.Provider,{value:c,children:i})},Tu=()=>{const i=w.useContext(ch);if(i===void 0)throw new Error("useBoardSettings must be used within a BoardSettingsProvider");return i},Ip=()=>{const[i,c]=w.useState(Ue.SELECT),[o,r]=w.useState(Aa.CHAT),[d,h]=w.useState(!0),[m,S]=w.useState(!0),[b,p]=w.useState(null);return{activeTool:i,setActiveTool:c,activeSidebarTab:o,setActiveSidebarTab:r,isToolbarVisible:d,setIsToolbarVisible:h,isRightSidebarVisible:m,setIsRightSidebarVisible:S,activePopover:b,setActivePopover:p}},uh=w.createContext(void 0),Fp=({children:i})=>{const c=Ip();return u.jsx(uh.Provider,{value:c,children:i})},Ys=()=>{const i=w.useContext(uh);if(i===void 0)throw new Error("useUI must be used within a UIProvider");return i};function oh(i){var c,o,r="";if(typeof i=="string"||typeof i=="number")r+=i;else if(typeof i=="object")if(Array.isArray(i)){var d=i.length;for(c=0;c<d;c++)i[c]&&(o=oh(i[c]))&&(r&&(r+=" "),r+=o)}else for(o in i)i[o]&&(r&&(r+=" "),r+=o);return r}function fh(){for(var i,c,o=0,r="",d=arguments.length;o<d;o++)(i=arguments[o])&&(c=oh(i))&&(r&&(r+=" "),r+=c);return r}const Nu="-",e1=i=>{const c=a1(i),{conflictingClassGroups:o,conflictingClassGroupModifiers:r}=i;return{getClassGroupId:m=>{const S=m.split(Nu);return S[0]===""&&S.length!==1&&S.shift(),dh(S,c)||t1(m)},getConflictingClassGroupIds:(m,S)=>{const b=o[m]||[];return S&&r[m]?[...b,...r[m]]:b}}},dh=(i,c)=>{var m;if(i.length===0)return c.classGroupId;const o=i[0],r=c.nextPart.get(o),d=r?dh(i.slice(1),r):void 0;if(d)return d;if(c.validators.length===0)return;const h=i.join(Nu);return(m=c.validators.find(({validator:S})=>S(h)))==null?void 0:m.classGroupId},zm=/^\[(.+)\]$/,t1=i=>{if(zm.test(i)){const c=zm.exec(i)[1],o=c==null?void 0:c.substring(0,c.indexOf(":"));if(o)return"arbitrary.."+o}},a1=i=>{const{theme:c,classGroups:o}=i,r={nextPart:new Map,validators:[]};for(const d in o)bu(o[d],r,d,c);return r},bu=(i,c,o,r)=>{i.forEach(d=>{if(typeof d=="string"){const h=d===""?c:Rm(c,d);h.classGroupId=o;return}if(typeof d=="function"){if(n1(d)){bu(d(r),c,o,r);return}c.validators.push({validator:d,classGroupId:o});return}Object.entries(d).forEach(([h,m])=>{bu(m,Rm(c,h),o,r)})})},Rm=(i,c)=>{let o=i;return c.split(Nu).forEach(r=>{o.nextPart.has(r)||o.nextPart.set(r,{nextPart:new Map,validators:[]}),o=o.nextPart.get(r)}),o},n1=i=>i.isThemeGetter,l1=i=>{if(i<1)return{get:()=>{},set:()=>{}};let c=0,o=new Map,r=new Map;const d=(h,m)=>{o.set(h,m),c++,c>i&&(c=0,r=o,o=new Map)};return{get(h){let m=o.get(h);if(m!==void 0)return m;if((m=r.get(h))!==void 0)return d(h,m),m},set(h,m){o.has(h)?o.set(h,m):d(h,m)}}},yu="!",vu=":",i1=vu.length,s1=i=>{const{prefix:c,experimentalParseClassName:o}=i;let r=d=>{const h=[];let m=0,S=0,b=0,p;for(let D=0;D<d.length;D++){let x=d[D];if(m===0&&S===0){if(x===vu){h.push(d.slice(b,D)),b=D+i1;continue}if(x==="/"){p=D;continue}}x==="["?m++:x==="]"?m--:x==="("?S++:x===")"&&S--}const v=h.length===0?d:d.substring(b),A=r1(v),R=A!==v,N=p&&p>b?p-b:void 0;return{modifiers:h,hasImportantModifier:R,baseClassName:A,maybePostfixModifierPosition:N}};if(c){const d=c+vu,h=r;r=m=>m.startsWith(d)?h(m.substring(d.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:m,maybePostfixModifierPosition:void 0}}if(o){const d=r;r=h=>o({className:h,parseClassName:d})}return r},r1=i=>i.endsWith(yu)?i.substring(0,i.length-1):i.startsWith(yu)?i.substring(1):i,c1=i=>{const c=Object.fromEntries(i.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const d=[];let h=[];return r.forEach(m=>{m[0]==="["||c[m]?(d.push(...h.sort(),m),h=[]):h.push(m)}),d.push(...h.sort()),d}},u1=i=>({cache:l1(i.cacheSize),parseClassName:s1(i),sortModifiers:c1(i),...e1(i)}),o1=/\s+/,f1=(i,c)=>{const{parseClassName:o,getClassGroupId:r,getConflictingClassGroupIds:d,sortModifiers:h}=c,m=[],S=i.trim().split(o1);let b="";for(let p=S.length-1;p>=0;p-=1){const v=S[p],{isExternal:A,modifiers:R,hasImportantModifier:N,baseClassName:D,maybePostfixModifierPosition:x}=o(v);if(A){b=v+(b.length>0?" "+b:b);continue}let E=!!x,C=r(E?D.substring(0,x):D);if(!C){if(!E){b=v+(b.length>0?" "+b:b);continue}if(C=r(D),!C){b=v+(b.length>0?" "+b:b);continue}E=!1}const _=h(R).join(":"),U=N?_+yu:_,H=U+C;if(m.includes(H))continue;m.push(H);const z=d(C,E);for(let X=0;X<z.length;++X){const j=z[X];m.push(U+j)}b=v+(b.length>0?" "+b:b)}return b};function d1(){let i=0,c,o,r="";for(;i<arguments.length;)(c=arguments[i++])&&(o=mh(c))&&(r&&(r+=" "),r+=o);return r}const mh=i=>{if(typeof i=="string")return i;let c,o="";for(let r=0;r<i.length;r++)i[r]&&(c=mh(i[r]))&&(o&&(o+=" "),o+=c);return o};function m1(i,...c){let o,r,d,h=m;function m(b){const p=c.reduce((v,A)=>A(v),i());return o=u1(p),r=o.cache.get,d=o.cache.set,h=S,S(b)}function S(b){const p=r(b);if(p)return p;const v=f1(b,o);return d(b,v),v}return function(){return h(d1.apply(null,arguments))}}const st=i=>{const c=o=>o[i]||[];return c.isThemeGetter=!0,c},hh=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,gh=/^\((?:(\w[\w-]*):)?(.+)\)$/i,h1=/^\d+\/\d+$/,g1=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,p1=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,b1=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,y1=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,v1=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,fl=i=>h1.test(i),Se=i=>!!i&&!Number.isNaN(Number(i)),en=i=>!!i&&Number.isInteger(Number(i)),cu=i=>i.endsWith("%")&&Se(i.slice(0,-1)),Ma=i=>g1.test(i),x1=()=>!0,S1=i=>p1.test(i)&&!b1.test(i),ph=()=>!1,E1=i=>y1.test(i),w1=i=>v1.test(i),T1=i=>!ce(i)&&!ue(i),N1=i=>dl(i,vh,ph),ce=i=>hh.test(i),Nn=i=>dl(i,xh,S1),uu=i=>dl(i,D1,Se),Om=i=>dl(i,bh,ph),C1=i=>dl(i,yh,w1),zs=i=>dl(i,Sh,E1),ue=i=>gh.test(i),hi=i=>ml(i,xh),M1=i=>ml(i,z1),_m=i=>ml(i,bh),A1=i=>ml(i,vh),j1=i=>ml(i,yh),Rs=i=>ml(i,Sh,!0),dl=(i,c,o)=>{const r=hh.exec(i);return r?r[1]?c(r[1]):o(r[2]):!1},ml=(i,c,o=!1)=>{const r=gh.exec(i);return r?r[1]?c(r[1]):o:!1},bh=i=>i==="position"||i==="percentage",yh=i=>i==="image"||i==="url",vh=i=>i==="length"||i==="size"||i==="bg-size",xh=i=>i==="length",D1=i=>i==="number",z1=i=>i==="family-name",Sh=i=>i==="shadow",R1=()=>{const i=st("color"),c=st("font"),o=st("text"),r=st("font-weight"),d=st("tracking"),h=st("leading"),m=st("breakpoint"),S=st("container"),b=st("spacing"),p=st("radius"),v=st("shadow"),A=st("inset-shadow"),R=st("text-shadow"),N=st("drop-shadow"),D=st("blur"),x=st("perspective"),E=st("aspect"),C=st("ease"),_=st("animate"),U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],z=()=>[...H(),ue,ce],X=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto","contain","none"],y=()=>[ue,ce,b],V=()=>[fl,"full","auto",...y()],F=()=>[en,"none","subgrid",ue,ce],le=()=>["auto",{span:["full",en,ue,ce]},en,ue,ce],se=()=>[en,"auto",ue,ce],me=()=>["auto","min","max","fr",ue,ce],de=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ye=()=>["start","end","center","stretch","center-safe","end-safe"],Y=()=>["auto",...y()],ae=()=>[fl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...y()],W=()=>[i,ue,ce],be=()=>[...H(),_m,Om,{position:[ue,ce]}],M=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Z=()=>["auto","cover","contain",A1,N1,{size:[ue,ce]}],ne=()=>[cu,hi,Nn],te=()=>["","none","full",p,ue,ce],ie=()=>["",Se,hi,Nn],Q=()=>["solid","dashed","dotted","double"],I=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>[Se,cu,_m,Om],ee=()=>["","none",D,ue,ce],oe=()=>["none",Se,ue,ce],Ce=()=>["none",Se,ue,ce],Pe=()=>[Se,ue,ce],Ge=()=>[fl,"full",...y()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ma],breakpoint:[Ma],color:[x1],container:[Ma],"drop-shadow":[Ma],ease:["in","out","in-out"],font:[T1],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ma],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ma],shadow:[Ma],spacing:["px",Se],text:[Ma],"text-shadow":[Ma],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",fl,ce,ue,E]}],container:["container"],columns:[{columns:[Se,ce,ue,S]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:z()}],overflow:[{overflow:X()}],"overflow-x":[{"overflow-x":X()}],"overflow-y":[{"overflow-y":X()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:V()}],"inset-x":[{"inset-x":V()}],"inset-y":[{"inset-y":V()}],start:[{start:V()}],end:[{end:V()}],top:[{top:V()}],right:[{right:V()}],bottom:[{bottom:V()}],left:[{left:V()}],visibility:["visible","invisible","collapse"],z:[{z:[en,"auto",ue,ce]}],basis:[{basis:[fl,"full","auto",S,...y()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Se,fl,"auto","initial","none",ce]}],grow:[{grow:["",Se,ue,ce]}],shrink:[{shrink:["",Se,ue,ce]}],order:[{order:[en,"first","last","none",ue,ce]}],"grid-cols":[{"grid-cols":F()}],"col-start-end":[{col:le()}],"col-start":[{"col-start":se()}],"col-end":[{"col-end":se()}],"grid-rows":[{"grid-rows":F()}],"row-start-end":[{row:le()}],"row-start":[{"row-start":se()}],"row-end":[{"row-end":se()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":me()}],"auto-rows":[{"auto-rows":me()}],gap:[{gap:y()}],"gap-x":[{"gap-x":y()}],"gap-y":[{"gap-y":y()}],"justify-content":[{justify:[...de(),"normal"]}],"justify-items":[{"justify-items":[...ye(),"normal"]}],"justify-self":[{"justify-self":["auto",...ye()]}],"align-content":[{content:["normal",...de()]}],"align-items":[{items:[...ye(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ye(),{baseline:["","last"]}]}],"place-content":[{"place-content":de()}],"place-items":[{"place-items":[...ye(),"baseline"]}],"place-self":[{"place-self":["auto",...ye()]}],p:[{p:y()}],px:[{px:y()}],py:[{py:y()}],ps:[{ps:y()}],pe:[{pe:y()}],pt:[{pt:y()}],pr:[{pr:y()}],pb:[{pb:y()}],pl:[{pl:y()}],m:[{m:Y()}],mx:[{mx:Y()}],my:[{my:Y()}],ms:[{ms:Y()}],me:[{me:Y()}],mt:[{mt:Y()}],mr:[{mr:Y()}],mb:[{mb:Y()}],ml:[{ml:Y()}],"space-x":[{"space-x":y()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":y()}],"space-y-reverse":["space-y-reverse"],size:[{size:ae()}],w:[{w:[S,"screen",...ae()]}],"min-w":[{"min-w":[S,"screen","none",...ae()]}],"max-w":[{"max-w":[S,"screen","none","prose",{screen:[m]},...ae()]}],h:[{h:["screen","lh",...ae()]}],"min-h":[{"min-h":["screen","lh","none",...ae()]}],"max-h":[{"max-h":["screen","lh",...ae()]}],"font-size":[{text:["base",o,hi,Nn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ue,uu]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",cu,ce]}],"font-family":[{font:[M1,ce,c]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[d,ue,ce]}],"line-clamp":[{"line-clamp":[Se,"none",ue,uu]}],leading:[{leading:[h,...y()]}],"list-image":[{"list-image":["none",ue,ce]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ue,ce]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:W()}],"text-color":[{text:W()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:[Se,"from-font","auto",ue,Nn]}],"text-decoration-color":[{decoration:W()}],"underline-offset":[{"underline-offset":[Se,"auto",ue,ce]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:y()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ue,ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ue,ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:be()}],"bg-repeat":[{bg:M()}],"bg-size":[{bg:Z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},en,ue,ce],radial:["",ue,ce],conic:[en,ue,ce]},j1,C1]}],"bg-color":[{bg:W()}],"gradient-from-pos":[{from:ne()}],"gradient-via-pos":[{via:ne()}],"gradient-to-pos":[{to:ne()}],"gradient-from":[{from:W()}],"gradient-via":[{via:W()}],"gradient-to":[{to:W()}],rounded:[{rounded:te()}],"rounded-s":[{"rounded-s":te()}],"rounded-e":[{"rounded-e":te()}],"rounded-t":[{"rounded-t":te()}],"rounded-r":[{"rounded-r":te()}],"rounded-b":[{"rounded-b":te()}],"rounded-l":[{"rounded-l":te()}],"rounded-ss":[{"rounded-ss":te()}],"rounded-se":[{"rounded-se":te()}],"rounded-ee":[{"rounded-ee":te()}],"rounded-es":[{"rounded-es":te()}],"rounded-tl":[{"rounded-tl":te()}],"rounded-tr":[{"rounded-tr":te()}],"rounded-br":[{"rounded-br":te()}],"rounded-bl":[{"rounded-bl":te()}],"border-w":[{border:ie()}],"border-w-x":[{"border-x":ie()}],"border-w-y":[{"border-y":ie()}],"border-w-s":[{"border-s":ie()}],"border-w-e":[{"border-e":ie()}],"border-w-t":[{"border-t":ie()}],"border-w-r":[{"border-r":ie()}],"border-w-b":[{"border-b":ie()}],"border-w-l":[{"border-l":ie()}],"divide-x":[{"divide-x":ie()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ie()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Q(),"hidden","none"]}],"divide-style":[{divide:[...Q(),"hidden","none"]}],"border-color":[{border:W()}],"border-color-x":[{"border-x":W()}],"border-color-y":[{"border-y":W()}],"border-color-s":[{"border-s":W()}],"border-color-e":[{"border-e":W()}],"border-color-t":[{"border-t":W()}],"border-color-r":[{"border-r":W()}],"border-color-b":[{"border-b":W()}],"border-color-l":[{"border-l":W()}],"divide-color":[{divide:W()}],"outline-style":[{outline:[...Q(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Se,ue,ce]}],"outline-w":[{outline:["",Se,hi,Nn]}],"outline-color":[{outline:W()}],shadow:[{shadow:["","none",v,Rs,zs]}],"shadow-color":[{shadow:W()}],"inset-shadow":[{"inset-shadow":["none",A,Rs,zs]}],"inset-shadow-color":[{"inset-shadow":W()}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:W()}],"ring-offset-w":[{"ring-offset":[Se,Nn]}],"ring-offset-color":[{"ring-offset":W()}],"inset-ring-w":[{"inset-ring":ie()}],"inset-ring-color":[{"inset-ring":W()}],"text-shadow":[{"text-shadow":["none",R,Rs,zs]}],"text-shadow-color":[{"text-shadow":W()}],opacity:[{opacity:[Se,ue,ce]}],"mix-blend":[{"mix-blend":[...I(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":I()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Se]}],"mask-image-linear-from-pos":[{"mask-linear-from":J()}],"mask-image-linear-to-pos":[{"mask-linear-to":J()}],"mask-image-linear-from-color":[{"mask-linear-from":W()}],"mask-image-linear-to-color":[{"mask-linear-to":W()}],"mask-image-t-from-pos":[{"mask-t-from":J()}],"mask-image-t-to-pos":[{"mask-t-to":J()}],"mask-image-t-from-color":[{"mask-t-from":W()}],"mask-image-t-to-color":[{"mask-t-to":W()}],"mask-image-r-from-pos":[{"mask-r-from":J()}],"mask-image-r-to-pos":[{"mask-r-to":J()}],"mask-image-r-from-color":[{"mask-r-from":W()}],"mask-image-r-to-color":[{"mask-r-to":W()}],"mask-image-b-from-pos":[{"mask-b-from":J()}],"mask-image-b-to-pos":[{"mask-b-to":J()}],"mask-image-b-from-color":[{"mask-b-from":W()}],"mask-image-b-to-color":[{"mask-b-to":W()}],"mask-image-l-from-pos":[{"mask-l-from":J()}],"mask-image-l-to-pos":[{"mask-l-to":J()}],"mask-image-l-from-color":[{"mask-l-from":W()}],"mask-image-l-to-color":[{"mask-l-to":W()}],"mask-image-x-from-pos":[{"mask-x-from":J()}],"mask-image-x-to-pos":[{"mask-x-to":J()}],"mask-image-x-from-color":[{"mask-x-from":W()}],"mask-image-x-to-color":[{"mask-x-to":W()}],"mask-image-y-from-pos":[{"mask-y-from":J()}],"mask-image-y-to-pos":[{"mask-y-to":J()}],"mask-image-y-from-color":[{"mask-y-from":W()}],"mask-image-y-to-color":[{"mask-y-to":W()}],"mask-image-radial":[{"mask-radial":[ue,ce]}],"mask-image-radial-from-pos":[{"mask-radial-from":J()}],"mask-image-radial-to-pos":[{"mask-radial-to":J()}],"mask-image-radial-from-color":[{"mask-radial-from":W()}],"mask-image-radial-to-color":[{"mask-radial-to":W()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":H()}],"mask-image-conic-pos":[{"mask-conic":[Se]}],"mask-image-conic-from-pos":[{"mask-conic-from":J()}],"mask-image-conic-to-pos":[{"mask-conic-to":J()}],"mask-image-conic-from-color":[{"mask-conic-from":W()}],"mask-image-conic-to-color":[{"mask-conic-to":W()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:be()}],"mask-repeat":[{mask:M()}],"mask-size":[{mask:Z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ue,ce]}],filter:[{filter:["","none",ue,ce]}],blur:[{blur:ee()}],brightness:[{brightness:[Se,ue,ce]}],contrast:[{contrast:[Se,ue,ce]}],"drop-shadow":[{"drop-shadow":["","none",N,Rs,zs]}],"drop-shadow-color":[{"drop-shadow":W()}],grayscale:[{grayscale:["",Se,ue,ce]}],"hue-rotate":[{"hue-rotate":[Se,ue,ce]}],invert:[{invert:["",Se,ue,ce]}],saturate:[{saturate:[Se,ue,ce]}],sepia:[{sepia:["",Se,ue,ce]}],"backdrop-filter":[{"backdrop-filter":["","none",ue,ce]}],"backdrop-blur":[{"backdrop-blur":ee()}],"backdrop-brightness":[{"backdrop-brightness":[Se,ue,ce]}],"backdrop-contrast":[{"backdrop-contrast":[Se,ue,ce]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Se,ue,ce]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Se,ue,ce]}],"backdrop-invert":[{"backdrop-invert":["",Se,ue,ce]}],"backdrop-opacity":[{"backdrop-opacity":[Se,ue,ce]}],"backdrop-saturate":[{"backdrop-saturate":[Se,ue,ce]}],"backdrop-sepia":[{"backdrop-sepia":["",Se,ue,ce]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":y()}],"border-spacing-x":[{"border-spacing-x":y()}],"border-spacing-y":[{"border-spacing-y":y()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ue,ce]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Se,"initial",ue,ce]}],ease:[{ease:["linear","initial",C,ue,ce]}],delay:[{delay:[Se,ue,ce]}],animate:[{animate:["none",_,ue,ce]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,ue,ce]}],"perspective-origin":[{"perspective-origin":z()}],rotate:[{rotate:oe()}],"rotate-x":[{"rotate-x":oe()}],"rotate-y":[{"rotate-y":oe()}],"rotate-z":[{"rotate-z":oe()}],scale:[{scale:Ce()}],"scale-x":[{"scale-x":Ce()}],"scale-y":[{"scale-y":Ce()}],"scale-z":[{"scale-z":Ce()}],"scale-3d":["scale-3d"],skew:[{skew:Pe()}],"skew-x":[{"skew-x":Pe()}],"skew-y":[{"skew-y":Pe()}],transform:[{transform:[ue,ce,"","none","gpu","cpu"]}],"transform-origin":[{origin:z()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ge()}],"translate-x":[{"translate-x":Ge()}],"translate-y":[{"translate-y":Ge()}],"translate-z":[{"translate-z":Ge()}],"translate-none":["translate-none"],accent:[{accent:W()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:W()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ue,ce]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":y()}],"scroll-mx":[{"scroll-mx":y()}],"scroll-my":[{"scroll-my":y()}],"scroll-ms":[{"scroll-ms":y()}],"scroll-me":[{"scroll-me":y()}],"scroll-mt":[{"scroll-mt":y()}],"scroll-mr":[{"scroll-mr":y()}],"scroll-mb":[{"scroll-mb":y()}],"scroll-ml":[{"scroll-ml":y()}],"scroll-p":[{"scroll-p":y()}],"scroll-px":[{"scroll-px":y()}],"scroll-py":[{"scroll-py":y()}],"scroll-ps":[{"scroll-ps":y()}],"scroll-pe":[{"scroll-pe":y()}],"scroll-pt":[{"scroll-pt":y()}],"scroll-pr":[{"scroll-pr":y()}],"scroll-pb":[{"scroll-pb":y()}],"scroll-pl":[{"scroll-pl":y()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ue,ce]}],fill:[{fill:["none",...W()]}],"stroke-w":[{stroke:[Se,hi,Nn,uu]}],stroke:[{stroke:["none",...W()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Eh=m1(R1),yi=ua.forwardRef(({label:i,icon:c,isActive:o,onClick:r,isHideButton:d=!1,isToggled:h=!1},m)=>u.jsx("button",{ref:m,title:i,"aria-label":i,"aria-pressed":o&&!d,onClick:r,className:Eh(fh("border border-surface-0 rounded-md ml-[0.2rem] p-4 w-[90%]","flex justify-center items-center","transition-colors duration-150 ease-in-out","focus:outline-none cursor-pointer",{"bg-accent-primary text-accent-primary-text hover:bg-accent-primary-hover":o&&!d,"bg-accent-secondary text-accent-primary-text hover:bg-accent-primary-hover":h,"hover:bg-accent-primary-hover":!o&&!h&&!d,"mt-auto hover:bg-accent-primary-hover":d})),children:c}));yi.displayName="ToolbarButton";function Hm({label:i,icon:c,isActive:o,popoverComponent:r,popoverProps:d,setActiveTool:h,toolType:m,activePopover:S,setActivePopover:b,popoverName:p}){const v=w.useRef(null),A=()=>{h(m),b(R=>R===p?null:p)};return u.jsxs("div",{className:"w-full relative",children:[u.jsx(yi,{ref:v,label:i,icon:c,isActive:o,isToggled:S===p,onClick:A}),S===p&&v.current&&u.jsx(r,{isOpen:S===p,onClose:()=>b(null),targetRef:v,...d})]})}const O1=({activeTool:i})=>{const[c,o]=w.useState(null);return w.useEffect(()=>{i!==Ue.RULER&&c==="ruler"&&o(null)},[i,c]),{activePopover:c,setActivePopover:o}};function _1(){const{rollAndSendMessage:i}=rh(),{rulerPlacementMode:c,setRulerPlacementMode:o,rulerPersists:r,setRulerPersists:d}=Tu(),{activeTool:h,setActiveTool:m,setIsToolbarVisible:S}=Ys(),{activePopover:b,setActivePopover:p}=O1({activeTool:h});return u.jsxs("div",{className:"w-16 flex flex-col border-r shadow-xl py-5 space-y-3 relative",children:[u.jsx(yi,{label:"Mover Mapa",icon:u.jsx(Cp,{className:"w-6 h-6"}),isActive:h===Ue.PAN,onClick:()=>{m(Ue.PAN),p(null)}}),u.jsx(yi,{label:"Ferramenta de Seleo",icon:u.jsx(Np,{className:"w-6 h-6"}),isActive:h===Ue.SELECT,onClick:()=>{m(Ue.SELECT),p(null)}}),u.jsx(Hm,{label:"Ferramenta de Rgua",icon:u.jsx(Ap,{className:"w-6 h-6"}),isActive:h===Ue.RULER,popoverComponent:_p,popoverProps:{currentMode:c,onSetMode:o,rulerPersistsPath:r,onToggleRulerPersistPath:()=>d(!r)},activeTool:h,setActiveTool:m,toolType:Ue.RULER,activePopover:b,setActivePopover:p,popoverName:"ruler"}),u.jsx(Hm,{label:"Rolar Dados",icon:u.jsx(wp,{className:"w-5 h-5"}),isActive:!1,popoverComponent:Up,popoverProps:{onRoll:i},activeTool:h,setActiveTool:m,toolType:Ue.DICE,activePopover:b,setActivePopover:p,popoverName:"dice"}),u.jsx("div",{className:"flex-grow"}),u.jsx(yi,{label:"Esconder Barra de Ferramentas",icon:u.jsx(ah,{className:"w-6 h-6"}),isActive:!1,onClick:()=>S(!1),isHideButton:!0})]})}const H1="/assets/defaultToken-CdMPldaJ.png",U1=[{key:"acrobatics",label:"Acrobacia",parentAttribute:"dexterity"},{key:"animalHandling",label:"Lidar com Animais",parentAttribute:"wisdom"},{key:"arcana",label:"Arcanismo",parentAttribute:"intelligence"},{key:"athletics",label:"Atletismo",parentAttribute:"strength"},{key:"deception",label:"Enganao",parentAttribute:"charisma"},{key:"history",label:"Histria",parentAttribute:"intelligence"},{key:"insight",label:"Intuio",parentAttribute:"wisdom"},{key:"intimidation",label:"Intimidao",parentAttribute:"charisma"},{key:"investigation",label:"Investigao",parentAttribute:"intelligence"},{key:"medicine",label:"Medicina",parentAttribute:"wisdom"},{key:"nature",label:"Natureza",parentAttribute:"intelligence"},{key:"perception",label:"Percepo",parentAttribute:"wisdom"},{key:"performance",label:"Atuao",parentAttribute:"charisma"},{key:"persuasion",label:"Persuaso",parentAttribute:"charisma"},{key:"religion",label:"Religio",parentAttribute:"intelligence"},{key:"sleightOfHand",label:"Prestidigitao",parentAttribute:"dexterity"},{key:"stealth",label:"Furtividade",parentAttribute:"dexterity"},{key:"survival",label:"Sobrevivncia",parentAttribute:"wisdom"}],k1={strength:"FORA",dexterity:"DESTREZA",constitution:"CONSTITUIO",intelligence:"INTELIGNCIA",wisdom:"SABEDORIA",charisma:"CARISMA"},B1={strength:10,dexterity:10,constitution:10,intelligence:10,wisdom:10,charisma:10},L1={strength:!1,dexterity:!1,constitution:!1,intelligence:!1,wisdom:!1,charisma:!1},It=H1,Y1={acrobatics:!1,animalHandling:!1,arcana:!1,athletics:!1,deception:!1,history:!1,insight:!1,intimidation:!1,investigation:!1,medicine:!1,nature:!1,perception:!1,performance:!1,persuasion:!1,religion:!1,sleightOfHand:!1,stealth:!1,survival:!1},Ct={name:"Novo Token",type:Be.PLAYER,image:It,size:"medium",currentHp:10,maxHp:10,notes:"",attributes:B1,proficiencyBonus:2,initiative:0,speed:30,passivePerception:10,proficiencies:{savingThrows:L1,skills:Y1},attacks:[],equipment:[],featuresAndTraits:[]},q1=()=>{const i=[{...Ct,id:ja(),name:"Aventureiro Padro"}],[c,o]=w.useState(i),[r,d]=w.useState([]),[h,m]=w.useState(new Map),S=w.useCallback(x=>{const E=ja();let C;return x.type===Be.PLAYER?C={...Ct,...x,id:E,image:x.image??It}:x.type===Be.MONSTER_NPC?C={id:E,name:x.name,type:Be.MONSTER_NPC,image:x.image??It,size:x.size??Ct.size,currentHp:x.currentHp??Ct.currentHp,maxHp:x.maxHp??Ct.maxHp,notes:x.notes??Ct.notes,challengeRating:x.challengeRating??0}:x.type===Be.OBJECT?C={id:E,name:x.name,type:Be.OBJECT,image:x.image??It,size:x.size??Ct.size,currentHp:x.currentHp??Ct.currentHp,maxHp:x.maxHp??Ct.maxHp,notes:x.notes??Ct.notes,isInteractive:x.isInteractive??!1}:C={id:E,name:x.name,type:x.type,image:x.image??It,size:x.size??Ct.size,currentHp:x.currentHp??Ct.currentHp,maxHp:x.maxHp??Ct.maxHp,notes:x.notes??Ct.notes},o(_=>[..._,C]),C},[]),b=w.useCallback(x=>{o(E=>E.filter(C=>C.id!==x)),d(E=>E.filter(C=>C.tokenInfoId!==x)),m(E=>{const C=new Map(E);return C.delete(x),C})},[]),p=w.useCallback((x,E)=>{o(C=>C.map(_=>_.id===x?{..._,...E}:_))},[]),v=w.useCallback((x,E,C)=>{c.some(H=>H.id===x)||(h.get(x)||0)>0||console.warn(`TokenInfo with id ${x} not found and no existing instances. Cannot create GridInstance.`);const U={instanceId:ja(),tokenInfoId:x,gridX:E,gridY:C};return d(H=>[...H,U]),m(H=>{const z=new Map(H);return z.set(x,(z.get(x)||0)+1),z}),U},[c]),A=w.useCallback(x=>{const E=r.find(_=>_.instanceId===x);if(!E)return;const{tokenInfoId:C}=E;d(_=>_.filter(U=>U.instanceId!==x)),m(_=>{const U=new Map(_),H=U.get(C)||0;if(H<=1){U.delete(C);const z=c.find(X=>X.id===C);z&&z.name.includes("(Cpia)")&&o(X=>X.filter(j=>j.id!==C))}else U.set(C,H-1);return U})},[r,c]),R=w.useCallback(x=>{const E=c.find(z=>z.id===x);if(!E)return console.error("TokenInfo no encontrado para duplicao:",x),null;const C=JSON.parse(JSON.stringify(E)),_=ja(),U=`${E.name} (Cpia)`,H={...C,id:_,name:U};return o(z=>[...z,H]),H},[c]),N=w.useCallback((x,E,C)=>{d(_=>_.map(U=>U.instanceId===x?{...U,gridX:E,gridY:C}:U))},[]),D=w.useCallback(x=>{const E=r.find(H=>H.instanceId===x);if(!E)return console.error("Instance not found for making independent:",x),null;const C=c.find(H=>H.id===E.tokenInfoId);if(!C)return console.error("Original Token not found for instance:",E.tokenInfoId),null;const U={...JSON.parse(JSON.stringify(C)),id:ja(),name:`${C.name} (Cpia)`};return o(H=>[...H,U]),d(H=>H.map(z=>z.instanceId===x?{...z,tokenInfoId:U.id}:z)),m(H=>{const z=new Map(H),X=C.id,j=U.id,y=z.get(X)||0;return y<=1?z.delete(X):z.set(X,y-1),z.set(j,(z.get(j)||0)+1),z}),U},[r,c]);return{tokens:c,gridInstances:r,gridInstanceCounts:h,addToken:S,deleteToken:b,duplicateToken:R,updateToken:p,addGridInstance:v,removeGridInstance:A,updateGridInstancePosition:N,makeGridInstanceIndependent:D}},wh=w.createContext(void 0),G1=({children:i})=>{const c=q1();return u.jsx(wh.Provider,{value:c,children:i})},hl=()=>{const i=w.useContext(wh);if(i===void 0)throw new Error("useTokens must be used within a TokensProvider");return i},X1=()=>{const[i,c]=w.useState({modalStack:[]}),o=w.useCallback((h,m={})=>{c(S=>{if(h==="sheet"&&S.modalStack.some(A=>A.name==="sheet"))return S;const b={id:`${h}-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,name:h,props:m};return{modalStack:[...S.modalStack,b]}})},[]),r=w.useCallback(()=>{c(h=>({modalStack:h.modalStack.slice(0,-1)}))},[]),d=w.useCallback(h=>{c(m=>{const S=[...m.modalStack];if(S.length>0){const b=S.length-1;S[b]={...S[b],props:{...S[b].props,...h}}}return{modalStack:S}})},[]);return{...i,openModal:o,closeModal:r,updateModalProps:d}},Th=w.createContext(void 0),V1=({children:i})=>{const c=X1();return u.jsx(Th.Provider,{value:c,children:i})},nn=()=>{const i=w.useContext(Th);if(i===void 0)throw new Error("useModal must be used within a ModalProvider");return i},ks=i=>{if(!i)return[1,1];const c=i.trim().match(/^(\d+)x(\d+)$/);if(c){const o=parseInt(c[1]),r=parseInt(c[2]);if(o>0&&r>0)return[o,r]}return[1,1]},Z1=(i,c,o,r,d)=>{const h=i.widthInUnits*c.visualCellSize,m=i.heightInUnits*c.visualCellSize,S=o/d,b=r/d,p=(h-S)/2,v=(m-b)/2;return{x:p,y:v,width:S,height:b}},xu=(i,c,o,r)=>{const d=c.x-i.x,h=c.y-i.y;return Math.sqrt(d*d+h*h)/o*r},Q1=({svgRef:i,pageSettings:c,gridSettings:o})=>{const[r,d]=w.useState({x:0,y:0,width:1e3,height:800}),[h,m]=w.useState(su),[S,b]=w.useState(!1),[p,v]=w.useState(null),A=w.useCallback(()=>i.current?{width:i.current.clientWidth,height:i.current.clientHeight}:{width:1e3,height:800},[i]);w.useEffect(()=>{const H=A();d(Z1(c,o,H.width,H.height,su)),m(su)},[c.widthInUnits,c.heightInUnits,o.visualCellSize,A,c,o]),w.useEffect(()=>{const H=A(),z=H.width/h,X=H.height/h;d(j=>({x:j.x+(j.width-z)/2,y:j.y+(j.height-X)/2,width:z,height:X}))},[h,A]);const R=w.useCallback((H,z)=>{if(!i.current)return{x:0,y:0};const X=i.current.getBoundingClientRect(),j=Math.round(X.left),y=Math.round(X.top),V=H-j,F=z-y,le=r.x+V/h,se=r.y+F/h;return{x:le,y:se}},[r.x,r.y,h,i]),N=w.useCallback(H=>{if(H.preventDefault(),!i.current||H.target.closest(".board-token-group"))return;const z=1-H.deltaY*kp,X=h*z,j=Math.max(gu,Math.min(pu,X));if(j===h)return;const y=i.current.getBoundingClientRect(),V=H.clientX-Math.round(y.left),F=H.clientY-Math.round(y.top),le=r.x+V/h,se=r.y+F/h,me=y.width/j,de=y.height/j,ye=le-V/j,Y=se-F/j;m(j),d({x:ye,y:Y,width:me,height:de})},[r,h,i]),D=w.useCallback(H=>{b(!0),v(H),i.current&&i.current.classList.add("cursor-grabbing")},[i]),x=w.useCallback(H=>{if(S&&p){const z=H.clientX-p.x,X=H.clientY-p.y;d(j=>({...j,x:j.x-z/h,y:j.y-X/h})),v({x:H.clientX,y:H.clientY})}},[S,p,h]),E=w.useCallback(()=>{b(!1),v(null),i.current&&i.current.classList.remove("cursor-grabbing")},[i]),C=.1,_=w.useCallback(()=>m(H=>Math.min(pu,H+C)),[]),U=w.useCallback(()=>m(H=>Math.max(gu,H-C)),[]);return{viewBox:r,zoomLevel:h,isPanning:S,getSVGPoint:R,handleWheel:N,handlePanStart:D,handlePanMove:x,handlePanEnd:E,handleZoomIn:_,handleZoomOut:U}},K1=({activeTool:i,rulerPlacementMode:c,rulerPersists:o,gridSettings:r,getSVGPoint:d})=>{const[h,m]=w.useState({isActive:!1,points:[],liveEndPoint:null}),S=w.useCallback((N,D)=>{const x=Math.floor(N.x/D),E=Math.floor(N.y/D),C=x*D+D/2,_=E*D+D/2;return{x:C,y:_}},[]),b=w.useCallback(N=>{if(i!=="RULER")return;const D=d(N.clientX,N.clientY),x=c===Wt.SNAP_TO_CENTER?S(D,r.visualCellSize):D;m({isActive:!0,points:[{point:x,cumulativeDistanceMeters:0}],liveEndPoint:x})},[i,d,c,S,r.visualCellSize]),p=w.useCallback(N=>{if(h.isActive&&i==="RULER"){const D=d(N.clientX,N.clientY),x=c===Wt.SNAP_TO_CENTER?S(D,r.visualCellSize):D;m(E=>({...E,liveEndPoint:x}))}},[h.isActive,i,d,c,S,r.visualCellSize]),v=w.useCallback(N=>{if(i!=="RULER"||N.button!==0)return;let D=[...h.points];if(h.liveEndPoint&&h.points.length>0){const x=h.points[h.points.length-1],E=xu(x.point,h.liveEndPoint,r.visualCellSize,r.metersPerSquare),C=x.cumulativeDistanceMeters+E;D.push({point:h.liveEndPoint,cumulativeDistanceMeters:C})}else h.liveEndPoint&&h.points.length===0&&(D=[{point:h.liveEndPoint,cumulativeDistanceMeters:0}]);m(o?{isActive:!1,points:D,liveEndPoint:null}:{isActive:!1,points:[],liveEndPoint:null})},[i,h,r.visualCellSize,r.metersPerSquare,o]),A=w.useCallback(N=>{if(N.preventDefault(),i==="RULER"&&h.isActive){if(!h.liveEndPoint||h.points.length===0)return;const D=h.points[h.points.length-1],x=xu(D.point,h.liveEndPoint,r.visualCellSize,r.metersPerSquare),E=D.cumulativeDistanceMeters+x,C={point:h.liveEndPoint,cumulativeDistanceMeters:E};m(_=>({..._,points:[..._.points,C]}))}},[i,h,r.visualCellSize,r.metersPerSquare]),R=w.useCallback(()=>{m({isActive:!1,points:[],liveEndPoint:null})},[]);return{rulerPath:h,handleRulerMouseDown:b,handleRulerMouseMove:p,handleRulerMouseUp:v,handleRulerRightClick:A,clearRuler:R}},$1=({activeTool:i,getSVGPoint:c,gridInstances:o,tokens:r,gridSettings:d,onSetMultiSelectedInstanceIds:h,onClearMultiSelection:m})=>{const[S,b]=w.useState({isActive:!1,startPoint:null,currentPoint:null}),p=w.useCallback(N=>{if(i!=="SELECT")return;m();const D=c(N.clientX,N.clientY);b({isActive:!0,startPoint:D,currentPoint:D})},[i,c,m]),v=w.useCallback(N=>{if(S.isActive&&i==="SELECT"){const D=c(N.clientX,N.clientY);b(x=>({...x,currentPoint:D}))}},[S.isActive,i,c]),A=w.useCallback(()=>{if(S.isActive&&S.startPoint&&S.currentPoint&&i==="SELECT"){const{startPoint:N,currentPoint:D}=S,x=Math.min(N.x,D.x),E=Math.min(N.y,D.y),C=Math.abs(N.x-D.x),_=Math.abs(N.y-D.y),U=[];o.forEach(H=>{const z=r.find(me=>me.id===H.tokenInfoId);if(!z)return;const[X,j]=ks(z.size),y=H.gridX*d.visualCellSize,V=H.gridY*d.visualCellSize,F=X*d.visualCellSize,le=j*d.visualCellSize;!(x>y+F||x+C<y||E>V+le||E+_<V)&&U.push(H.instanceId)}),h(U),b({isActive:!1,startPoint:null,currentPoint:null})}},[S,i,o,r,d.visualCellSize,h]),R=w.useCallback(()=>{b({isActive:!1,startPoint:null,currentPoint:null})},[]);return{marqueeSelection:S,handleMarqueeMouseDown:p,handleMarqueeMouseMove:v,handleMarqueeMouseUp:A,clearMarquee:R}},J1=({getSVGPoint:i,tokens:c,gridSettings:o,pageSettings:r,addGridInstance:d})=>{const h=w.useCallback(S=>{S.preventDefault(),S.dataTransfer.dropEffect="move"},[]),m=w.useCallback(S=>{S.preventDefault();const b=S.dataTransfer.getData("application/vtt-token-info-id");if(b){const p=c.find(_=>_.id===b);if(!p)return;const v=i(S.clientX,S.clientY),A=o.visualCellSize,R=r.widthInUnits*A,N=r.heightInUnits*A;if(v.x<0||v.x>R||v.y<0||v.y>N)return;const[D,x]=ks(p.size);let E=Math.floor(v.x/A),C=Math.floor(v.y/A);E=Math.max(0,Math.min(E,r.widthInUnits-Math.ceil(D))),C=Math.max(0,Math.min(C,r.heightInUnits-Math.ceil(x))),d(b,E,C)}},[i,c,o,r,d]);return{handleDragOver:h,handleTokenDrop:m}},P1=({svgRef:i,activeTool:c,isPanning:o,handlePanStart:r,handlePanMove:d,handlePanEnd:h,handleRulerMouseDown:m,handleRulerMouseMove:S,handleRulerMouseUp:b,handleRulerRightClick:p,handleMarqueeMouseDown:v,handleMarqueeMouseMove:A,handleMarqueeMouseUp:R,onBackgroundClick:N})=>{const D=w.useCallback(x=>{const E=x.button===2,C=x.button===0;if(!x.target.closest(".board-token-group")&&(C&&(N&&N(),c===Ue.SELECT?v(x):c===Ue.PAN?r({x:x.clientX,y:x.clientY}):c===Ue.RULER&&m(x)),E)){x.preventDefault(),c===Ue.RULER?p(x):r({x:x.clientX,y:x.clientY});return}},[c,N,v,r,m,p]);return w.useEffect(()=>{const x=C=>{o?d(C):c===Ue.RULER?S(C):c===Ue.SELECT&&A(C)},E=C=>{o?h():c===Ue.RULER?b(C):c===Ue.SELECT&&R(C)};return window.addEventListener("mousemove",x),window.addEventListener("mouseup",E),()=>{window.removeEventListener("mousemove",x),window.removeEventListener("mouseup",E)}},[c,o,d,h,S,b,A,R]),w.useEffect(()=>{i.current&&(i.current.classList.remove("cursor-default","cursor-grab","cursor-grabbing","cursor-pointer","cursor-crosshair"),o?i.current.classList.add("cursor-grabbing"):c===Ue.PAN?i.current.classList.add("cursor-grab"):c===Ue.SELECT||c===Ue.RULER?i.current.classList.add("cursor-crosshair"):i.current.classList.add("cursor-default"))},[c,o,i]),{handleMouseDown:D}},W1=({gridSettings:i,pageSettings:c,zoomLevel:o})=>{const r=.5/o,d=Math.min(.8,Math.max(.2,r)),h=Math.max(.5,1/o),m=c.widthInUnits*i.visualCellSize,S=c.heightInUnits*i.visualCellSize,p=20/o;return u.jsxs(u.Fragment,{children:[u.jsxs("defs",{children:[u.jsx("pattern",{id:"gridPattern",width:i.visualCellSize,height:i.visualCellSize,patternUnits:"userSpaceOnUse",children:u.jsx("path",{d:`M ${i.visualCellSize} 0 L 0 0 0 ${i.visualCellSize}`,fill:"none",stroke:i.lineColor,strokeOpacity:"0.4",strokeWidth:d})}),u.jsx("filter",{id:"pageDropShadow",x:"-10%",y:"-10%",width:"120%",height:"120%",children:u.jsx("feDropShadow",{dx:2/o,dy:2/o,stdDeviation:3/o,floodColor:"#000000",floodOpacity:"0.3"})})]}),u.jsx("rect",{x:"0",y:"0",width:m,height:S,fill:c.backgroundColor,filter:"url(#pageDropShadow)"}),u.jsx("rect",{x:"0",y:"0",width:m,height:S,fill:"url(#gridPattern)",strokeWidth:h}),u.jsxs("g",{transform:`translate(${-p}, ${-p})`,children:[u.jsx("circle",{cx:"0",cy:"0",r:8/o,strokeWidth:h}),u.jsx("text",{x:12/o,y:3/o,fontSize:10/o,fill:"var(--color-accent-primary)",className:"select-none",children:"0,0"})]})]})},I1=200,F1=i=>{const c=i.split("x").map(Number);return c.length===2&&!isNaN(c[0])&&!isNaN(c[1])&&c[0]>0&&c[1]>0?[c[0],c[1]]:[1,1]},eb=({instanceId:i,initialGridX:c,initialGridY:o,tokenSize:r,cellSize:d,activeTool:h,pageSettings:m,getSVGPoint:S,onMove:b,onDragStart:p,onDragMove:v,onDragEnd:A,onSelectInstance:R})=>{const[N,D]=w.useState(!1),[x,E]=w.useState(null),[C,_]=w.useState(null),[U,H]=w.useState(null),z=w.useCallback(j=>{if(h!==Ue.SELECT||j.button!==0)return;j.stopPropagation(),H(Date.now());const y=S(j.clientX,j.clientY),V=c*d,F=o*d;E({x:y.x-V,y:y.y-F}),_({x:V,y:F})},[h,c,o,d,S]);w.useEffect(()=>{const j=V=>{if(!x||!C)return;N||(D(!0),p(i),document.body.style.cursor="grabbing");const F=S(V.clientX,V.clientY),le=F.x-x.x,se=F.y-x.y,me={x:le,y:se};_(me),v(i,me)},y=V=>{const F=U?Date.now()-U:1/0;if(H(null),document.body.style.cursor==="grabbing"&&(document.body.style.cursor="default"),N){if(C){const[le,se]=F1(r);let me=Math.round(C.x/d),de=Math.round(C.y/d);me=Math.max(0,Math.min(me,m.widthInUnits-Math.ceil(le))),de=Math.max(0,Math.min(de,m.heightInUnits-Math.ceil(se))),b(i,me,de)}A(i)}else h===Ue.SELECT&&F<I1&&V.button===0&&R(i);D(!1),E(null),_(null)};return x&&(document.addEventListener("mousemove",j),document.addEventListener("mouseup",y)),()=>{document.removeEventListener("mousemove",j),document.removeEventListener("mouseup",y),document.body.style.cursor==="grabbing"&&(document.body.style.cursor="default")}},[N,x,C,U,i,r,d,m,h,S,b,p,v,A,R]);const X=N&&C?C:{x:c*d,y:o*d};return{isDragging:N,displayPosition:X,dragHandlers:{onMouseDown:z}}},tb=4,ab=5,Um=1;function nb({currentHp:i,maxHp:c,tokenRenderWidth:o,zoomLevel:r}){if(!(c!==void 0&&c>0&&i!==void 0))return null;const h=i??0,m=c??0,S=Math.max(0,Math.min(h,m)),b=m>0?S/m:0,p=o,v=Math.max(1,tb/r),A=Math.max(.2,.5/r),R=-v-ab/r,N=p*b,D=Math.min(Um/r,Um);return u.jsxs("g",{transform:`translate(0, ${R})`,children:[u.jsx("rect",{x:"0",y:"0",width:p,height:v,fill:"var(--color-surface-0)",rx:D,ry:D,stroke:"var(--color-surface-0)",strokeWidth:A}),u.jsx("rect",{x:A/2,y:A/2,width:N-A,height:v-A,fill:"var(--color-feedback-positive-hover)",rx:Math.max(0,D-A/2),ry:Math.max(0,D-A/2)})]})}function lb({metrics:i}){return u.jsx("image",{href:i.imageUrl,x:"0",y:"0",width:i.tokenRenderWidth,height:i.tokenRenderHeight})}const ib=i=>{const c=i.trim().match(/^(\d+)x(\d+)$/);if(c){const o=parseInt(c[1]),r=parseInt(c[2]);if(o>0&&r>0)return[o,r]}return[1,1]},sb=i=>i?i.split(" ")[0]:"";function rb({gridInstance:i,tokenInfo:c,cellSize:o,zoomLevel:r,onMove:d,activeTool:h,pageSettings:m,getSVGPoint:S,onGridInstanceSelectForHPModal:b,onGridInstanceDragStart:p,onGridInstanceDragMove:v,onGridInstanceDragEnd:A,isMultiSelected:R,isTokenSelected:N,onTokenDoubleClick:D,setSelectedInstanceId:x}){const E=w.useRef(null),C=w.useCallback(M=>{if(h===Ue.SELECT&&(x(M),b&&E.current)){const Z=E.current.getBoundingClientRect(),ne=Z?{x:Z.x,y:Z.y,width:Z.width,height:Z.height,top:Z.top,right:Z.right,bottom:Z.bottom,left:Z.left,toJSON:()=>({})}:null;b(M,ne)}},[h,x,b]),_=w.useCallback(M=>{D(i.instanceId,M.altKey)},[i.instanceId,D]),{isDragging:U,displayPosition:H,dragHandlers:z}=eb({instanceId:i.instanceId,initialGridX:i.gridX,initialGridY:i.gridY,tokenSize:c.size,cellSize:o,activeTool:h,pageSettings:m,getSVGPoint:S,onMove:d,onDragStart:p,onDragMove:v,onDragEnd:A,onSelectInstance:C}),[X,j]=ib(c.size),y=X*o,V=j*o,F=Math.max(.5,1.5/r),le=N||R,se=le?F+Math.max(.3,1/r):F,me=le?"var(--color-accent-primary)":U?"var(--color-accent-secondary)":"var(--color-border-base)",de=Math.max(8,12/r),ye=h===Ue.SELECT?U?"grabbing":"pointer":"default",Y=1/r,ae=w.useMemo(()=>({tokenRenderWidth:y,tokenRenderHeight:V,imageUrl:c.image,name:c.name,fontSize:de}),[y,V,c.image,c.name,de]),W=w.useMemo(()=>sb(c.name),[c.name]),be=V+de/2+5/r;return u.jsxs("g",{ref:E,transform:`translate(${H.x}, ${H.y})`,className:"board-token-group",style:{cursor:ye},...z,onDoubleClick:_,filter:U?"url(#tokenDragShadow)":"none","data-instance-id":i.instanceId,children:[u.jsx(nb,{currentHp:c.currentHp,maxHp:c.maxHp,tokenRenderWidth:y,zoomLevel:r}),u.jsx(lb,{metrics:ae}),u.jsx("text",{x:y/2,y:be,fontSize:de,textAnchor:"middle",dominantBaseline:"alphabetic",fontWeight:"bold",className:"select-none",pointerEvents:"none",style:{filter:"drop-shadow(0px 0px 1px rgba(0,0,0,0.7))"},children:W}),le&&u.jsx("rect",{x:-Y,y:-Y,width:y+2*Y,height:V+2*Y,fill:"none",stroke:me,strokeWidth:se})]})}const cb=({gridInstances:i,tokens:c,gridSettings:o,zoomLevel:r,activeTool:d,pageSettings:h,getSVGPoint:m,onGridInstanceSelectForHPModal:S,onGridInstanceDragStart:b,onGridInstanceDragMove:p,onGridInstanceDragEnd:v,multiSelectedInstanceIds:A,onTokenDoubleClick:R,selectedInstanceId:N,setSelectedInstanceId:D})=>{const{updateGridInstancePosition:x}=hl();return u.jsxs(u.Fragment,{children:[u.jsx("filter",{id:"tokenDragShadow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:u.jsx("feDropShadow",{dx:2.5/r,dy:3.5/r,stdDeviation:2/r,floodColor:"#000000",floodOpacity:"0.5"})}),i.map(E=>{const C=c.find(_=>_.id===E.tokenInfoId);return C?u.jsx(rb,{gridInstance:E,tokenInfo:C,cellSize:o.visualCellSize,zoomLevel:r,onMove:(_,U,H)=>x(_,U,H),activeTool:d,pageSettings:h,getSVGPoint:m,onGridInstanceSelectForHPModal:S,onGridInstanceDragStart:b,onGridInstanceDragMove:p,onGridInstanceDragEnd:v,isMultiSelected:A.includes(E.instanceId),isTokenSelected:N===E.instanceId,onTokenDoubleClick:R,selectedInstanceId:N,setSelectedInstanceId:D},E.instanceId):null})]})},ub=({rulerPath:i,zoomLevel:c,gridSettings:o})=>{const r=2.5/c,d=6/c,h=12/c,m=5/c,S=3/c;return u.jsxs("g",{children:[i.points.map((b,p)=>{var D;let v=null;if(p>0){const x=i.points[p-1];v=u.jsx("line",{x1:x.point.x,y1:x.point.y,x2:b.point.x,y2:b.point.y,stroke:"var(--color-accent-primary)",strokeWidth:r},`segment-${p}`)}const A=u.jsx("circle",{cx:b.point.x,cy:b.point.y,r:d,fill:"var(--color-accent-primary)",strokeWidth:.5/c},`waypoint-marker-${p}`);let R=null;if(i.points.length===1&&!i.isActive&&b.cumulativeDistanceMeters>0||i.points.length>1&&p>0||i.points.length>1&&p===0&&b.cumulativeDistanceMeters===0&&((D=i.points[1])==null?void 0:D.cumulativeDistanceMeters)>0||p===0&&i.points.length===1&&i.isActive&&b.cumulativeDistanceMeters===0){const x=b.cumulativeDistanceMeters.toFixed(1)+"m",C=x.length*h*.55+m*2,_=h+m*1.5,U=b.point.x,H=b.point.y-d-_/2-2/c;R=u.jsxs("g",{children:[u.jsx("rect",{x:U-C/2,y:H-_*.65,width:C,height:_,fill:"var(--color-accent-primary)",rx:S,ry:S}),u.jsx("text",{x:U,y:H,fontSize:h,fill:"var(--color-text-primary)",textAnchor:"middle",dominantBaseline:"middle",className:"select-none",children:x})]},`wp-text-group-${p}`)}return u.jsxs(ua.Fragment,{children:[v,A,R]},`wp-group-${p}`)}),i.isActive&&i.liveEndPoint&&i.points.length>0&&u.jsxs(u.Fragment,{children:[u.jsx("line",{x1:i.points[i.points.length-1].point.x,y1:i.points[i.points.length-1].point.y,x2:i.liveEndPoint.x,y2:i.liveEndPoint.y,stroke:"var(--color-accent-secondary)",strokeWidth:r,strokeDasharray:`${6/c},${3/c}`}),(()=>{const b=i.points[i.points.length-1],v=(b.cumulativeDistanceMeters+xu(b.point,i.liveEndPoint,o.visualCellSize,o.metersPerSquare)).toFixed(1)+"m",R=v.length*h*.55+m*2,N=h+m*1.5,D=i.liveEndPoint.x+10/c,x=i.liveEndPoint.y-10/c;return u.jsxs("g",{children:[u.jsx("rect",{x:D-m,y:x-N*.65,width:R,height:N,fill:"var(--color-accent-secondary)",rx:S,ry:S}),u.jsx("text",{x:D,y:x,fontSize:h,fill:"var(--color-text-primary)",textAnchor:"start",dominantBaseline:"middle",className:"select-none",children:v})]})})()]})]})},ob=({marqueeSelection:i,zoomLevel:c})=>{const o=i.isActive&&i.startPoint&&i.currentPoint?{x:Math.min(i.startPoint.x,i.currentPoint.x),y:Math.min(i.startPoint.y,i.currentPoint.y),width:Math.abs(i.startPoint.x-i.currentPoint.x),height:Math.abs(i.startPoint.y-i.currentPoint.y)}:null;return u.jsx(u.Fragment,{children:o&&u.jsx("rect",{...o,fill:"var(--color-accent-primary)",fillOpacity:"0.8",stroke:"var(--color-accent-primary)",strokeWidth:1/c,strokeDasharray:`${4/c} ${2/c}`})})};function qs({isOpen:i,onClose:c,title:o,children:r,onConfirm:d,confirmText:h="Confirmar",cancelText:m="Cancelar",hideFooter:S=!1,zIndex:b,modalClassName:p=""}){return w.useEffect(()=>{const v=A=>{A.key==="Escape"&&c()};return i&&document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}},[i,c]),i?u.jsx("div",{className:"fixed inset-0 bg-overlay flex items-center justify-center p-4",onClick:c,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",style:{zIndex:b},children:u.jsxs("div",{className:`bg-surface-0 p-6 rounded-lg shadow-xl max-w-md w-full ${p}`,onClick:v=>v.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h2",{id:"modal-title",className:"text-2xl font-semibold",children:o}),u.jsx("button",{onClick:c,className:"bg-surface-2 p-1 rounded-full focus:outline-none focus:ring-2 focus:ring-feedback-negative cursor-pointer hover:bg-feedback-negative","aria-label":"Fechar modal",children:u.jsx(wu,{className:"w-6 h-6"})})]}),r," ",!S&&u.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[u.jsx("button",{onClick:c,className:"text-surface-0 cursor-pointer bg-surface-2 border border-surface-0 px-4 py-2 rounded-md font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-surface-1 focus:ring-accent-primary hover:border-feedback-negative-hover hover:text-text-primary hover:bg-feedback-negative-hover",children:m}),d&&u.jsx("button",{onClick:d,className:"text-surface-0 cursor-pointer bg-accent-secondary border border-surface-0 px-4 py-2 rounded-md font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-surface-1 focus:ring-accent-primary hover:border-accent-primary-hover hover:text-text-primary hover:bg-accent-primary-hover",children:h})]})]})}):null}function Ae(...i){return Eh(fh(i))}function fb({isOpen:i,onClose:c}){const{pageSettings:o,gridSettings:r,updatePageSettings:d,updateGridSettings:h}=Tu(),[m,S]=w.useState(o.widthInUnits),[b,p]=w.useState(o.heightInUnits),[v,A]=w.useState(o.backgroundColor),[R,N]=w.useState(r.visualCellSize),[D,x]=w.useState(r.lineColor),[E,C]=w.useState(r.metersPerSquare);w.useEffect(()=>{i&&(S(o.widthInUnits),p(o.heightInUnits),A(o.backgroundColor),N(r.visualCellSize),x(r.lineColor),C(r.metersPerSquare))},[i,o,r]);const _=()=>{d({widthInUnits:Number(m),heightInUnits:Number(b),backgroundColor:v}),h({visualCellSize:Number(R),lineColor:D,metersPerSquare:Number(E)}),c()};return u.jsx(qs,{isOpen:i,onClose:c,title:"Ajustes de Pgina e Grade",onConfirm:_,confirmText:"Salvar Alteraes",cancelText:"Cancelar",children:u.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto px-2 hide-scrollbar",children:[u.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Pgina"}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"pageWidthInUnits",className:"block text-sm font-medium text-accent-primary mb-1",children:"Largura da Pgina (quadrados)"}),u.jsx("input",{id:"pageWidthInUnits",type:"number",value:m,onChange:U=>S(Math.max(1,parseInt(U.target.value,10))),className:" w-full p-2 bg-surface-1 border border-surface-2 rounded-md focus:ring-1   text-text-primary placeholder-text-secondary",min:"1",step:"1"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"pageHeightInUnits",className:"block text-sm font-medium text-accent-primary mb-1",children:"Altura da Pgina (quadrados)"}),u.jsx("input",{id:"pageHeightInUnits",type:"number",value:b,onChange:U=>p(Math.max(1,parseInt(U.target.value,10))),className:"w-full p-2 bg-surface-1 border border-surface-2 rounded-md focus:ring-1    placeholder-text-secondary",min:"1",step:"1"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"pageBackgroundColor",className:"block text-sm font-medium text-accent-primary mb-1",children:"Cor de Fundo da Pgina"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("input",{id:"pageBackgroundColor",type:"color",value:v,onChange:U=>A(U.target.value),className:Ae("w-full p-2 bg-surface-1 border border-surface-2 rounded-md focus:ring-1   text-text-primary placeholder-text-secondary","h-10 w-16 p-1")}),u.jsx("input",{type:"text",value:v,onChange:U=>A(U.target.value),className:Ae("w-full p-2 bg-surface-1 border border-surface-2 rounded-md focus:ring-1    placeholder-text-secondary","flex-grow"),placeholder:"#FFFFFF"})]})]}),u.jsx("h3",{className:"text-lg font-semibold mt-6 mb-3 pt-4 border-t",children:"Grade"}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"visualCellSize",className:"block text-sm font-medium text-accent-primary mb-1",children:"Tamanho da Clula"}),u.jsx("input",{id:"visualCellSize",type:"number",value:R,onChange:U=>N(Math.max(10,parseFloat(U.target.value))),className:"w-full p-2 bg-surface-1 border border-surface-2 rounded-md focus:ring-1   text-text-primary placeholder-text-secondary",min:"10",step:"1",placeholder:String(lh)})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"lineColor",className:"block text-sm font-medium text-accent-primary mb-1",children:"Cor da Linha da Grade"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("input",{id:"lineColor",type:"color",value:D,onChange:U=>x(U.target.value),className:Ae("w-full p-2 bg-surface-1 border border-surface-2 rounded-md focus:ring-1   text-text-primary placeholder-text-secondary","h-10 w-16 p-1")}),u.jsx("input",{type:"text",value:D,onChange:U=>x(U.target.value),className:Ae("w-full p-2 bg-surface-1 border border-surface-2 rounded-md focus:ring-1   text-text-primary placeholder-text-secondary","flex-grow"),placeholder:Lp})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"metersPerSquare",className:"block text-sm font-medium text-accent-primary mb-1",children:"Metros por Quadrado"}),u.jsx("input",{id:"metersPerSquare",type:"number",value:E,onChange:U=>C(Math.max(.1,parseFloat(U.target.value))),className:"w-full p-2 bg-surface-1 border border-surface-2 rounded-md focus:ring-1   text-text-primary placeholder-text-secondary",min:"0.1",step:"0.1",placeholder:String(ih)})]})]})})}const db=({zoomLevel:i,handleZoomIn:c,handleZoomOut:o,isPageAndGridSettingsModalOpen:r,setIsPageAndGridSettingsModalOpen:d})=>u.jsxs("div",{className:"border bg-surface-0 absolute top-2 right-2 flex flex-col items-end space-y-2 rounded",children:[u.jsx("button",{onClick:()=>d(!0),className:"hover:bg-accent-primary-hover p-2 rounded-md shadow-md focus:outline-none focus:ring-2 cursor-pointer","aria-label":"Configuraes da Pgina e Grade",title:"Configuraes da Pgina e Grade",children:u.jsx(zp,{className:"w-6 h-6 p-[0.1rem]"})}),u.jsxs("div",{className:"bg-opacity-80 p-2 rounded-md shadow-md flex flex-col items-center space-y-2 w-10",children:[u.jsx("button",{onClick:c,disabled:i>=pu,className:"hover:bg-accent-primary-hover zoom-control-button p-1 rounded disabled:opacity-50 disabled:cursor-not-allowed focus:ring-2 cursor-pointer","aria-label":"Aumentar zoom",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:u.jsx("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"})})}),u.jsx("button",{onClick:o,disabled:i<=gu,className:"hover:bg-accent-primary-hover zoom-control-button p-1 rounded disabled:opacity-50 disabled:cursor-not-allowed focus:ring-2 cursor-pointer","aria-label":"Diminuir zoom",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:u.jsx("path",{fillRule:"evenodd",d:"M4 10a.75.75 0 01.75-.75h10.5a.75.75 0 010 1.5H4.75A.75.75 0 014 10z",clipRule:"evenodd"})})}),u.jsx("span",{className:"text-[0.6rem]",children:"Zoom"}),u.jsxs("div",{className:"bg-surface-3 text-xs px-2 p-1 rounded border -mt-[0.4rem]",children:[i.toFixed(2),"x"]})]}),u.jsx(fb,{isOpen:r,onClose:()=>d(!1)})]}),mb=({onGridInstanceSelectForHPModal:i,onBackgroundClick:c,activeHPModalInstanceId:o,onHPModalAnchorShouldUpdate:r,draggingVisuals:d,onGridInstanceDragStart:h,onGridInstanceDragMove:m,onGridInstanceDragEnd:S,multiSelectedInstanceIds:b,onSetMultiSelectedInstanceIds:p,onClearMultiSelection:v,selectedInstanceId:A,setSelectedInstanceId:R})=>{const{tokens:N,gridInstances:D,addGridInstance:x}=hl(),{gridSettings:E,pageSettings:C,rulerPlacementMode:_,rulerPersists:U}=Tu(),{activeTool:H}=Ys(),{openModal:z}=nn(),X=w.useRef(null),[j,y]=w.useState(!1),{viewBox:V,zoomLevel:F,isPanning:le,getSVGPoint:se,handleWheel:me,handlePanStart:de,handlePanMove:ye,handlePanEnd:Y,handleZoomIn:ae,handleZoomOut:W}=Q1({svgRef:X,pageSettings:C,gridSettings:E}),{rulerPath:be,handleRulerMouseDown:M,handleRulerMouseMove:Z,handleRulerMouseUp:ne,handleRulerRightClick:te}=K1({activeTool:H,rulerPlacementMode:_,rulerPersists:U,gridSettings:E,getSVGPoint:se}),{marqueeSelection:ie,handleMarqueeMouseDown:Q,handleMarqueeMouseMove:I,handleMarqueeMouseUp:J}=$1({activeTool:H,getSVGPoint:se,gridInstances:D,tokens:N,gridSettings:E,onSetMultiSelectedInstanceIds:p,onClearMultiSelection:v}),{handleDragOver:ee,handleTokenDrop:oe}=J1({getSVGPoint:se,tokens:N,gridSettings:E,pageSettings:C,addGridInstance:x}),{handleMouseDown:Ce}=P1({svgRef:X,activeTool:H,isPanning:le,handlePanStart:de,handlePanMove:ye,handlePanEnd:Y,handleRulerMouseDown:M,handleRulerMouseMove:Z,handleRulerMouseUp:ne,handleRulerRightClick:te,handleMarqueeMouseDown:Q,handleMarqueeMouseMove:I,handleMarqueeMouseUp:J,onBackgroundClick:c}),Pe=w.useCallback((Ee,Qe)=>{if(Qe){const Ke=D.find(Xe=>Xe.instanceId===Ee);Ke?z("sheet",{tokenId:Ke.tokenInfoId}):console.error("Instance not found for double-click:",Ee)}},[z,D]),Ge=w.useCallback((Ee,Qe,Ke)=>{if(!X.current||!Qe)return null;const Xe=X.current.getBoundingClientRect(),[Ft,oa]=ks(Qe.size);let xt,gt;Ke?(xt=Ke.x,gt=Ke.y):(xt=Ee.gridX*E.visualCellSize,gt=Ee.gridY*E.visualCellSize);const ea=Ft*E.visualCellSize,fa=oa*E.visualCellSize,Qt=(xt-V.x)*F+Xe.left,Kt=(gt-V.y)*F+Xe.top,Mt=ea*F,Ie=fa*F;return{x:Qt,y:Kt,width:Mt,height:Ie,top:Kt,right:Qt+Mt,bottom:Kt+Ie,left:Qt,toJSON:()=>({})}},[V,F,E.visualCellSize,X]);w.useEffect(()=>{if(o&&r){const Ee=D.find(Qe=>Qe.instanceId===o);if(Ee){const Qe=N.find(Ft=>Ft.id===Ee.tokenInfoId);let Ke;d.instanceId===o&&d.visualSVGPoint&&(Ke=d.visualSVGPoint);const Xe=Ge(Ee,Qe,Ke);r(o,Xe)}}},[V,F,o,D,N,d,r,Ge]);let We=null;if(b.length>0){let Ee=1/0,Qe=1/0,Ke=-1/0,Xe=-1/0,Ft=!1;b.forEach(oa=>{const xt=D.find(gt=>gt.instanceId===oa);if(xt){const gt=N.find(ea=>ea.id===xt.tokenInfoId);if(gt){Ft=!0;const[ea,fa]=ks(gt.size),Qt=xt.gridX*E.visualCellSize,Kt=xt.gridY*E.visualCellSize,Mt=ea*E.visualCellSize,Ie=fa*E.visualCellSize;Ee=Math.min(Ee,Qt),Qe=Math.min(Qe,Kt),Ke=Math.max(Ke,Qt+Mt),Xe=Math.max(Xe,Kt+Ie)}}}),Ft&&(We={x:Ee,y:Qe,width:Ke-Ee,height:Xe-Qe})}return u.jsxs("div",{className:"flex-grow bg-surface-0 relative overflow-hidden",children:[u.jsxs("svg",{ref:X,width:"100%",height:"100%",viewBox:`${V.x} ${V.y} ${V.width} ${V.height}`,onMouseDown:Ce,onWheel:me,onContextMenu:Ee=>Ee.preventDefault(),onDragOver:ee,onDrop:oe,children:[u.jsx(W1,{gridSettings:E,pageSettings:C,zoomLevel:F}),u.jsx(cb,{gridInstances:D,tokens:N,gridSettings:E,zoomLevel:F,activeTool:H,pageSettings:C,getSVGPoint:se,onGridInstanceSelectForHPModal:i,onGridInstanceDragStart:h,onGridInstanceDragMove:m,onGridInstanceDragEnd:S,multiSelectedInstanceIds:b,onTokenDoubleClick:Pe,selectedInstanceId:A,setSelectedInstanceId:R}),We&&u.jsx("rect",{x:We.x,y:We.y,width:We.width,height:We.height,fill:"none",stroke:"var(--color-accent-primary)",strokeWidth:1.5/F,strokeOpacity:"1.0"}),u.jsx(ob,{marqueeSelection:ie,zoomLevel:F}),u.jsx(ub,{rulerPath:be,zoomLevel:F,gridSettings:E})]}),u.jsx(db,{zoomLevel:F,handleZoomIn:ae,handleZoomOut:W,isPageAndGridSettingsModalOpen:j,setIsPageAndGridSettingsModalOpen:y})]})};function km({tab:i,label:c,icon:o,isActive:r,onClick:d}){return u.jsxs("button",{onClick:d,"aria-pressed":r,"aria-controls":`tabpanel-${i.toLowerCase()}`,role:"tab",id:`tab-${i.toLowerCase()}`,className:Ae("flex-1 py-3 px-2 flex flex-col items-center justify-center text-xs cursor-pointer border-b-2",r?"border-accent-primary ":"bg-surface-0 hover:bg-surface-3"),children:[ua.cloneElement(o,{className:"w-5 h-5 mb-1","aria-hidden":!0}),c]})}const hb=({activeSidebarTab:i,setActiveSidebarTab:c})=>u.jsxs(u.Fragment,{children:[u.jsx(km,{tab:Aa.CHAT,label:"Chat",icon:u.jsx(Mp,{}),isActive:i===Aa.CHAT,onClick:()=>c(Aa.CHAT)}),u.jsx(km,{tab:Aa.TOKENS,label:"Tokens",icon:u.jsx(jp,{}),isActive:i===Aa.TOKENS,onClick:()=>c(Aa.TOKENS)})]}),gb=50,pb=(i=[])=>{const[c,o]=w.useState(i),[r,d]=w.useState(-1),[h,m]=w.useState(""),S=w.useCallback(v=>{o(A=>[v.trim(),...A.filter(N=>N.trim()!==v.trim())].slice(0,gb)),d(-1),m("")},[]),b=w.useCallback((v,A)=>{if(c.length===0&&v==="up"||r===-1&&v==="down")return null;let R=r,N=null;return v==="up"?r===-1?(m(A),R=0):R=Math.min(r+1,c.length-1):R=r-1,d(R),R===-1?N=h:c[R]!==void 0&&(N=c[R]),N},[c,r,h]),p=w.useCallback(()=>{d(-1)},[]);return{commandHistory:c,addCommandToHistory:S,navigateHistory:b,resetHistoryNavigation:p}},Nh=[{name:"/roll",description:"Rola dados com a notao especificada.",usage:"/roll <XdY>[+/-Z]",validateArgs:i=>{if(i.length===0)return"Falta a notao dos dados. Uso: /roll <XdY>[+/-Z]";const c=i.join(" "),o=/^(\d{1,3})d(\d{1,3})(([+-])(\d+))?$/i,r=c.match(o);if(!r)return"Notao de dados invlida. Use XdY ou XdY+/-Z (X, Y entre 1-100). Ex: 2d6+3";const d=parseInt(r[1]),h=parseInt(r[2]);return d<1||d>100||h<1||h>100?"Dados invlidos. Nmero de dados (X) e lados (Y) devem ser entre 1 e 100.":null},execute:(i,c)=>{const o=i.join(" ");c.rollAndSendMessage(o)}},{name:"/help",description:"Mostra informaes sobre os comandos disponveis.",usage:"/help [nome-do-comando]",execute:(i,c)=>{const o=c.getAllCommands();if(i.length>0){const r=i[0].startsWith("/")?i[0]:`/${i[0]}`,d=o.find(h=>{var m;return h.name===r||((m=h.aliases)==null?void 0:m.includes(r))});if(d){let h=`Ajuda para ${d.name}:
`;h+=`  Descrio: ${d.description}
`,d.usage&&(h+=`  Uso: ${d.usage}
`),d.aliases&&(h+=`  Alternativas: ${d.aliases.join(", ")}
`),c.sendMessage(h,"Sistema")}else c.sendMessage(`Comando "${r}" no encontrado. Digite /help para ver todos os comandos.`,"Sistema")}else{const r=`Comandos disponveis:

`+o.map(d=>{let h=`${d.name}${d.usage?` - ${d.usage.substring(d.name.length).trim()}`:""} - ${d.description}`;return d.aliases&&d.aliases.length>0&&(h+=` (Alternativas: ${d.aliases.join(", ")})`),h}).join(`
`);c.sendMessage(r,"Sistema")}}},{name:"/clear",description:"Limpa o histrico do chat.",aliases:["/cls"],execute:(i,c)=>{c.clearMessages(),c.sendMessage("Histrico do chat limpo.","Sistema")}}],bb=i=>{const c=i.toLowerCase();return Nh.find(o=>o.name.toLowerCase()===c||o.aliases&&o.aliases.some(r=>r.toLowerCase()===c))},Ch=()=>[...Nh];function yb({messages:i,messagesEndRef:c}){const o=r=>r.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return u.jsxs("div",{className:"flex-grow p-4 space-y-3 overflow-y-scroll hide-scrollbar",children:[i.map(r=>u.jsx("div",{className:`flex flex-col ${r.sender===vi?"items-end":"items-start"}`,children:u.jsxs("div",{className:`max-w-xs md:max-w-md p-2.5 rounded-lg shadow ${r.isDiceRoll?"bg-accent-secondary text-text-primary":r.sender===vi?"bg-surface-2 text-text-primary":"bg-surface-1"}`,children:[u.jsxs("div",{className:"flex justify-between items-center mb-1",children:[u.jsx("span",{className:"text-xs font-semibold opacity-80",children:r.sender}),u.jsx("span",{className:"text-xs opacity-60 ml-2",children:o(r.timestamp)})]}),r.isDiceRoll?u.jsx("div",{className:"text-sm",children:(()=>{const d=r.diceRollDetails,h=d.modifierOperator&&d.modifierValue!==void 0?u.jsxs("span",{className:"italic",children:[" ",d.modifierOperator," ",d.modifierValue]}):null;return u.jsxs(u.Fragment,{children:[u.jsxs("span",{className:"italic",children:["Rolou ",d.notation,":"]}),u.jsx("span",{className:"mx-1 font-medium",children:"["}),d.rolls.map((m,S)=>u.jsxs("span",{className:`font-bold ${m===20?"text-feedback-positive":m===1?"text-feedback-negative":""}`,children:[m,S<d.rolls.length-1?u.jsx("span",{className:"font-medium",children:", "}):""]},S)),u.jsx("span",{className:"mx-1 font-medium",children:"]"}),h,u.jsx("span",{className:"mx-1",children:"="}),u.jsx("div",{className:`inline-block mt-1 p-1 px-2.5 rounded shadow-inner ${d.finalResult===20?" bg-feedback-positive text-surface-0 ":d.finalResult===1?"bg-feedback-negative text-surface-0":"bg-surface-0"}`,children:u.jsx("span",{className:"font-bold text-lg",children:d.finalResult})})]})})()}):u.jsx("p",{className:"text-sm break-words whitespace-pre-line",children:r.text})]})},r.id)),u.jsx("div",{ref:c})]})}function vb({isOpen:i,onClose:c,targetInputRef:o,onCommandSelect:r,inputValue:d}){var x;const h=w.useRef(null),[m,S]=w.useState(0),[b,p]=w.useState({top:0,left:0,opacity:0}),v=w.useMemo(()=>Ch(),[]),A=w.useMemo(()=>{if(!d||!d.startsWith("/"))return[];const E=d.toLowerCase().split(" ")[0];return v.filter(C=>C.name.toLowerCase().startsWith(E)||C.aliases&&C.aliases.some(_=>_.toLowerCase().startsWith(E)))},[d,v]),R=w.useRef(c),N=w.useRef(r),D=w.useRef({selectedIndex:m,filteredCommands:A});return w.useEffect(()=>{R.current=c,N.current=r,D.current={selectedIndex:m,filteredCommands:A}}),w.useEffect(()=>{S(0)},[A]),w.useEffect(()=>{let E=0,C=0;if(h.current&&(E=h.current.offsetHeight,C=h.current.offsetWidth),i&&o.current){const _=o.current.getBoundingClientRect(),U=_.top,H=window.innerHeight-_.bottom;let z;E<U||U>=H?z=_.top-E-8:z=_.bottom+8;let X=_.left;X+C>window.innerWidth&&(X=window.innerWidth-C-8),X<8&&(X=8),z<8&&(z=8),z+E>window.innerHeight-8&&(z=window.innerHeight-E-8),z<8&&(z=8),p({top:z,left:X,opacity:1})}else p(_=>({..._,opacity:0}))},[i,o,d,A]),w.useEffect(()=>{if(!i)return;const E=_=>{if(document.activeElement!==o.current)return;const{selectedIndex:U,filteredCommands:H}=D.current;switch(_.key){case"Escape":_.preventDefault(),R.current();break;case"ArrowDown":_.preventDefault(),H.length>0&&S(z=>(z+1)%H.length);break;case"ArrowUp":_.preventDefault(),H.length>0&&S(z=>(z-1+H.length)%H.length);break;case"Enter":case"Tab":if(_.preventDefault(),H.length>0&&H[U]){const z=H[U],X=z.usage&&z.usage.includes("<")?z.name+" ":z.name;N.current(X),R.current()}break}},C=_=>{h.current&&!h.current.contains(_.target)&&o.current&&!o.current.contains(_.target)&&R.current()};return document.addEventListener("keydown",E),document.addEventListener("mousedown",C),()=>{document.removeEventListener("keydown",E),document.removeEventListener("mousedown",C)}},[i,o]),w.useEffect(()=>{if(i&&h.current&&A.length>0&&h.current.children.length>0){const E=h.current.querySelector("ul");E&&E.children[m]&&E.children[m].scrollIntoView({block:"nearest",inline:"nearest"})}},[m,i,A]),!i||!d.startsWith("/")?null:u.jsx("div",{ref:h,style:{position:"fixed",top:`${b.top}px`,left:`${b.left}px`,opacity:b.opacity,minWidth:(x=o.current)==null?void 0:x.offsetWidth,transition:"opacity 0.1s ease-in-out"},className:" bg-surface-0 rounded-md shadow-xl z-[70] p-2",role:"listbox","aria-label":"Sugestes de comando","aria-live":"polite",children:u.jsx("ul",{className:"space-y-1 max-h-48 overflow-y-auto",tabIndex:-1,id:"command-suggestions",children:A.length>0?A.map((E,C)=>{const _=E.name,U=E.usage?E.usage.substring(E.name.length):"";return u.jsxs("li",{className:"bg-surface-1 p-1.5 rounded text-sm text-text-primary hover:bg-accent-secondary-hover cursor-pointer ",onClick:()=>{const H=E.usage&&E.usage.includes("<")?E.name+" ":E.name;N.current(H),R.current()},title:E.description,role:"option","aria-selected":C===m,id:`command-option-${C}`,children:[u.jsx("span",{className:"font-semibold",children:_}),U&&u.jsx("span",{children:U}),u.jsx("span",{className:"text-text-secondary block text-xs",children:E.description})]},E.name)}):u.jsx("li",{className:"p-1.5 text-sm text-text-secondary",children:"Nenhum comando correspondente."})})})}const xb=({inputText:i,setInputText:c,handleSubmit:o,isCommandPopoverOpen:r,setIsCommandPopoverOpen:d,commandError:h,resetHistoryNavigation:m,navigateHistory:S})=>{const b=w.useRef(null),p=R=>{const N=R.target.value;c(N),N.startsWith("/")?d(!0):d(!1),N!==i&&m()},v=R=>{c(R),d(!1),b.current&&(b.current.focus(),setTimeout(()=>{var N;return(N=b.current)==null?void 0:N.setSelectionRange(R.length,R.length)},0))},A=R=>{if(r){if(R.key==="Enter"){d(!1);return}else if(["ArrowUp","ArrowDown","Escape"].includes(R.key))return}if(R.key==="ArrowUp"||R.key==="ArrowDown"){R.preventDefault();const N=R.key==="ArrowUp"?"up":"down",D=S(N,i);D!==null&&(c(D),setTimeout(()=>{var x;return(x=b.current)==null?void 0:x.setSelectionRange(D.length,D.length)},0))}else R.key==="Escape"&&r&&d(!1)};return u.jsxs(u.Fragment,{children:[u.jsx(vb,{isOpen:r,onClose:()=>d(!1),targetInputRef:b,onCommandSelect:v,inputValue:i}),u.jsxs("form",{onSubmit:o,className:"p-4",children:[u.jsxs("div",{className:"flex space-x-2 ",children:[u.jsx("input",{ref:b,type:"text",value:i,onChange:p,onKeyDown:A,placeholder:"Digite uma mensagem ou /comando...",className:"flex-grow p-2 border border-text-secondary rounded-md ","aria-label":"Entrada de mensagem do chat","aria-autocomplete":"list","aria-expanded":r,autoComplete:"off","aria-controls":r?"command-suggestions":void 0}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-accent-primary cursor-pointer hover:bg-accent-primary-hover font-semibold rounded-md ",children:"Enviar"})]}),u.jsx("p",{className:" text-xs text-text-secondary mt-1.5 min-h-[3rem] ",role:"alert","aria-live":"assertive",children:h})]})]})};function Sb(){const{messages:i,sendMessage:c,rollAndSendMessage:o,clearMessages:r}=rh(),[d,h]=w.useState(""),m=w.useRef(null),[S,b]=w.useState(!1),[p,v]=w.useState(null),{addCommandToHistory:A,navigateHistory:R,resetHistoryNavigation:N}=pb(),D=()=>{var C;(C=m.current)==null||C.scrollIntoView({behavior:"smooth"})};w.useEffect(D,[i]);const x=C=>{C&&A(C),h(""),b(!1),v(null),N()},E=C=>{C.preventDefault();const _=d.trim();if(_)if(_.startsWith("/")){const U=_.split(" "),H=U[0].toLowerCase(),z=U.slice(1),X=bb(H);if(X){if(X.validateArgs){const y=X.validateArgs(z);if(y){v(y);return}}const j={rollAndSendMessage:o,sendMessage:c,clearMessages:r,getAllCommands:Ch};X.execute(z,j),x(_)}else v(`Comando desconhecido: ${H}. Digite /help para uma lista de comandos.`)}else c(_,vi),x()};return u.jsxs(u.Fragment,{children:[u.jsx(yb,{messages:i,messagesEndRef:m}),u.jsx(xb,{inputText:d,setInputText:h,handleSubmit:E,isCommandPopoverOpen:S,setIsCommandPopoverOpen:b,commandError:p,resetHistoryNavigation:N,navigateHistory:R})]})}function Eb({isOpen:i,onClose:c,targetRef:o,children:r}){const d=w.useRef(null),[h,m]=w.useState({top:0,left:0,opacity:0});return w.useEffect(()=>{if(i&&o.current&&d.current){const S=o.current.getBoundingClientRect(),b=d.current.offsetHeight,p=d.current.offsetWidth;let v=S.bottom+8,A=S.left;v+b>window.innerHeight&&(v=S.top-b-8),A+p>=window.innerWidth&&(A=S.right-p),v<0&&(v=0),v+b>window.innerHeight&&(v=window.innerHeight-b),A<0&&(A=0),A+p>window.innerWidth&&(A=window.innerWidth-p),m({top:v,left:A,opacity:1})}else m(S=>({...S,opacity:0}))},[i,o,r]),w.useEffect(()=>{if(!i)return;const S=p=>{d.current&&!d.current.contains(p.target)&&o.current&&!o.current.contains(p.target)&&c()},b=p=>{p.key==="Escape"&&c()};return document.addEventListener("mousedown",S),document.addEventListener("keydown",b),()=>{document.removeEventListener("mousedown",S),document.removeEventListener("keydown",b)}},[i,c,o]),!i&&h.opacity===0?null:u.jsx("div",{ref:d,style:{position:"fixed",top:`${h.top}px`,left:`${h.left}px`,opacity:h.opacity,transition:"opacity 0.1s ease-in-out"},className:"bg-surface-0 border border-accent-primary-hover rounded-md shadow-xl z-[70] p-1",role:"menu","aria-orientation":"vertical",children:r})}function wb({tokenInfo:i,instanceCount:c,openSheetModal:o}){const{deleteToken:r,duplicateToken:d}=hl(),{openModal:h,closeModal:m}=nn(),[S,b]=w.useState(!1),p=w.useRef(null),v=(E,C)=>{E.dataTransfer.setData("application/vtt-token-info-id",C),E.dataTransfer.effectAllowed="move",E.currentTarget.style.opacity="0.5"},A=E=>{E.currentTarget.style.opacity="1"},R=E=>{E.stopPropagation(),b(!0)},N=()=>{b(!1)},D=()=>{d(i.id),N()},x=()=>{N(),h("confirmationModal",{title:"Confirmar Excluso",content:`Tem certeza que deseja excluir permanentemente o modelo "${i.name}" e todas as suas ${c} instncias no tabuleiro? Esta ao no pode ser desfeita.`,confirmText:"Confirmar",cancelText:"Cancelar",onConfirm:()=>{r(i.id),m()},onCancel:()=>{m()}})};return u.jsxs("li",{className:"bg-surface-3 p-3 rounded-md flex justify-between items-center shadow duration-150  ",title:`Arraste '${i.name}' para o tabuleiro para criar uma instncia, ou clique para abrir a ficha.`,draggable:!0,onDragStart:E=>v(E,i.id),onDragEnd:A,"aria-label":`Modelo de token ${i.name}. Tipo: ${Us[i.type]}. Tamanho: ${i.size}. ${c} instncias no tabuleiro.`,children:[u.jsxs("div",{className:"hover:bg-surface-0 flex items-center space-x-3 flex-grow cursor-pointer rounded -ml-1 pl-5 -my-1 py-1",onClick:()=>o(i.id),role:"button",tabIndex:0,onKeyDown:E=>{(E.key==="Enter"||E.key===" ")&&o(i.id)},"aria-describedby":`token-details-${i.id}`,children:[u.jsx("img",{src:i.image,alt:`Imagem do token ${i.name}`,className:"w-10 h-10 rounded-sm flex-shrink-0 shadow-sm object-cover ","aria-hidden":"true"}),u.jsxs("div",{className:"overflow-hidden",id:`token-details-${i.id}`,children:[u.jsx("span",{className:" font-bold block ",title:i.name,children:i.name}),u.jsxs("span",{className:"text-xs text-text-secondary block mb-1",children:[Us[i.type]," - ",i.size,c>0&&u.jsxs("span",{className:"italic text-text-secondary",children:[" (",c," no tabuleiro)"]})]})]})]}),u.jsx("button",{ref:p,onClick:R,className:"hover:bg-accent-primary p-1 ml-2 flex-shrink-0 rounded-full focus:outline-none focus:ring-1 focus:ring-offset-1 focus:ring-accent-primary","aria-label":`Mais opes para o modelo de token ${i.name}`,title:`Mais opes para o modelo de token ${i.name}`,children:u.jsx(Dp,{})}),u.jsx(Eb,{isOpen:S,onClose:N,targetRef:p,children:u.jsxs("ul",{className:"min-w-[150px] ",children:[u.jsx("li",{children:u.jsx("button",{onClick:D,className:" block w-full text-left px-3 py-2 text-sm hover:bg-accent-secondary rounded-md",role:"menuitem",children:"Duplicar Personagem"})}),u.jsx("li",{children:u.jsx("button",{onClick:x,className:"hover:bg-feedback-negative-hover block w-full text-left px-3 py-2 text-sm  rounded-md",role:"menuitem",children:"Excluir Personagem"})})]})})]})}var Mh={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Bm=ua.createContext&&ua.createContext(Mh),Tb=["attr","size","title"];function Nb(i,c){if(i==null)return{};var o=Cb(i,c),r,d;if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(i);for(d=0;d<h.length;d++)r=h[d],!(c.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(o[r]=i[r])}return o}function Cb(i,c){if(i==null)return{};var o={};for(var r in i)if(Object.prototype.hasOwnProperty.call(i,r)){if(c.indexOf(r)>=0)continue;o[r]=i[r]}return o}function Bs(){return Bs=Object.assign?Object.assign.bind():function(i){for(var c=1;c<arguments.length;c++){var o=arguments[c];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o[r])}return i},Bs.apply(this,arguments)}function Lm(i,c){var o=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);c&&(r=r.filter(function(d){return Object.getOwnPropertyDescriptor(i,d).enumerable})),o.push.apply(o,r)}return o}function Ls(i){for(var c=1;c<arguments.length;c++){var o=arguments[c]!=null?arguments[c]:{};c%2?Lm(Object(o),!0).forEach(function(r){Mb(i,r,o[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):Lm(Object(o)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(o,r))})}return i}function Mb(i,c,o){return c=Ab(c),c in i?Object.defineProperty(i,c,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[c]=o,i}function Ab(i){var c=jb(i,"string");return typeof c=="symbol"?c:c+""}function jb(i,c){if(typeof i!="object"||!i)return i;var o=i[Symbol.toPrimitive];if(o!==void 0){var r=o.call(i,c);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(i)}function Ah(i){return i&&i.map((c,o)=>ua.createElement(c.tag,Ls({key:o},c.attr),Ah(c.child)))}function jh(i){return c=>ua.createElement(Db,Bs({attr:Ls({},i.attr)},c),Ah(i.child))}function Db(i){var c=o=>{var{attr:r,size:d,title:h}=i,m=Nb(i,Tb),S=d||o.size||"1em",b;return o.className&&(b=o.className),i.className&&(b=(b?b+" ":"")+i.className),ua.createElement("svg",Bs({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},o.attr,r,m,{className:b,style:Ls(Ls({color:i.color||o.color},o.style),i.style),height:S,width:S,xmlns:"http://www.w3.org/2000/svg"}),h&&ua.createElement("title",null,h),i.children)};return Bm!==void 0?ua.createElement(Bm.Consumer,null,o=>c(o)):c(Mh)}function zb(i){return jh({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M365.1 21.31c-6.3-.03-12.4.5-16.9 1.4-4.3.86-6.9 2.81-6.8 2.25-5.4 9.07-11.1 24.96-12.3 38.47-.7 6.95-.2 13.21 1.3 17.39 1.5 4.17 3.2 6.1 6.5 7.31.3.1.4.18.5.25 0-.11.1-.28.4-.55 1.1-.97 3.2-4.03 5.3-8.1 4.1-8.15 7.5-19.78 16.1-28.18 9.2-8.93 21.6-12.1 30.4-16.15 4.4-2.02 7.7-4.15 9.1-5.64.4-.5.6-.75.8-1.05-6.2-3.54-19.3-6.95-31.7-7.33v-.02c-.9-.03-1.8-.04-2.7-.05zm-27.7 67.07c-.1.18.1.14 0 0zm72.3-44.28c-3.8 3.39-8.2 5.63-12.6 7.65-10.4 4.81-21.4 8.86-25.3 12.69-1.2 1.19-2.6 3.38-4.1 6.13 3.4 3.18 7.5 6.16 12 8.69 10.1 5.62 20.8 7.85 29.1 7.08 8.4-.63 13.6-3.77 16.2-8.32 2.5-4.55 2.3-10.69-1.6-18.1-2.7-5.4-7.4-11.01-13.7-15.82zm-50.3 43.19c0 .17-.1.33-.2.5-2.4 4.82-5 9.59-9.4 13.51-3.4 2.9-8.6 5-13.8 4.8-7.4 10.2-16 20.9-26.7 32.2 21.9 9.6 38 18.5 57.8 31.9 7.1-27.8 16.3-48.5 25.9-67-7.3-1.4-14.8-4.2-22-8.19-4.2-2.3-8.1-4.9-11.6-7.72zm-102 16.91c-24.1 1.1-35.8 11.4-42.4 23.5-6.6 12-6.6 27-4.9 32 .5 1.8.3 1.3 1 1.4.7.2 3 .2 6.2-1.3 6.4-3.1 15.3-11.3 20.8-23.5l4.1-9 8.5 4.9c7.4 4.2 17.9.6 22.8-5.5.5-5.7-1.1-11.5-4.2-15.7-3.2-4.3-7.3-6.7-11.1-6.8h-.8zm22.4 41.2c-8.3 5.9-19 8.3-29.4 5.7-2.8 4.8-6 9.1-9.4 12.8 65.4 23.4 80.5 30.9 129.6 69.3 1.1 30.4 4 73.9 1 96.9-2.4 18.3 17.7 12 18 .2.4-18.3-3.1-37.9.7-54.7.8 15.7 14.8 13.5 15.1.3l.7-43.6 6.8-6.3c-63.8-48.1-79.5-59.2-133.1-80.6zm-8.3 48.8l-52.8 95.6 9.2 18.5-22.5 5.4-29.5 53.4 10 8.2 21.7-3.7 91.5-165.4c-8.1-4.1-16.9-7.8-27.6-12zm43.5 20.7l-84.5 152.8 37.8-6.4 37.6-68.1-1-24 17.8-6.3 17.1-30.9c-9.2-6.9-17.1-12.4-24.8-17.1zm-193.1 131L21.17 402.1v15.6l98.63-13.5 23 48.4-16.2 7.8-17.4-36.6-88.03 12V496H391.4l-5.9-10.8-74-29.3-55.4 21.7-6.6-16.8 62-24.3 60.4 23.9-.8-1.4-82-82.9-85.5 14.5 24.4 20.9-11.8 13.6-39.9-34.2-54.4-45z"},child:[]}]})(i)}function Rb(i){return jh({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M458.949 16.902c-21.23 45.511-62.196 13.713-94.89 12.604-92.464-.8-95.254 47.352-141.296 77.017-9.189-10.02-23.774-16.38-46.738-15.117-15.928.876-30.343 6.34-40.974 15.895-12.34 10.738-21.335 25.549-21.942 39.84 21.03-5.316 41.304-4.385 45.871 5.46 11.508 24.813-21.37 15.961-44.745 23.397-1.248.396-2.472.81-3.684 1.225-2.757 7.733-6.024 15.131-6.024 20.482 0 16.945 13.686 6.16 19.648 20.88.85 2.099 3.778 8.625 12.238 16.833 1.367 1.328 46-35.114 47.487-33.9-14.835 31.6-38.787 42.74-41.127 43.975-21.237 11.202-46.726 20.42-55.691 38.13l-.522-.168s-27.58 65.425-33.509 97.908c.575 16.747 25.672 12.545 25.672 12.545l39.527-11.785 4.686 16.94 119.482-150.627c-26.122-15.67-18.045-38.588-21.927-58.778 13.787-22.475 21.9-34.062 14.597-56.68 7.122-7.318 16.216-14.785 26.61-16.779 21.267-4.08 60.016 16.198 80.997 16.47 27.78.362 42.716-14.296 54.352-31.905-10.666 3.502-14.712 3.5-8.703-15.065-14.177 5.175-23.315 22.6-48.998 18.526-23.87-3.787-60.077-11.021-80.065-4.354 33.926-17.423 60.548-35.253 96.777-39.463 42.453 3.026 80.56 32.916 102.89-17.031zM340.169 153.78l-39.003 49.065 16.54 11.713 39.008-49.067zm-205.509 1.657c-5.303 0-10.607 1.195-10.607 3.584 2.163 2.943 9.788 5.337 13.459 5.42 5.858 0 7.755-.644 7.755-5.42 0-2.389-5.304-3.584-10.607-3.584zm140.864 47.156l-11.702 14.172L312.9 250.85l11.701-14.172zm-4.423 35.984L100.574 453.551s-10.247 8.425-.05 16.773c10.47 8.57 18.622-3.654 18.622-3.654L289.67 251.695zm18.932 41.914s-20.687 26.845-31.22 40.12c-42.147 53.119-125.718 156.698-127.942 158.156l.068 16.332H240.24l15.365-115.264 44.661 9.677s17.915 1.914 17.186-13.823c-4.626-21.768-19.228-74.864-27.42-95.198zm-22.714 48.874l8.746 21.61-14.493-3.73z"},child:[]}]})(i)}function Ob(){const{tokens:i,gridInstanceCounts:c}=hl(),{openModal:o}=nn();return u.jsxs("div",{className:"flex-grow p-4 overflow-y-scroll space-y-6 hide-scrollbar",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold  mb-4",children:"Criar Novo Modelo de Token"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("button",{onClick:()=>o("simpleName",{type:Be.PLAYER,title:"Nome do Novo Jogador"}),className:"w-full px-4 py-3 bg-accent-primary hover:bg-accent-primary-hover font-semibold rounded-md flex items-center justify-center space-x-2 text-sm cursor-pointer","aria-label":"Criar novo modelo de personagem jogvel",children:[u.jsx(Rb,{className:"w-6 h-6"}),u.jsx("span",{children:"Personagem Jogvel"})]}),u.jsxs("button",{onClick:()=>o("simpleName",{type:Be.MONSTER_NPC,title:"Nome do Novo Monstro/NPC"}),className:"w-full px-4 py-3 bg-accent-primary hover:bg-accent-primary-hover font-semibold rounded-md flex items-center justify-center space-x-2 text-sm cursor-pointer","aria-label":"Criar novo modelo de monstro ou NPC",children:[u.jsx(zb,{className:"w-5 h-5"}),u.jsx("span",{children:"Monstro / NPC"})]})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold  mb-3 mt-6 pt-4 border-t ",children:"Modelos de Token"}),i.length===0?u.jsx("p",{className:"text-text-secondary",children:"Nenhum modelo de token criado ainda."}):u.jsx("ul",{className:"space-y-2","aria-label":"Lista de modelos de token",children:i.map(r=>u.jsx(wb,{tokenInfo:r,instanceCount:c.get(r.id)||0,openSheetModal:()=>o("sheet",{tokenId:r.id})},r.id))})]})]})}const _b=({activeSidebarTab:i})=>u.jsxs("div",{title:"bloco de chat e input",className:"relative flex-grow overflow-hidden",children:[u.jsx("div",{id:"tabpanel-chat",role:"tabpanel","aria-labelledby":"tab-chat",className:`absolute inset-0 flex flex-col ${i===Aa.CHAT?"":"hidden"}`,children:u.jsx(Sb,{})}),u.jsx("div",{id:"tabpanel-tokens",role:"tabpanel","aria-labelledby":"tab-tokens",className:`absolute inset-0 flex flex-col ${i===Aa.TOKENS?"":"hidden"}`,children:u.jsx(Ob,{})})]});function Hb(){const{activeSidebarTab:i,setActiveSidebarTab:c,setIsRightSidebarVisible:o}=Ys();return u.jsxs("div",{className:"w-80 md:w-96 flex flex-col shadow-xl border-l",role:"tablist","aria-orientation":"horizontal",children:[u.jsxs("header",{className:"flex items-center",children:[u.jsx("button",{onClick:()=>o(!1),className:"hover:bg-surface-3 h-full border-b-2 p-3 focus:outline-none focus:ring-1 focus:ring-inset cursor-pointer","aria-label":"Esconder Barra Lateral Direita",title:"Esconder Barra Lateral",children:u.jsx(nh,{className:"w-5 h-5"})}),u.jsx(hb,{activeSidebarTab:i,setActiveSidebarTab:c})]}),u.jsx(_b,{activeSidebarTab:i})]})}const Ub=(i,c,o)=>{const r=i.trim();if(r==="")return null;let d;if(r.startsWith("+")||r.startsWith("-")){const h=r.startsWith("+"),m=r.substring(1);if(m==="")return null;const S=Number(m);if(!isNaN(S)&&Number.isInteger(S)&&S>=0)d=h?c+S:c-S;else return null}else{const h=Number(r);if(!isNaN(h)&&Number.isInteger(h))d=h;else return null}return Math.max(0,Math.min(d,o))},kb=(i,c,o,r)=>{w.useEffect(()=>{const d=m=>{i.current&&!i.current.contains(m.target)&&o()},h=m=>{m.key==="Escape"&&o()};return c&&(document.addEventListener("mousedown",d),document.addEventListener("keydown",h)),()=>{document.removeEventListener("mousedown",d),document.removeEventListener("keydown",h)}},[i,c,o,r])},Dh=2.5;function Bb({instanceId:i,tokenInfo:c,anchorPoint:o,isOpen:r,onClose:d,onHPChange:h,onRemoveFromBoard:m,onMakeIndependent:S,zIndex:b}){const[p,v]=w.useState(""),A=w.useRef(null),R=w.useRef(null);w.useEffect(()=>{r&&c&&c.currentHp!==void 0?v(String(c.currentHp)):!c&&r&&d()},[r,c,d]),w.useEffect(()=>{r&&setTimeout(()=>{var z;(z=R.current)==null||z.focus()},0)},[r]);const N=w.useCallback(()=>{if(!c||c.currentHp===void 0||c.maxHp===void 0){v(String((c==null?void 0:c.currentHp)??0));return}const z=c.currentHp,X=c.maxHp,j=Ub(p,z,X);j!==null?(h(j),v(String(j))):v(String(z))},[p,c,h]),D=w.useCallback(()=>{N(),d()},[N,d]);kb(A,r,D);const x=z=>{v(z.target.value)},E=z=>{z.key==="Enter"&&(N(),d()),z.key==="Escape"&&d()},C=()=>{N()},_=()=>{i&&m(i)},U=()=>{i&&S(i)};if(!r||!i||!c||!o)return null;const H={position:"fixed",top:`${o.y}px`,left:`${o.x}px`,zIndex:b,height:`${Dh}rem`};return u.jsxs("div",{ref:A,style:H,className:"bg-surface-1  p-1.5 rounded-md shadow-lg border flex items-center space-x-1.5",role:"dialog","aria-modal":"true","aria-label":"Controle de Vida",onClick:z=>z.stopPropagation(),children:[u.jsx("span",{className:"text-xs select-none mr-1",children:"HP:"}),u.jsx("input",{ref:R,type:"text",value:p,onChange:x,onKeyDown:E,onBlur:C,className:"w-12 h-7 p-1 text-center border rounded-sm text-sm focus:ring-1 hide-arrows ","aria-label":"Vida Atual",inputMode:"tel"}),u.jsx("span",{className:"text-text-secondary text-sm select-none",children:"/"}),u.jsx("span",{"data-testid":"max-hp-display",className:"text-sm font-medium min-w-[1.25rem] text-center select-none",children:c.maxHp??"N/A"}),u.jsx("button",{onClick:U,className:"hover:bg-accent-primary cursor-pointer ml-1 p-1 text-text-secondary  focus:outline-none focus:ring-1 focus:ring-accent-primary rounded-full flex items-center justify-center w-[1.5rem] h-[1.5rem]",title:"Tornar Token Independente","aria-label":"Tornar instncia independente",children:u.jsx(Tp,{})}),u.jsx("button",{onClick:_,className:"hover:bg-accent-primary cursor-pointer ml-1 p-1 text-text-secondary  focus:outline-none focus:ring-1 focus:ring-accent-primary rounded-full flex items-center justify-center w-[1.5rem] h-[1.5rem]",title:"Remover do Tabuleiro","aria-label":"Remover instncia do tabuleiro",children:u.jsx(wu,{className:"w-4 h-4"})})]})}function Lb({isOpen:i,onClose:c,onSave:o,title:r,currentName:d="",tokenType:h,zIndex:m}){const[S,b]=w.useState(d),p=w.useRef(null);w.useEffect(()=>{i&&(b(d),setTimeout(()=>{var A;return(A=p.current)==null?void 0:A.focus()},50))},[i,d]);const v=()=>{var A;S.trim()?o(S.trim(),h):(A=p.current)==null||A.focus()};return u.jsx(qs,{isOpen:i,onClose:c,title:r,onConfirm:v,confirmText:"Salvar",zIndex:m,children:u.jsxs("div",{children:[" ",u.jsx("form",{onSubmit:A=>{A.preventDefault(),v()},children:u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"simpleModalNameInput",className:"block text-sm font-medium text-accent-primary mb-1",children:"Nome do Personagem"}),u.jsx("input",{ref:p,id:"simpleModalNameInput",type:"text",value:S,onChange:A=>b(A.target.value),className:"w-full p-2 bg-surface-1 border border-surface-2 rounded-md focus:ring-1 focus:ring-accent-primary focus:border-accent-primary text-text-primary placeholder-text-secondary",required:!0,minLength:1,placeholder:"Digite o nome",maxLength:35})]})})]})})}var gi={exports:{}},ou={},fu={exports:{}},du,Ym;function Yb(){if(Ym)return du;Ym=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return du=i,du}var mu,qm;function qb(){if(qm)return mu;qm=1;var i=Yb();function c(){}function o(){}return o.resetWarningCache=c,mu=function(){function r(m,S,b,p,v,A){if(A!==i){var R=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw R.name="Invariant Violation",R}}r.isRequired=r;function d(){return r}var h={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:d,element:r,elementType:r,instanceOf:d,node:r,objectOf:d,oneOf:d,oneOfType:d,shape:d,exact:d,checkPropTypes:o,resetWarningCache:c};return h.PropTypes=h,h},mu}var Gm;function zh(){return Gm||(Gm=1,fu.exports=qb()()),fu.exports}var Os={exports:{}},Xm;function Gb(){if(Xm)return Os.exports;Xm=1;function i(o){var r,d,h="";if(typeof o=="string"||typeof o=="number")h+=o;else if(typeof o=="object")if(Array.isArray(o)){var m=o.length;for(r=0;r<m;r++)o[r]&&(d=i(o[r]))&&(h&&(h+=" "),h+=d)}else for(d in o)o[d]&&(h&&(h+=" "),h+=d);return h}function c(){for(var o,r,d=0,h="",m=arguments.length;d<m;d++)(o=arguments[d])&&(r=i(o))&&(h&&(h+=" "),h+=r);return h}return Os.exports=c,Os.exports.clsx=c,Os.exports}var tt={},tn={},Vm;function Gs(){if(Vm)return tn;Vm=1,Object.defineProperty(tn,"__esModule",{value:!0}),tn.dontSetMe=d,tn.findInArray=i,tn.int=r,tn.isFunction=c,tn.isNum=o;function i(h,m){for(let S=0,b=h.length;S<b;S++)if(m.apply(m,[h[S],S,h]))return h[S]}function c(h){return typeof h=="function"||Object.prototype.toString.call(h)==="[object Function]"}function o(h){return typeof h=="number"&&!isNaN(h)}function r(h){return parseInt(h,10)}function d(h,m,S){if(h[m])return new Error(`Invalid prop ${m} passed to ${S} - do not set this, set it on the child.`)}return tn}var an={},Zm;function Xb(){if(Zm)return an;Zm=1,Object.defineProperty(an,"__esModule",{value:!0}),an.browserPrefixToKey=o,an.browserPrefixToStyle=r,an.default=void 0,an.getPrefix=c;const i=["Moz","Webkit","O","ms"];function c(){var S,b;let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const m=(b=(S=window.document)==null?void 0:S.documentElement)==null?void 0:b.style;if(!m||h in m)return"";for(let p=0;p<i.length;p++)if(o(h,i[p])in m)return i[p];return""}function o(h,m){return m?`${m}${d(h)}`:h}function r(h,m){return m?`-${m.toLowerCase()}-${h}`:h}function d(h){let m="",S=!0;for(let b=0;b<h.length;b++)S?(m+=h[b].toUpperCase(),S=!1):h[b]==="-"?S=!0:m+=h[b];return m}return an.default=c(),an}var Qm;function Cu(){if(Qm)return tt;Qm=1,Object.defineProperty(tt,"__esModule",{value:!0}),tt.addClassName=z,tt.addEvent=m,tt.addUserSelectStyles=_,tt.createCSSTransform=N,tt.createSVGTransform=D,tt.getTouch=E,tt.getTouchIdentifier=C,tt.getTranslation=x,tt.innerHeight=v,tt.innerWidth=A,tt.matchesSelector=d,tt.matchesSelectorAndParentsTo=h,tt.offsetXYFromParent=R,tt.outerHeight=b,tt.outerWidth=p,tt.removeClassName=X,tt.removeEvent=S,tt.scheduleRemoveUserSelectStyles=U;var i=Gs(),c=o(Xb());function o(j,y){if(typeof WeakMap=="function")var V=new WeakMap,F=new WeakMap;return(o=function(le,se){if(!se&&le&&le.__esModule)return le;var me,de,ye={__proto__:null,default:le};if(le===null||typeof le!="object"&&typeof le!="function")return ye;if(me=se?F:V){if(me.has(le))return me.get(le);me.set(le,ye)}for(const Y in le)Y!=="default"&&{}.hasOwnProperty.call(le,Y)&&((de=(me=Object.defineProperty)&&Object.getOwnPropertyDescriptor(le,Y))&&(de.get||de.set)?me(ye,Y,de):ye[Y]=le[Y]);return ye})(j,y)}let r="";function d(j,y){return r||(r=(0,i.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(V){return(0,i.isFunction)(j[V])})),(0,i.isFunction)(j[r])?j[r](y):!1}function h(j,y,V){let F=j;do{if(d(F,y))return!0;if(F===V)return!1;F=F.parentNode}while(F);return!1}function m(j,y,V,F){if(!j)return;const le={capture:!0,...F};j.addEventListener?j.addEventListener(y,V,le):j.attachEvent?j.attachEvent("on"+y,V):j["on"+y]=V}function S(j,y,V,F){if(!j)return;const le={capture:!0,...F};j.removeEventListener?j.removeEventListener(y,V,le):j.detachEvent?j.detachEvent("on"+y,V):j["on"+y]=null}function b(j){let y=j.clientHeight;const V=j.ownerDocument.defaultView.getComputedStyle(j);return y+=(0,i.int)(V.borderTopWidth),y+=(0,i.int)(V.borderBottomWidth),y}function p(j){let y=j.clientWidth;const V=j.ownerDocument.defaultView.getComputedStyle(j);return y+=(0,i.int)(V.borderLeftWidth),y+=(0,i.int)(V.borderRightWidth),y}function v(j){let y=j.clientHeight;const V=j.ownerDocument.defaultView.getComputedStyle(j);return y-=(0,i.int)(V.paddingTop),y-=(0,i.int)(V.paddingBottom),y}function A(j){let y=j.clientWidth;const V=j.ownerDocument.defaultView.getComputedStyle(j);return y-=(0,i.int)(V.paddingLeft),y-=(0,i.int)(V.paddingRight),y}function R(j,y,V){const le=y===y.ownerDocument.body?{left:0,top:0}:y.getBoundingClientRect(),se=(j.clientX+y.scrollLeft-le.left)/V,me=(j.clientY+y.scrollTop-le.top)/V;return{x:se,y:me}}function N(j,y){const V=x(j,y,"px");return{[(0,c.browserPrefixToKey)("transform",c.default)]:V}}function D(j,y){return x(j,y,"")}function x(j,y,V){let{x:F,y:le}=j,se=`translate(${F}${V},${le}${V})`;if(y){const me=`${typeof y.x=="string"?y.x:y.x+V}`,de=`${typeof y.y=="string"?y.y:y.y+V}`;se=`translate(${me}, ${de})`+se}return se}function E(j,y){return j.targetTouches&&(0,i.findInArray)(j.targetTouches,V=>y===V.identifier)||j.changedTouches&&(0,i.findInArray)(j.changedTouches,V=>y===V.identifier)}function C(j){if(j.targetTouches&&j.targetTouches[0])return j.targetTouches[0].identifier;if(j.changedTouches&&j.changedTouches[0])return j.changedTouches[0].identifier}function _(j){if(!j)return;let y=j.getElementById("react-draggable-style-el");y||(y=j.createElement("style"),y.type="text/css",y.id="react-draggable-style-el",y.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,y.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,j.getElementsByTagName("head")[0].appendChild(y)),j.body&&z(j.body,"react-draggable-transparent-selection")}function U(j){window.requestAnimationFrame?window.requestAnimationFrame(()=>{H(j)}):H(j)}function H(j){if(j)try{if(j.body&&X(j.body,"react-draggable-transparent-selection"),j.selection)j.selection.empty();else{const y=(j.defaultView||window).getSelection();y&&y.type!=="Caret"&&y.removeAllRanges()}}catch{}}function z(j,y){j.classList?j.classList.add(y):j.className.match(new RegExp(`(?:^|\\s)${y}(?!\\S)`))||(j.className+=` ${y}`)}function X(j,y){j.classList?j.classList.remove(y):j.className=j.className.replace(new RegExp(`(?:^|\\s)${y}(?!\\S)`,"g"),"")}return tt}var ra={},Km;function Rh(){if(Km)return ra;Km=1,Object.defineProperty(ra,"__esModule",{value:!0}),ra.canDragX=d,ra.canDragY=h,ra.createCoreData=S,ra.createDraggableData=b,ra.getBoundPosition=o,ra.getControlPosition=m,ra.snapToGrid=r;var i=Gs(),c=Cu();function o(A,R,N){if(!A.props.bounds)return[R,N];let{bounds:D}=A.props;D=typeof D=="string"?D:p(D);const x=v(A);if(typeof D=="string"){const{ownerDocument:E}=x,C=E.defaultView;let _;if(D==="parent"?_=x.parentNode:_=x.getRootNode().querySelector(D),!(_ instanceof C.HTMLElement))throw new Error('Bounds selector "'+D+'" could not find an element.');const U=_,H=C.getComputedStyle(x),z=C.getComputedStyle(U);D={left:-x.offsetLeft+(0,i.int)(z.paddingLeft)+(0,i.int)(H.marginLeft),top:-x.offsetTop+(0,i.int)(z.paddingTop)+(0,i.int)(H.marginTop),right:(0,c.innerWidth)(U)-(0,c.outerWidth)(x)-x.offsetLeft+(0,i.int)(z.paddingRight)-(0,i.int)(H.marginRight),bottom:(0,c.innerHeight)(U)-(0,c.outerHeight)(x)-x.offsetTop+(0,i.int)(z.paddingBottom)-(0,i.int)(H.marginBottom)}}return(0,i.isNum)(D.right)&&(R=Math.min(R,D.right)),(0,i.isNum)(D.bottom)&&(N=Math.min(N,D.bottom)),(0,i.isNum)(D.left)&&(R=Math.max(R,D.left)),(0,i.isNum)(D.top)&&(N=Math.max(N,D.top)),[R,N]}function r(A,R,N){const D=Math.round(R/A[0])*A[0],x=Math.round(N/A[1])*A[1];return[D,x]}function d(A){return A.props.axis==="both"||A.props.axis==="x"}function h(A){return A.props.axis==="both"||A.props.axis==="y"}function m(A,R,N){const D=typeof R=="number"?(0,c.getTouch)(A,R):null;if(typeof R=="number"&&!D)return null;const x=v(N),E=N.props.offsetParent||x.offsetParent||x.ownerDocument.body;return(0,c.offsetXYFromParent)(D||A,E,N.props.scale)}function S(A,R,N){const D=!(0,i.isNum)(A.lastX),x=v(A);return D?{node:x,deltaX:0,deltaY:0,lastX:R,lastY:N,x:R,y:N}:{node:x,deltaX:R-A.lastX,deltaY:N-A.lastY,lastX:A.lastX,lastY:A.lastY,x:R,y:N}}function b(A,R){const N=A.props.scale;return{node:R.node,x:A.state.x+R.deltaX/N,y:A.state.y+R.deltaY/N,deltaX:R.deltaX/N,deltaY:R.deltaY/N,lastX:A.state.x,lastY:A.state.y}}function p(A){return{left:A.left,top:A.top,right:A.right,bottom:A.bottom}}function v(A){const R=A.findDOMNode();if(!R)throw new Error("<DraggableCore>: Unmounted during event!");return R}return ra}var pi={},_s={},$m;function Oh(){if($m)return _s;$m=1,Object.defineProperty(_s,"__esModule",{value:!0}),_s.default=i;function i(){}return _s}var Jm;function Vb(){if(Jm)return pi;Jm=1,Object.defineProperty(pi,"__esModule",{value:!0}),pi.default=void 0;var i=b(xi()),c=S(zh()),o=S(Su()),r=Cu(),d=Rh(),h=Gs(),m=S(Oh());function S(x){return x&&x.__esModule?x:{default:x}}function b(x,E){if(typeof WeakMap=="function")var C=new WeakMap,_=new WeakMap;return(b=function(U,H){if(!H&&U&&U.__esModule)return U;var z,X,j={__proto__:null,default:U};if(U===null||typeof U!="object"&&typeof U!="function")return j;if(z=H?_:C){if(z.has(U))return z.get(U);z.set(U,j)}for(const y in U)y!=="default"&&{}.hasOwnProperty.call(U,y)&&((X=(z=Object.defineProperty)&&Object.getOwnPropertyDescriptor(U,y))&&(X.get||X.set)?z(j,y,X):j[y]=U[y]);return j})(x,E)}function p(x,E,C){return(E=v(E))in x?Object.defineProperty(x,E,{value:C,enumerable:!0,configurable:!0,writable:!0}):x[E]=C,x}function v(x){var E=A(x,"string");return typeof E=="symbol"?E:E+""}function A(x,E){if(typeof x!="object"||!x)return x;var C=x[Symbol.toPrimitive];if(C!==void 0){var _=C.call(x,E);if(typeof _!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(x)}const R={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let N=R.mouse,D=class extends i.Component{constructor(){super(...arguments),p(this,"dragging",!1),p(this,"lastX",NaN),p(this,"lastY",NaN),p(this,"touchIdentifier",null),p(this,"mounted",!1),p(this,"handleDragStart",E=>{if(this.props.onMouseDown(E),!this.props.allowAnyClick&&typeof E.button=="number"&&E.button!==0)return!1;const C=this.findDOMNode();if(!C||!C.ownerDocument||!C.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:_}=C;if(this.props.disabled||!(E.target instanceof _.defaultView.Node)||this.props.handle&&!(0,r.matchesSelectorAndParentsTo)(E.target,this.props.handle,C)||this.props.cancel&&(0,r.matchesSelectorAndParentsTo)(E.target,this.props.cancel,C))return;E.type==="touchstart"&&!this.props.allowMobileScroll&&E.preventDefault();const U=(0,r.getTouchIdentifier)(E);this.touchIdentifier=U;const H=(0,d.getControlPosition)(E,U,this);if(H==null)return;const{x:z,y:X}=H,j=(0,d.createCoreData)(this,z,X);(0,m.default)("DraggableCore: handleDragStart: %j",j),(0,m.default)("calling",this.props.onStart),!(this.props.onStart(E,j)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,r.addUserSelectStyles)(_),this.dragging=!0,this.lastX=z,this.lastY=X,(0,r.addEvent)(_,N.move,this.handleDrag),(0,r.addEvent)(_,N.stop,this.handleDragStop))}),p(this,"handleDrag",E=>{const C=(0,d.getControlPosition)(E,this.touchIdentifier,this);if(C==null)return;let{x:_,y:U}=C;if(Array.isArray(this.props.grid)){let X=_-this.lastX,j=U-this.lastY;if([X,j]=(0,d.snapToGrid)(this.props.grid,X,j),!X&&!j)return;_=this.lastX+X,U=this.lastY+j}const H=(0,d.createCoreData)(this,_,U);if((0,m.default)("DraggableCore: handleDrag: %j",H),this.props.onDrag(E,H)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const j=document.createEvent("MouseEvents");j.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(j)}return}this.lastX=_,this.lastY=U}),p(this,"handleDragStop",E=>{if(!this.dragging)return;const C=(0,d.getControlPosition)(E,this.touchIdentifier,this);if(C==null)return;let{x:_,y:U}=C;if(Array.isArray(this.props.grid)){let j=_-this.lastX||0,y=U-this.lastY||0;[j,y]=(0,d.snapToGrid)(this.props.grid,j,y),_=this.lastX+j,U=this.lastY+y}const H=(0,d.createCoreData)(this,_,U);if(this.props.onStop(E,H)===!1||this.mounted===!1)return!1;const X=this.findDOMNode();X&&this.props.enableUserSelectHack&&(0,r.scheduleRemoveUserSelectStyles)(X.ownerDocument),(0,m.default)("DraggableCore: handleDragStop: %j",H),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,X&&((0,m.default)("DraggableCore: Removing handlers"),(0,r.removeEvent)(X.ownerDocument,N.move,this.handleDrag),(0,r.removeEvent)(X.ownerDocument,N.stop,this.handleDragStop))}),p(this,"onMouseDown",E=>(N=R.mouse,this.handleDragStart(E))),p(this,"onMouseUp",E=>(N=R.mouse,this.handleDragStop(E))),p(this,"onTouchStart",E=>(N=R.touch,this.handleDragStart(E))),p(this,"onTouchEnd",E=>(N=R.touch,this.handleDragStop(E)))}componentDidMount(){this.mounted=!0;const E=this.findDOMNode();E&&(0,r.addEvent)(E,R.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const E=this.findDOMNode();if(E){const{ownerDocument:C}=E;(0,r.removeEvent)(C,R.mouse.move,this.handleDrag),(0,r.removeEvent)(C,R.touch.move,this.handleDrag),(0,r.removeEvent)(C,R.mouse.stop,this.handleDragStop),(0,r.removeEvent)(C,R.touch.stop,this.handleDragStop),(0,r.removeEvent)(E,R.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,r.scheduleRemoveUserSelectStyles)(C)}}findDOMNode(){var E,C,_;return(E=this.props)!=null&&E.nodeRef?(_=(C=this.props)==null?void 0:C.nodeRef)==null?void 0:_.current:o.default.findDOMNode(this)}render(){return i.cloneElement(i.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return pi.default=D,p(D,"displayName","DraggableCore"),p(D,"propTypes",{allowAnyClick:c.default.bool,allowMobileScroll:c.default.bool,children:c.default.node.isRequired,disabled:c.default.bool,enableUserSelectHack:c.default.bool,offsetParent:function(x,E){if(x[E]&&x[E].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:c.default.arrayOf(c.default.number),handle:c.default.string,cancel:c.default.string,nodeRef:c.default.object,onStart:c.default.func,onDrag:c.default.func,onStop:c.default.func,onMouseDown:c.default.func,scale:c.default.number,className:h.dontSetMe,style:h.dontSetMe,transform:h.dontSetMe}),p(D,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),pi}var Pm;function Zb(){return Pm||(Pm=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"DraggableCore",{enumerable:!0,get:function(){return b.default}}),i.default=void 0;var c=A(xi()),o=v(zh()),r=v(Su()),d=Gb(),h=Cu(),m=Rh(),S=Gs(),b=v(Vb()),p=v(Oh());function v(C){return C&&C.__esModule?C:{default:C}}function A(C,_){if(typeof WeakMap=="function")var U=new WeakMap,H=new WeakMap;return(A=function(z,X){if(!X&&z&&z.__esModule)return z;var j,y,V={__proto__:null,default:z};if(z===null||typeof z!="object"&&typeof z!="function")return V;if(j=X?H:U){if(j.has(z))return j.get(z);j.set(z,V)}for(const F in z)F!=="default"&&{}.hasOwnProperty.call(z,F)&&((y=(j=Object.defineProperty)&&Object.getOwnPropertyDescriptor(z,F))&&(y.get||y.set)?j(V,F,y):V[F]=z[F]);return V})(C,_)}function R(){return R=Object.assign?Object.assign.bind():function(C){for(var _=1;_<arguments.length;_++){var U=arguments[_];for(var H in U)({}).hasOwnProperty.call(U,H)&&(C[H]=U[H])}return C},R.apply(null,arguments)}function N(C,_,U){return(_=D(_))in C?Object.defineProperty(C,_,{value:U,enumerable:!0,configurable:!0,writable:!0}):C[_]=U,C}function D(C){var _=x(C,"string");return typeof _=="symbol"?_:_+""}function x(C,_){if(typeof C!="object"||!C)return C;var U=C[Symbol.toPrimitive];if(U!==void 0){var H=U.call(C,_);if(typeof H!="object")return H;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(C)}class E extends c.Component{static getDerivedStateFromProps(_,U){let{position:H}=_,{prevPropsPosition:z}=U;return H&&(!z||H.x!==z.x||H.y!==z.y)?((0,p.default)("Draggable: getDerivedStateFromProps %j",{position:H,prevPropsPosition:z}),{x:H.x,y:H.y,prevPropsPosition:{...H}}):null}constructor(_){super(_),N(this,"onDragStart",(U,H)=>{if((0,p.default)("Draggable: onDragStart: %j",H),this.props.onStart(U,(0,m.createDraggableData)(this,H))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),N(this,"onDrag",(U,H)=>{if(!this.state.dragging)return!1;(0,p.default)("Draggable: onDrag: %j",H);const z=(0,m.createDraggableData)(this,H),X={x:z.x,y:z.y,slackX:0,slackY:0};if(this.props.bounds){const{x:y,y:V}=X;X.x+=this.state.slackX,X.y+=this.state.slackY;const[F,le]=(0,m.getBoundPosition)(this,X.x,X.y);X.x=F,X.y=le,X.slackX=this.state.slackX+(y-X.x),X.slackY=this.state.slackY+(V-X.y),z.x=X.x,z.y=X.y,z.deltaX=X.x-this.state.x,z.deltaY=X.y-this.state.y}if(this.props.onDrag(U,z)===!1)return!1;this.setState(X)}),N(this,"onDragStop",(U,H)=>{if(!this.state.dragging||this.props.onStop(U,(0,m.createDraggableData)(this,H))===!1)return!1;(0,p.default)("Draggable: onDragStop: %j",H);const X={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:y,y:V}=this.props.position;X.x=y,X.y=V}this.setState(X)}),this.state={dragging:!1,dragged:!1,x:_.position?_.position.x:_.defaultPosition.x,y:_.position?_.position.y:_.defaultPosition.y,prevPropsPosition:{..._.position},slackX:0,slackY:0,isElementSVG:!1},_.position&&!(_.onDrag||_.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){var _,U;return((U=(_=this.props)==null?void 0:_.nodeRef)==null?void 0:U.current)??r.default.findDOMNode(this)}render(){const{axis:_,bounds:U,children:H,defaultPosition:z,defaultClassName:X,defaultClassNameDragging:j,defaultClassNameDragged:y,position:V,positionOffset:F,scale:le,...se}=this.props;let me={},de=null;const Y=!!!V||this.state.dragging,ae=V||z,W={x:(0,m.canDragX)(this)&&Y?this.state.x:ae.x,y:(0,m.canDragY)(this)&&Y?this.state.y:ae.y};this.state.isElementSVG?de=(0,h.createSVGTransform)(W,F):me=(0,h.createCSSTransform)(W,F);const be=(0,d.clsx)(H.props.className||"",X,{[j]:this.state.dragging,[y]:this.state.dragged});return c.createElement(b.default,R({},se,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),c.cloneElement(c.Children.only(H),{className:be,style:{...H.props.style,...me},transform:de}))}}i.default=E,N(E,"displayName","Draggable"),N(E,"propTypes",{...b.default.propTypes,axis:o.default.oneOf(["both","x","y","none"]),bounds:o.default.oneOfType([o.default.shape({left:o.default.number,right:o.default.number,top:o.default.number,bottom:o.default.number}),o.default.string,o.default.oneOf([!1])]),defaultClassName:o.default.string,defaultClassNameDragging:o.default.string,defaultClassNameDragged:o.default.string,defaultPosition:o.default.shape({x:o.default.number,y:o.default.number}),positionOffset:o.default.shape({x:o.default.oneOfType([o.default.number,o.default.string]),y:o.default.oneOfType([o.default.number,o.default.string])}),position:o.default.shape({x:o.default.number,y:o.default.number}),className:S.dontSetMe,style:S.dontSetMe,transform:S.dontSetMe}),N(E,"defaultProps",{...b.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})}(ou)),ou}var Wm;function Qb(){if(Wm)return gi.exports;Wm=1;const{default:i,DraggableCore:c}=Zb();return gi.exports=i,gi.exports.default=i,gi.exports.DraggableCore=c,gi.exports}var Kb=Qb();const Im=eh(Kb),bi=2.5,$b=15.625,hu=3;function Jb({id:i,title:c,isOpen:o,onClose:r,children:d,initialPosition:h={x:100,y:100},initialWidth:m=450,initialHeight:S="auto",minWidth:b=200,minHeight:p=150,maxWidth:v=window.innerWidth,maxHeight:A=window.innerHeight,zIndex:R=50,onResizeEnd:N,onPositionChangeEnd:D,containerRef:x,minimizedTitle:E}){const C=w.useRef(null),[_,U]=w.useState(h),[H,z]=w.useState({x:0,y:0}),[X,j]=w.useState(m),[y,V]=w.useState(S),[F,le]=w.useState(!1),[se,me]=w.useState(!1),[de,ye]=w.useState(null);w.useEffect(()=>{U(h);const Q=0,I=window.innerHeight-bi*16;z({x:Q,y:I}),j(m),V(S),le(!1)},[h,m,S]);const[Y,ae]=w.useState({left:0,top:0,right:window.innerWidth-(typeof X=="number"?X:m),bottom:window.innerHeight-hu*16});w.useEffect(()=>{const Q=()=>{var J;if(x!=null&&x.current&&C.current){const ee=x.current.getBoundingClientRect(),oe=C.current.getBoundingClientRect();ae({left:ee.left,top:ee.top,right:ee.right-oe.width,bottom:ee.bottom-hu*16})}else ae({left:0,top:0,right:window.innerWidth-(((J=C.current)==null?void 0:J.offsetWidth)||(typeof X=="number"?X:m)),bottom:window.innerHeight-hu*16})};window.addEventListener("resize",Q),Q();const I=new ResizeObserver(Q);return x!=null&&x.current&&I.observe(x.current),C.current&&I.observe(C.current),()=>{window.removeEventListener("resize",Q),I.disconnect()}},[x,X,y,m,C.current]),w.useEffect(()=>{const Q=I=>{I.key==="Escape"&&r()};return o&&!F&&document.addEventListener("keydown",Q),()=>{document.removeEventListener("keydown",Q)}},[o,F,r]);const W=w.useCallback(Q=>{var oe;if(F)return;const I=Q.target,J=(oe=C.current)==null?void 0:oe.getBoundingClientRect();if(!J)return;const ee=I.closest(".resize-handle");if(ee){me(!0),ye({startX:Q.clientX,startY:Q.clientY,startWidth:J.width,startHeight:J.height,direction:Array.from(ee.classList).find(Ce=>Ce.startsWith("resize-"))||""}),Q.preventDefault();return}},[F]),be=w.useCallback(Q=>{if(se&&de){const{startX:I,startY:J,startWidth:ee,startHeight:oe,direction:Ce}=de;let Pe=ee,Ge=oe,We=_.x,Ee=_.y;const Qe=Q.clientX-I,Ke=Q.clientY-J;Ce.includes("e")&&(Pe=ee+Qe),Ce.includes("s")&&(Ge=oe+Ke),Ce.includes("w")&&(Pe=ee-Qe,We=_.x+Qe),Ce.includes("n")&&(Ge=oe-Ke,Ee=_.y+Ke),Pe=Math.min(v,Math.max(b,Pe)),Ge=Math.min(A,Math.max(p,Ge)),Ce.includes("w")&&(Pe===b&&ee-Qe>b&&(We=_.x+(ee-b)),We=Math.max(0,We)),Ce.includes("n")&&(Ge===p&&oe-Ke>p&&(Ee=_.y+(oe-p)),Ee=Math.max(0,Ee)),j(Pe),V(Ge),U({x:We,y:Ee})}},[se,de,_,b,p,v,A,X,y]),M=w.useCallback(()=>{me(!1),ye(null),N&&typeof X=="number"&&typeof y=="number"&&N(X,y)},[N,X,y]);w.useEffect(()=>(se&&(window.addEventListener("mousemove",be),window.addEventListener("mouseup",M)),()=>{window.removeEventListener("mousemove",be),window.removeEventListener("mouseup",M)}),[se,be,M]);const Z=(Q,I)=>{const J={x:I.x,y:I.y};F?z(J):U(J),D&&D(J)};if(!o)return null;const ne={position:"absolute",width:`${F?$b:X/16}rem`,height:typeof y=="number"?`${F?bi:y/16}rem`:F?`${bi}rem`:y,zIndex:R,minHeight:F?`${bi}rem`:void 0},te=()=>{const ee=window.innerHeight-bi*16-25;z({x:75,y:ee}),le(!0)},ie=()=>{U(h),le(!1)};return F?u.jsx(Im,{handle:".modal-header-minimized",nodeRef:C,position:H,onStop:Z,bounds:Y,axis:"both",children:u.jsxs("div",{ref:C,style:ne,className:" bg-surface-0  border rounded-md shadow-2xl flex items-center justify-between px-3",role:"dialog","aria-label":`${c} (Minimizado)`,"aria-modal":"false",children:[u.jsx("div",{className:"modal-header-minimized flex-grow cursor-grab py-2",children:u.jsx("span",{className:"text-sm truncate font-medium",children:E||c})}),u.jsx("button",{onClick:ie,className:"p-1 rounded-full focus:outline-none focus:ring-1 ","aria-label":"Restaurar modal",children:u.jsx(Op,{className:"w-4 h-4"})})]})}):u.jsx(Im,{handle:".modal-header",nodeRef:C,position:_,onStop:Z,bounds:Y,axis:"both",children:u.jsxs("div",{ref:C,style:ne,className:"bg-surface-0 rounded-lg shadow-xl flex flex-col overflow-hidden ",onMouseDown:W,role:"dialog","aria-modal":"true","aria-labelledby":`modal-title-${i}`,children:[u.jsxs("div",{className:"modal-header flex items-center justify-between p-3 border-b cursor-grab",children:[u.jsx("h2",{id:`modal-title-${i}`,className:"text-lg font-semibold truncate",children:c}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:te,className:"p-1 rounded-full focus:outline-none focus:ring-1","aria-label":"Minimizar modal",children:u.jsx(Rp,{className:"w-4 h-4"})}),u.jsx("button",{onClick:r,className:"p-1 rounded-full focus:outline-none focus:ring-1","aria-label":"Fechar modal",children:u.jsx(wu,{className:"w-5 h-5"})})]})]}),u.jsx("div",{className:"p-3 overflow-hidden flex-grow ",children:d}),u.jsx("div",{className:"resize-handle resize-s"}),u.jsx("div",{className:"resize-handle resize-e"}),u.jsx("div",{className:"resize-handle resize-n"}),u.jsx("div",{className:"resize-handle resize-w"}),u.jsx("div",{className:"resize-handle resize-se"}),u.jsx("div",{className:"resize-handle resize-sw"}),u.jsx("div",{className:"resize-handle resize-ne"}),u.jsx("div",{className:"resize-handle resize-nw"})]})})}function _h({initialTokenData:i,onSave:c}){const[o,r]=w.useState(""),[d,h]=w.useState(It),[m,S]=w.useState(Hs),[b,p]=w.useState(null),[v,A]=w.useState(String(ca)),[R,N]=w.useState(String(ca)),[D,x]=w.useState(""),[E,C]=w.useState(!1),[_,U]=w.useState(!1);w.useEffect(()=>{i&&(r(i.name),h(i.image),S(i.size),p(i.type),A(String(i.currentHp??ca)),N(String(i.maxHp??ca)),x(i.notes||""),i.type===Be.PLAYER?C(i.inspiration??!1):C(!1),U(!1))},[i]),w.useEffect(()=>{if(!i){U(!1);return}let z=!1;z=z||o!==(i.name||""),z=z||d!==(i.image||It),z=z||m!==(i.size||Hs),z=z||b!==(i.type||null),z=z||v!==String(i.currentHp??ca),z=z||R!==String(i.maxHp??ca),z=z||D!==(i.notes||""),i.type===Be.PLAYER&&(z=z||E!==(i.inspiration??!1)),U(z)},[o,d,m,b,v,R,D,E,i]);const H=w.useCallback(async z=>{if(z.preventDefault(),b===null){alert("Erro: O tipo do token deve ser selecionado.");return}if(!o.trim()){alert("O nome do token no pode estar vazio.");return}const X=500;if(d.trim()!==""&&d!==It)try{const F=new Image;F.src=d,await new Promise((le,se)=>{F.onload=()=>{F.width>X||F.height>X?se(new Error(`A imagem  muito grande. Dimenses mximas permitidas: ${X}x${X} pixels.`)):le()},F.onerror=()=>{se(new Error("No foi possvel carregar a imagem. Verifique a URL."))}})}catch(F){alert(`Erro na validao da imagem: ${F instanceof Error?F.message:"Erro desconhecido."}`);return}const j=parseInt(v,10),y=parseInt(R,10);if(isNaN(j)||isNaN(y)||y<=0||j<0||j>y){alert("Valores de HP invlidos. Vida Mxima deve ser > 0 e Vida Atual entre 0 e Vida Mxima.");return}const V={name:o.trim(),image:d.trim()===""?It:d,size:m,currentHp:j,maxHp:y,notes:D,type:b};b===Be.PLAYER&&(V.inspiration=E),c(V)},[i,o,d,m,b,v,R,D,E,c]);return{editingTokenName:o,setEditingTokenName:r,editingTokenImage:d,setEditingTokenImage:h,editingTokenSize:m,setEditingTokenSize:S,editingTokenType:b,setEditingTokenType:p,editingCurrentHp:v,setEditingCurrentHp:A,editingMaxHp:R,setEditingMaxHp:N,editingTokenNotes:D,setEditingTokenNotes:x,editingInspiration:E,setEditingInspiration:C,hasTokenSheetChanged:_,handleSave:H}}function Pb({editingTokenName:i,setEditingTokenName:c,editingTokenType:o,setEditingTokenType:r,editingCurrentHp:d,setEditingCurrentHp:h,editingMaxHp:m,setEditingMaxHp:S,editingTokenNotes:b,setEditingTokenNotes:p,editingTokenImage:v,setEditingTokenImage:A,editingTokenSize:R,setEditingTokenSize:N}){return u.jsxs("div",{className:"p-0.5 space-y-3 overflow-y-auto max-h-[calc(100vh-12.5rem)]",children:[" ",u.jsxs("div",{children:[u.jsx("label",{htmlFor:"editingTokenName",className:"block text-[0.6875rem] font-medium text-accent-primary mb-px",children:"Nome do Token"}),u.jsx("input",{id:"editingTokenName",type:"text",value:i,onChange:D=>c(D.target.value),className:"w-full p-0 bg-surface-1  rounded-md focus:ring-1 focus:ring-accent-primary focus:border-accent-primary text-text-primary placeholder-text-secondary",required:!0,maxLength:35})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"editingTokenType",className:"block text-[0.6875rem] font-medium text-accent-primary mb-px",children:"Tipo"}),u.jsx("select",{id:"editingTokenType",value:o||"",onChange:D=>r(D.target.value),className:"w-full p-2 bg-surface-1 border border-surface-2 rounded-md focus:ring-1 focus:ring-accent-primary focus:border-accent-primary text-text-primary placeholder-text-secondary",children:qp.map(D=>u.jsx("option",{value:D.value,children:D.label},D.value))})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-x-2",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{htmlFor:"editingCurrentHp",className:"block text-[0.6875rem] font-medium text-accent-primary mb-px",children:"Vida Atual"}),u.jsx("input",{id:"editingCurrentHp",type:"number",value:d,onChange:D=>h(D.target.value),className:Ae("w-full p-2 bg-surface-1 border border-surface-2 rounded-md focus:ring-1 focus:ring-accent-primary focus:border-accent-primary text-text-primary placeholder-text-secondary","hide-number-spinners"),min:"0",step:"1",required:!0})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{htmlFor:"editingMaxHp",className:"block text-[0.6875rem] font-medium text-accent-primary mb-px",children:"Vida Mxima"}),u.jsx("input",{id:"editingMaxHp",type:"number",value:m,onChange:D=>S(D.target.value),className:Ae("w-full p-2 bg-surface-1 border border-surface-2 rounded-md focus:ring-1 focus:ring-accent-primary focus:border-accent-primary text-text-primary placeholder-text-secondary","hide-number-spinners"),min:"1",step:"1",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"editingTokenNotes",className:"block text-[0.6875rem] font-medium text-accent-primary mb-px",children:"Notas"}),u.jsx("textarea",{id:"editingTokenNotes",value:b,onChange:D=>p(D.target.value),className:Ae("w-full p-2 bg-surface-1 border border-surface-2 rounded-md focus:ring-1 focus:ring-accent-primary focus:border-accent-primary text-text-primary placeholder-text-secondary","min-h-[6.25rem]")})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"editingTokenImage",className:"block text-[0.6875rem] font-medium text-accent-primary mb-px",children:"URL da Imagem do Token"}),u.jsx("input",{id:"editingTokenImage",type:"text",value:v,onChange:D=>A(D.target.value),placeholder:"Cole a URL da imagem aqui",className:Ae("w-full p-2 bg-surface-1 border border-surface-2 rounded-md focus:ring-1 focus:ring-accent-primary focus:border-accent-primary text-text-primary placeholder-text-secondary")})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"editingTokenSize",className:"block text-[0.6875rem] font-medium text-accent-primary mb-px",children:"Tamanho"}),u.jsxs("select",{id:"editingTokenSize",value:R,onChange:D=>N(D.target.value),className:"w-full p-2 bg-surface-1 border border-surface-2 rounded-md focus:ring-1 focus:ring-accent-primary focus:border-accent-primary text-text-primary placeholder-text-secondary",children:[u.jsx("option",{value:"1x1",children:"1x1 (Padro)"}),u.jsx("option",{value:"2x2",children:"2x2 (Grande)"}),u.jsx("option",{value:"3x3",children:"3x3 (Enorme)"}),u.jsx("option",{value:"0.5x0.5",children:"0.5x0.5 (Minsculo)"})]})]})]})}const Hh=w.createContext(void 0);function Wb({children:i,initialToken:c}){var oa,xt,gt,ea,fa,Qt,Kt,Mt,Ie;const[o,r]=w.useState(c.name||""),[d,h]=w.useState(c.charClass||""),[m,S]=w.useState(((oa=c.level)==null?void 0:oa.toString())||""),[b,p]=w.useState(c.background||""),[v,A]=w.useState(c.species||""),[R,N]=w.useState(c.subclass||""),[D]=w.useState(c.proficiencyBonus||2),[x,E]=w.useState(((xt=c.armorClass)==null?void 0:xt.toString())||""),[C,_]=w.useState(((gt=c.initiative)==null?void 0:gt.toString())||""),[U,H]=w.useState(((ea=c.speed)==null?void 0:ea.toString())||""),[z,X]=w.useState(c.shieldEquipped||!1),[j,y]=w.useState(((fa=c.currentHp)==null?void 0:fa.toString())||""),[V,F]=w.useState(((Qt=c.tempHp)==null?void 0:Qt.toString())||""),[le,se]=w.useState(((Kt=c.maxHp)==null?void 0:Kt.toString())||""),[me,de]=w.useState(c.hitDiceEntries&&c.hitDiceEntries.length>0?c.hitDiceEntries:[{id:crypto.randomUUID(),type:"d6",quantity:1}]),[ye,Y]=w.useState(c.deathSavesSuccesses||0),[ae,W]=w.useState(c.deathSavesFailures||0),[be,M]=w.useState(c.attributes||{strength:10,dexterity:10,constitution:10,intelligence:10,wisdom:10,charisma:10}),[Z,ne]=w.useState(((Mt=c.proficiencies)==null?void 0:Mt.savingThrows)||{strength:!1,dexterity:!1,constitution:!1,intelligence:!1,wisdom:!1,charisma:!1}),[te,ie]=w.useState(((Ie=c.proficiencies)==null?void 0:Ie.skills)||{acrobatics:!1,animalHandling:!1,arcana:!1,athletics:!1,deception:!1,history:!1,insight:!1,intimidation:!1,investigation:!1,medicine:!1,nature:!1,perception:!1,performance:!1,persuasion:!1,religion:!1,sleightOfHand:!1,stealth:!1,survival:!1}),[Q,I]=w.useState(c.actions||[]),[J,ee]=w.useState(c.attacks||[]),[oe,Ce]=w.useState(c.featuresAndTraits||[]);w.useEffect(()=>{var Ve,Ye,Ht,Da,Ut,ln,sn,ta,rn;r(c.name||""),h(c.charClass||""),S(((Ve=c.level)==null?void 0:Ve.toString())||""),p(c.background||""),A(c.species||""),N(c.subclass||""),E(((Ye=c.armorClass)==null?void 0:Ye.toString())||""),_(((Ht=c.initiative)==null?void 0:Ht.toString())||""),H(((Da=c.speed)==null?void 0:Da.toString())||""),X(c.shieldEquipped||!1),y(((Ut=c.currentHp)==null?void 0:Ut.toString())||""),F(((ln=c.tempHp)==null?void 0:ln.toString())||""),se(((sn=c.maxHp)==null?void 0:sn.toString())||""),de(c.hitDiceEntries&&c.hitDiceEntries.length>0?c.hitDiceEntries:[{id:crypto.randomUUID(),type:"d6",quantity:1}]),Y(c.deathSavesSuccesses||0),W(c.deathSavesFailures||0),M(c.attributes||{strength:10,dexterity:10,constitution:10,intelligence:10,wisdom:10,charisma:10}),ne(((ta=c.proficiencies)==null?void 0:ta.savingThrows)||{strength:!1,dexterity:!1,constitution:!1,intelligence:!1,wisdom:!1,charisma:!1}),ie(((rn=c.proficiencies)==null?void 0:rn.skills)||{acrobatics:!1,animalHandling:!1,arcana:!1,athletics:!1,deception:!1,history:!1,insight:!1,intimidation:!1,investigation:!1,medicine:!1,nature:!1,perception:!1,performance:!1,persuasion:!1,religion:!1,sleightOfHand:!1,stealth:!1,survival:!1}),I(c.actions||[]),ee(c.attacks||[]),Ce(c.featuresAndTraits||[])},[c]);const Pe=w.useCallback(()=>{I(Ve=>[...Ve,{id:crypto.randomUUID(),name:"",bonus:"",damage:""}])},[]),Ge=w.useCallback(Ve=>{I(Ye=>Ye.filter(Ht=>Ht.id!==Ve))},[]),We=w.useCallback((Ve,Ye,Ht)=>{I(Da=>Da.map(Ut=>Ut.id===Ve?{...Ut,[Ye]:Ht}:Ut))},[]),Ee=w.useCallback(()=>{ee(Ve=>[...Ve,{id:crypto.randomUUID(),name:"",attackBonus:"",damage:""}])},[]),Qe=w.useCallback(Ve=>{ee(Ye=>Ye.filter(Ht=>Ht.id!==Ve))},[]),Ke=w.useCallback((Ve,Ye,Ht)=>{ee(Da=>Da.map(Ut=>Ut.id===Ve?{...Ut,[Ye]:Ht}:Ut))},[]),Xe=w.useCallback(()=>({...c,name:o,charClass:d,level:Number(m),background:b,species:v,subclass:R,armorClass:Number(x),initiative:Number(C),speed:Number(U),shieldEquipped:z,currentHp:Number(j),tempHp:Number(V),maxHp:Number(le),hitDiceEntries:me,deathSavesSuccesses:ye,deathSavesFailures:ae,attributes:be,proficiencies:{savingThrows:Z,skills:te},actions:Q,attacks:J,featuresAndTraits:oe}),[c,o,d,m,b,v,R,x,C,U,z,j,V,le,me,ye,ae,be,Z,te,Q,J,oe]),Ft={editingTokenName:o,setEditingTokenName:r,editingCharClass:d,setEditingCharClass:h,editingLevel:m,setEditingLevel:S,editingBackground:b,setEditingBackground:p,editingSpecies:v,setEditingSpecies:A,editingSubclass:R,setEditingSubclass:N,proficiencyBonus:D,editingArmorClass:x,setEditingArmorClass:E,editingInitiative:C,setEditingInitiative:_,editingSpeed:U,setEditingSpeed:H,editingShieldEquipped:z,setEditingShieldEquipped:X,editingCurrentHp:j,setEditingCurrentHp:y,editingTempHp:V,setEditingTempHp:F,editingMaxHp:le,setEditingMaxHp:se,editingHitDiceEntries:me,setEditingHitDiceEntries:de,editingDeathSavesSuccesses:ye,setEditingDeathSavesSuccesses:Y,editingDeathSavesFailures:ae,setEditingDeathSavesFailures:W,attributes:be,setAttributes:M,savingThrowProficiencies:Z,setSavingThrowProficiencies:ne,skillProficiencies:te,setSkillProficiencies:ie,actions:Q,handleAddAction:Pe,handleRemoveAction:Ge,handleActionChange:We,attacks:J,handleAddAttack:Ee,handleRemoveAttack:Qe,handleAttackChange:Ke,featuresAndTraits:oe,setFeaturesAndTraits:Ce,SKILLS_CONFIG:U1,getUpdatedPlayerToken:Xe};return u.jsx(Hh.Provider,{value:Ft,children:i})}function gl(){const i=w.useContext(Hh);if(i===void 0)throw new Error("usePlayerSheet must be used within a PlayerSheetProvider");return i}function Ib(){const{editingTokenName:i,setEditingTokenName:c,editingCharClass:o,setEditingCharClass:r,editingLevel:d,setEditingLevel:h,editingBackground:m,setEditingBackground:S,editingSpecies:b,setEditingSpecies:p,editingSubclass:v,setEditingSubclass:A,proficiencyBonus:R}=gl();return u.jsxs("div",{className:"flex w-full rounded-md  gap-10 mb-2 items-center bg-surface-1 p-2",children:[u.jsxs("div",{id:"name",className:"flex flex-col ",children:[u.jsx("label",{htmlFor:"editingTokenName",className:" text-[1.2rem] font-medium  -mt-1 w-[15rem]",children:"NOME DO PERSONAGEM"}),u.jsx("input",{id:"editingTokenName",type:"text",value:i,onChange:N=>c(N.target.value),className:" w-full p-2 bg-surface-1 border border-surface-2 rounded-md text-[1rem] ",required:!0,maxLength:28})]}),u.jsxs("div",{id:"classAndSubclass",className:"flex flex-col gap-1",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"editingCharClass",className:"block text-[0.6rem] font-medium  w-full",children:"CLASSE"}),u.jsx("input",{id:"editingCharClass",type:"text",value:o,onChange:N=>r(N.target.value),className:" w-full pl-1.5 bg-surface-1 border border-surface-2 rounded-md text-[0.8rem] "})]}),u.jsx("label",{htmlFor:"editingSubclass",className:"block text-[0.6rem] font-medium  w-full -mb-1",children:"SUBCLASSE"}),u.jsx("input",{id:"editingSubclass",type:"text",value:v,onChange:N=>A(N.target.value),className:" w-full pl-1.5 bg-surface-1 border border-surface-2 rounded-md text-[0.8rem] "})]}),u.jsxs("div",{id:"backgroundAndSpecies",className:"flex flex-col gap-1",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"editingBackground",className:"block text-[0.6rem] font-medium w-full",children:"ANTECEDENTE"}),u.jsx("input",{id:"editingBackground",type:"text",value:m,onChange:N=>S(N.target.value),className:" w-full pl-1.5 bg-surface-1 border border-surface-2 rounded-md text-[0.8rem] "})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"editingSpecies",className:"block text-[0.6rem] font-medium w-full -mb-0.5",children:"ESPCIE"}),u.jsx("input",{id:"editingSpecies",type:"text",value:b,onChange:N=>p(N.target.value),className:" w-full pl-1.5 bg-surface-1 border border-surface-2 rounded-md text-[0.8rem] "})]})]}),u.jsxs("div",{id:"levelAndProficiency",className:"flex flex-col  w-[5rem]",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"editingLevel",className:"block text-[0.6rem] font-medium w-full",children:"NVEL"}),u.jsx("input",{id:"editingLevel",type:"number",value:d,onChange:N=>{const D=N.target.value;D.length<=2&&h(D)},className:"hide-arrows w-full pl-1.5 bg-surface-1 border border-surface-2 rounded-md text-[0.8rem] ",min:"1",max:"99",step:"1"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"proficiencyBonus",className:"block text-[0.6rem] font-medium w-full",children:"PROF. BNUS"}),u.jsxs("span",{id:"proficiencyBonus",className:"block hide-arrows  pl-1.5 bg-surface-1 border border-surface-2 rounded-md text-[0.8rem] ",children:["+",R]})]})]})]})}const Fb=({attrName:i,attrValue:c,onAttributeChange:o})=>{const r=k1[i],d=Math.floor((c-10)/2);return u.jsxs("div",{className:"flex justify-between w-[10rem]",children:[u.jsxs("div",{className:"flex flex-col ",children:[u.jsx("label",{htmlFor:`attr-${i}`,className:Ae("block text-xs font-bold mb-0.5","text-xs uppercase"),children:r}),u.jsx("input",{id:`attr-${i}`,type:"number",value:c,onChange:h=>{const m=parseInt(h.target.value,10);isNaN(m)?h.target.value===""&&o(i,""):o(i,Math.max(1,Math.min(30,m)))},className:Ae("hide-arrows w-full p-2 bg-surface-1 border border-surface-2 rounded-md focus:ring-1 focus:ring-accent-primary focus:border-accent-primary text-text-primary placeholder-text-secondary","text-center hide-number-spinners w-12 text-lg font-semibold p-0")})]}),u.jsx("div",{id:"modificador",className:"flex items-center justify-center w-14",children:u.jsx("span",{className:"block text-2xl font-bold p-1 border rounded w-full text-center ",children:d>=0?`+${d}`:d})})]})},ey=({skillInfo:i,isProficient:c,totalBonus:o,onProficiencyChange:r,attrName:d})=>u.jsxs("div",{className:"flex items-center gap-x-1",children:[u.jsx("input",{type:"checkbox",id:`skill-prof-${String(i.key)}-${String(d)}`,checked:c,onChange:h=>r(i.key,!!i.isSavingThrow,h.target.checked),className:"h-3.5 w-3.5 rounded-sm border-surface-2 text-accent-primary focus:ring-accent-primary bg-surface-1 flex-shrink-0"}),u.jsx("label",{htmlFor:`skill-prof-${String(i.key)}-${String(d)}`,className:"text-xs font-bold text-accent-primary w-max-[0.375rem] text-right flex-shrink-0",children:o>=0?`+${o}`:o}),u.jsx("label",{htmlFor:`skill-prof-${String(i.key)}-${String(d)}`,className:"text-xs font-medium text-accent-primary cursor-pointer flex-grow",children:i.label})]},i.key);function ty(){const{attributes:i,setAttributes:c,savingThrowProficiencies:o,setSavingThrowProficiencies:r,skillProficiencies:d,setSkillProficiencies:h,SKILLS_CONFIG:m,proficiencyBonus:S}=gl(),b=(v,A)=>{c(R=>({...R,[v]:A===""?10:Math.max(1,Math.min(30,A))}))},p=(v,A,R)=>{A?r(N=>({...N,[v]:R})):h(N=>({...N,[v]:R}))};return u.jsx("div",{className:"flex flex-col space-y-2 rounded-md",children:Object.keys(i).map(v=>{const A=i[v],R=Math.floor((A-10)/2),D=[{key:`${v}SavingThrow`,label:"Salvaguarda",parentAttribute:v,isSavingThrow:!0},...m.filter(x=>x.parentAttribute===v).map(x=>({...x,isSavingThrow:!1}))];return u.jsxs("div",{className:"flex flex-col space-y-2 p-3 rounded bg-surface-1",children:[u.jsx(Fb,{attrName:v,attrValue:A,onAttributeChange:b}),D.length>0&&u.jsx("div",{className:"mt-1.5 space-y-0.5",children:D.map(x=>{const E=!!x.isSavingThrow,C=E?v:x.key,_=E?o[C]:d[C],H=R+(_?S:0);return u.jsx(ey,{skillInfo:x,isProficient:_,totalBonus:H,onProficiencyChange:p,attrName:v},x.key)})})]},v)})})}const ay=({attack:i,onAttackChange:c,onRemoveAttack:o})=>u.jsxs("div",{className:"grid grid-cols-12 gap-x-1.5 items-center border-b pb-1.5 mb-1.5",children:[u.jsx("div",{className:"col-span-5",children:u.jsx("input",{type:"text",placeholder:"Nome do Ataque",value:i.name,onChange:r=>c(i.id,"name",r.target.value),className:Ae("w-full p-2 bg-surface-1 border border-surface-2 rounded-md focus:ring-1 focus:ring-accent-primary focus:border-accent-primary text-text-primary placeholder-text-secondary","text-xs")})}),u.jsx("div",{className:"col-span-3",children:u.jsx("input",{type:"text",placeholder:"+ Ataque",value:i.attackBonus,onChange:r=>c(i.id,"attackBonus",r.target.value),className:Ae("w-full p-2 bg-surface-1 border border-surface-2 rounded-md focus:ring-1 focus:ring-accent-primary focus:border-accent-primary text-text-primary placeholder-text-secondary","text-xs text-center")})}),u.jsx("div",{className:"col-span-3",children:u.jsx("input",{type:"text",placeholder:"Dano/Tipo",value:i.damage,onChange:r=>c(i.id,"damage",r.target.value),className:Ae("w-full p-2 bg-surface-1 border border-surface-2 rounded-md focus:ring-1 focus:ring-accent-primary focus:border-accent-primary text-text-primary placeholder-text-secondary","text-xs")})}),u.jsx("button",{type:"button",onClick:()=>o(i.id),className:"col-span-1 justify-self-center",children:u.jsx(th,{className:"h-4 w-4"})})]}),ny=({attacks:i,handleAddAttack:c,handleRemoveAttack:o,handleAttackChange:r})=>u.jsxs("div",{className:"col-span-1 flex flex-col space-y-2.5 border p-2 rounded-md",children:[u.jsx("h3",{className:Ae("block text-[0.6875rem] font-medium text-accent-primary mb-px","text-center uppercase mb-1"),children:"Ataques & Cantrips"}),i&&i.map(d=>u.jsx(ay,{attack:d,onAttackChange:r,onRemoveAttack:o},d.id)),u.jsxs("button",{type:"button",onClick:c,className:"flex items-center justify-center space-x-1 py-1 text-xs text-accent-primary hover:text-accent-primary-hover border border-accent-primary hover:border-accent-primary-hover rounded-md",children:[u.jsx(Eu,{className:"h-4 w-4"}),u.jsx("span",{children:"Adicionar Ataque"})]})]}),ly=({featuresAndTraits:i,setFeaturesAndTraits:c})=>u.jsxs("div",{className:"border p-2 rounded-md mt-2 flex-grow flex flex-col",children:[u.jsx("h3",{className:Ae("block text-[0.6875rem] font-medium text-accent-primary mb-px","text-center uppercase mb-1"),children:"Caractersticas & Talentos"}),u.jsx("textarea",{value:(i==null?void 0:i.map(o=>`${o.name}${o.source?` (${o.source})`:""}:
${o.description}`).join(`

`))||"",onChange:o=>{const d=o.target.value.split(`

`).map((h,m)=>{const S=h.indexOf(`:
`);let b=`Caracterstica ${m+1}`,p=h;return S!==-1&&(b=h.substring(0,S),p=h.substring(S+2)),{id:ja(),name:b,description:p}});c(d)},placeholder:"Descreva caractersticas de classe, espcie, talentos, etc.",className:Ae("w-full p-2 bg-surface-1 border border-surface-2 rounded-md focus:ring-1 focus:ring-accent-primary focus:border-accent-primary text-text-primary placeholder-text-secondary","min-h-[150px] flex-grow text-xs")})]});function iy(){const{attacks:i,handleAddAttack:c,handleRemoveAttack:o,handleAttackChange:r,featuresAndTraits:d,setFeaturesAndTraits:h}=gl();return u.jsxs("div",{className:"col-span-1 flex flex-col space-y-2.5",children:[u.jsx(ny,{attacks:i,handleAddAttack:c,handleRemoveAttack:o,handleAttackChange:r}),u.jsx(ly,{featuresAndTraits:d,setFeaturesAndTraits:h})]})}const sy=({editingArmorClass:i,setEditingArmorClass:c,editingInitiative:o,setEditingInitiative:r,editingSpeed:d,setEditingSpeed:h,editingShieldEquipped:m,setEditingShieldEquipped:S})=>u.jsxs("fieldset",{className:"p-2 rounded-md bg-surface-1",children:[u.jsx("legend",{className:"bg-surface-1 p-1 pl-2 pr-3 rounded text-sm font-bold uppercase",children:"Armadura e Combate"}),u.jsxs("div",{className:"flex justify-between items-end ",children:[u.jsxs("div",{className:"w-16",children:[u.jsx("label",{htmlFor:"editingArmorClass",className:"text-center block text-[0.8rem] font-medium mb-px",children:"CA"}),u.jsx("input",{id:"editingArmorClass",type:"number",value:i,onChange:b=>c(b.target.value),className:Ae("w-full p-2 bg-surface-1 border border-surface-2 rounded-md focus:ring-1 focus:ring-accent-primary focus:border-accent-primary text-text-primary placeholder-text-secondary","text-center hide-number-spinners"),min:"0"})]}),u.jsxs("div",{className:"w-16",children:[u.jsx("label",{htmlFor:"editingInitiative",className:"block text-[0.8rem] font-medium mb-px",children:"INICIATIVA"}),u.jsx("input",{id:"editingInitiative",type:"number",value:o,onChange:b=>r(b.target.value),className:Ae("w-full p-2 bg-surface-1 border border-surface-2 rounded-md focus:ring-1 focus:ring-accent-primary focus:border-accent-primary text-text-primary placeholder-text-secondary","text-center hide-number-spinners")})]}),u.jsxs("div",{className:"w-16",children:[u.jsx("label",{htmlFor:"editingSpeed",className:"block text-[0.8rem] font-medium mb-px",children:"DESLOC."}),u.jsx("input",{id:"editingSpeed",type:"number",value:d,onChange:b=>h(b.target.value),className:Ae("w-full p-2 bg-surface-1 border border-surface-2 rounded-md focus:ring-1 focus:ring-accent-primary focus:border-accent-primary text-text-primary placeholder-text-secondary","text-center hide-number-spinners"),min:"0"})]})]}),u.jsx("div",{className:"pt-2",children:u.jsxs("label",{htmlFor:"editingShieldEquipped",className:"flex items-center space-x-1.5 cursor-pointer",children:[u.jsx("input",{id:"editingShieldEquipped",type:"checkbox",checked:m,onChange:b=>S(b.target.checked),className:"h-3.5 w-3.5 rounded-sm focus:ring-accent-primary bg-surface-1"}),u.jsx("span",{className:Ae("block text-[0.8rem] font-medium mb-px","mb-0"),children:"ESCUDO"})]})})]}),ry=({editingCurrentHp:i,setEditingCurrentHp:c,editingTempHp:o,setEditingTempHp:r,editingMaxHp:d,setEditingMaxHp:h,editingHitDiceEntries:m,setEditingHitDiceEntries:S})=>{const{openModal:b,closeModal:p}=nn(),v=()=>{S([...m,{id:ja(),type:"d6",quantity:1}])},A=D=>{S(m.filter(x=>x.id!==D))},R=D=>{b("confirmationModal",{title:"Confirmar Excluso",content:"Voc tem certeza que deseja remover esta linha de dados de vida?",onConfirm:()=>{A(D),p()},onCancel:p})},N=(D,x,E)=>{S(m.map(C=>C.id===D?{...C,[x]:x==="quantity"?Number(E):E}:C))};return u.jsxs("fieldset",{id:"pontos de vida",className:"flex flex-col space-y-1.5 p-2 rounded-md bg-surface-1 mt-2",children:[u.jsx("legend",{className:"bg-surface-1 p-1 pl-2 pr-3 rounded text-sm font-bold ",children:"PONTOS DE VIDA"}),u.jsxs("div",{children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"editingCurrentHp",className:Ae("block text-[0.8rem] font-medium mb-px","text-[10px] text-center block"),children:"ATUAL"}),u.jsx("input",{id:"editingCurrentHp",type:"number",value:i,onChange:D=>c(D.target.value),className:Ae("w-full p-2 bg-surface-1 border border-surface-2 rounded-md text-text-primary placeholder-text-secondary","text-center hide-number-spinners")})]}),u.jsxs("div",{className:"flex space-x-1.5 mt-1.5",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{htmlFor:"editingTempHp",className:Ae("block text-[0.8rem] font-medium mb-px","text-[10px] text-center block"),children:"TEMPORRIO"}),u.jsx("input",{id:"editingTempHp",type:"number",value:o,onChange:D=>r(D.target.value),className:Ae("w-full p-2 bg-surface-1 border border-surface-2 rounded-md focus:ring-1 focus:ring-accent-primary focus:border-accent-primary text-text-primary placeholder-text-secondary","text-center hide-number-spinners"),min:"0"})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{htmlFor:"editingMaxHp",className:Ae("block text-[0.8rem] font-medium mb-px","text-[10px] text-center block"),children:"MXIMO"}),u.jsx("input",{id:"editingMaxHp",type:"number",value:d,onChange:D=>h(D.target.value),className:Ae("w-full p-2 bg-surface-1 border border-surface-2 rounded-md focus:ring-1 focus:ring-accent-primary focus:border-accent-primary text-text-primary placeholder-text-secondary","text-center hide-number-spinners"),min:"1"})]})]})]}),u.jsxs("fieldset",{className:"flex-1 rounded bg-surface-1 relative",children:[u.jsx("button",{type:"button",onClick:v,title:"Adicionar novo dado de vida",className:"flex items-center justify-center -bottom-5.5 w-6 h-6 right-[50%] translate-x-1/2 absolute text-xl font-bold bg-accent-primary text-text-primary rounded-[10rem] hover:bg-accent-secondary ",children:u.jsx(Eu,{})}),u.jsx("legend",{className:"bg-surface-1 rounded text-sm font-bold ",children:"Dados de Vida"}),u.jsx("ul",{className:"flex flex-col",children:m.map(D=>u.jsxs("li",{className:"flex items-center space-x-2 mb-2",children:[u.jsxs("label",{htmlFor:`hit-dice-type-${D.id}`,className:"sr-only",children:["Tipo de Dado de Vida para ",D.id]}),u.jsxs("select",{id:`hit-dice-type-${D.id}`,value:D.type,onChange:x=>N(D.id,"type",x.target.value),className:Ae("p-1 bg-surface-1 border font-bold border-surface-2 rounded-md focus:ring-1 focus:ring-accent-primary focus:border-accent-primary text-text-primary","w-20"),children:[u.jsx("option",{value:"D4",children:"D4"}),u.jsx("option",{value:"D6",children:"D6"}),u.jsx("option",{value:"D8",children:"D8"}),u.jsx("option",{value:"D10",children:"D10"}),u.jsx("option",{value:"D12",children:"D12"}),u.jsx("option",{value:"D20",children:"D20"})]}),u.jsxs("label",{htmlFor:`hit-dice-quantity-${D.id}`,className:"sr-only",children:["Quantidade de Dados de Vida ",D.type]}),u.jsx("input",{id:`hit-dice-quantity-${D.id}`,type:"number",value:D.quantity,onChange:x=>N(D.id,"quantity",x.target.value),className:Ae("w-full p-1 bg-surface-1 border border-surface-2 rounded-md focus:ring-1 focus:ring-accent-primary focus:border-accent-primary text-text-primary placeholder-text-secondary","text-center hide-number-spinners"),min:"1"}),u.jsx("button",{type:"button",title:"Remover dado de vida",onClick:()=>R(D.id),disabled:m.length===1,className:"p-2 t hover:text-surface-0 bg-feedback-negative rounded-md hover:bg-feedback-negative-hover flex items-center justify-center text-sm font-bold disabled:opacity-50 disabled:cursor-not-allowed",children:u.jsx(th,{className:"w-10 h-5"})})]},D.id))})]})]})};function cy(){const{editingArmorClass:i,setEditingArmorClass:c,editingInitiative:o,setEditingInitiative:r,editingSpeed:d,setEditingSpeed:h,editingShieldEquipped:m,setEditingShieldEquipped:S,editingCurrentHp:b,setEditingCurrentHp:p,editingTempHp:v,setEditingTempHp:A,editingMaxHp:R,setEditingMaxHp:N,editingHitDiceEntries:D,setEditingHitDiceEntries:x,actions:E,handleAddAction:C}=gl(),{openModal:_}=nn(),U=H=>{_("actionEdit",{actionId:H.id})};return u.jsxs("section",{className:"flex flex-col space-y-2.5 w-[16rem]",children:[u.jsx("h2",{className:"sr-only",children:"Dados de Sade e Combate do Personagem"}),u.jsxs("div",{children:[u.jsx(sy,{editingArmorClass:i,setEditingArmorClass:c,editingInitiative:o,setEditingInitiative:r,editingSpeed:d,setEditingSpeed:h,editingShieldEquipped:m,setEditingShieldEquipped:S}),u.jsx(ry,{editingCurrentHp:b,setEditingCurrentHp:p,editingTempHp:v,setEditingTempHp:A,editingMaxHp:R,setEditingMaxHp:N,editingHitDiceEntries:D,setEditingHitDiceEntries:x}),u.jsxs("fieldset",{id:"Aes",className:"relative flex flex-col space-y-1.5 mt-4 p-2 rounded-md bg-surface-1 pb-5 ",children:[u.jsx("legend",{className:"bg-surface-1 p-1 pl-2 pr-3 rounded text-sm font-bold ",children:"AES"}),E.map(H=>u.jsxs("div",{className:"relative group",children:[u.jsxs("button",{type:"button",title:"Realizar ao",className:"w-full grid grid-cols-6 gap-2 text-[0.70rem] rounded bg-accent-primary hover:bg-surface-4 text-start hover:bg-accent-primary-hover hover:shadow-md",children:[u.jsx("span",{className:"border col-span-3 border-surface-2 rounded-md p-1 my-1 ml-1",children:H.name||"-"}),u.jsx("span",{className:"border border-surface-2 rounded-md p-1 my-1",children:H.bonus||"-"}),u.jsx("span",{className:"border col-span-2 border-surface-2 rounded-md p-1 my-1 mr-1",children:H.damage||"-"})]}),u.jsx("div",{className:"absolute -top-1 right-1 flex space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsx("button",{type:"button",onClick:()=>U(H),className:"flex items-center justify-center w-5 h-5 text-xl font-bold rounded bg-accent-primary hover:bg-accent-primary-hover",title:"Editar ao",children:u.jsx(Ep,{height:4,width:4})})})]},H.id)),u.jsx("button",{type:"button",onClick:C,title:"Adicionar nova ao",className:"absolute -bottom-3.5 right-[50%] translate-x-1/2 flex items-center justify-center w-6 h-6 text-xl font-bold bg-accent-primary text-text-primary rounded-[10rem] hover:bg-accent-secondary ",children:u.jsx(Eu,{})})]})]})]})}function uy(){return u.jsxs("div",{className:"flex flex-col p-0.5 overflow-y-auto max-h-[calc(100vh-12rem)] hide-scrollbar",children:[u.jsx(Ib,{}),u.jsxs("div",{className:"flex justify-between flex-wrap gap-2",children:[u.jsx(ty,{}),u.jsx(cy,{}),u.jsx(iy,{})]})]})}function oy({editingTokenNotes:i,setEditingTokenNotes:c,editingInspiration:o,setEditingInspiration:r}){return u.jsxs("div",{className:"p-2 space-y-1.5 overflow-y-auto max-h-[calc(100vh-12.5rem)]",children:[" ",u.jsxs("div",{children:[u.jsx("label",{htmlFor:"pjSheetEditingTokenNotes",className:"block text-[0.6875rem] font-medium text-accent-primary mb-px",children:"Notas do Personagem"}),u.jsx("textarea",{id:"pjSheetEditingTokenNotes",value:i,onChange:d=>c(d.target.value),className:Ae("w-full p-2 bg-surface-1 border border-surface-2 rounded-md focus:ring-1 focus:ring-accent-primary focus:border-accent-primary text-text-primary placeholder-text-secondary","min-h-[5rem]")})]}),u.jsx("div",{className:"pt-1",children:u.jsxs("label",{htmlFor:"editingInspiration",className:"flex items-center space-x-1.5 cursor-pointer",children:[u.jsx("input",{id:"editingInspiration",type:"checkbox",checked:o,onChange:d=>r(d.target.checked),className:"h-3.5 w-3.5 rounded-sm border-surface-2 text-accent-primary focus:ring-accent-primary bg-surface-1"}),u.jsx("span",{className:Ae("block text-[0.6875rem] font-medium text-accent-primary mb-px","mb-0"),children:"Inspirao"})]})}),u.jsx("p",{className:"text-text-secondary text-xs italic mt-4 text-center",children:"Outras informaes de histria, magias, etc. (Em desenvolvimento)"})]})}function fy({editingTokenImage:i,setEditingTokenImage:c,editingTokenSize:o,setEditingTokenSize:r}){return u.jsxs("div",{className:"p-2 space-y-1.5 overflow-y-auto max-h-[calc(100vh-12.5rem)]",children:[" ",u.jsxs("div",{children:[u.jsx("label",{htmlFor:"pjSheetEditingTokenImage",className:"block text-[0.6875rem] font-medium text-accent-primary mb-px",children:"URL da Imagem do Token"}),u.jsx("input",{id:"pjSheetEditingTokenImage",type:"text",value:i,onChange:d=>c(d.target.value),placeholder:"Cole a URL da imagem aqui",className:Ae("w-full p-2 bg-surface-1 border border-surface-2 rounded-md focus:ring-1 focus:ring-accent-primary focus:border-accent-primary text-text-primary placeholder-text-secondary")})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"pjSheetEditingTokenSize",className:"block text-[0.6875rem] font-medium text-accent-primary mb-px",children:"Tamanho do Token (Tabuleiro)"}),u.jsxs("select",{id:"pjSheetEditingTokenSize",value:o,onChange:d=>r(d.target.value),className:"w-full p-2 bg-surface-1 border border-surface-2 rounded-md focus:ring-1 focus:ring-accent-primary focus:border-accent-primary text-text-primary placeholder-text-secondary",children:[u.jsx("option",{value:"1x1",children:"1x1 (Padro)"}),u.jsx("option",{value:"2x2",children:"2x2 (Grande)"}),u.jsx("option",{value:"3x3",children:"3x3 (Enorme)"}),u.jsx("option",{value:"0.5x0.5",children:"0.5x0.5 (Minsculo)"})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-[0.6875rem] font-medium text-accent-primary mb-px",children:[" ","Tipo do Token"]}),u.jsx("input",{type:"text",value:Us[Be.PLAYER],className:Ae("w-full p-2 bg-surface-1 border border-surface-2 rounded-md focus:ring-1 focus:ring-accent-primary focus:border-accent-primary text-text-primary placeholder-text-secondary","bg-surface-1 opacity-70 cursor-not-allowed"),readOnly:!0,disabled:!0})]})]})}function dy({isOpen:i,actionId:c,onClose:o,zIndex:r}){const{actions:d,handleActionChange:h,handleRemoveAction:m}=gl(),{openModal:S,closeModal:b}=nn();console.log("ActionEditModal: Renderizando com actionId:",c);const p=d.find(x=>x.id===c);console.log("ActionEditModal: currentAction do contexto:",p);const[v,A]=w.useState(p||{id:c,name:"",bonus:"",damage:""});console.log("ActionEditModal: Estado inicial editedAction:",v),w.useEffect(()=>{console.log("ActionEditModal: useEffect - currentAction mudou:",p),p&&A(p)},[p]);const R=x=>{const{name:E,value:C}=x.target;A(_=>({..._,[E]:C}))},N=()=>{console.log("ActionEditModal: handleSave chamado. editedAction:",v),v.id?(console.log("ActionEditModal: Salvando ao com ID:",v.id,"Nome:",v.name,"Bnus:",v.bonus,"Dano:",v.damage),h(v.id,"name",v.name),h(v.id,"bonus",v.bonus||""),h(v.id,"damage",v.damage||""),o()):console.error("ActionEditModal: Erro: ID da ao no encontrado ao tentar salvar.",v)},D=()=>{S("confirmationModal",{title:"Confirmar Excluso",content:"Voc tem certeza que deseja remover esta ao?",onConfirm:()=>{console.log("ActionEditModal: Confirmando excluso da ao com ID:",c),m(c),b(),b()},onCancel:()=>{b()}})};return i?u.jsx(qs,{isOpen:i,onClose:o,title:"Editar Ao",onConfirm:N,confirmText:"Salvar",cancelText:"Cancelar",zIndex:r,children:u.jsxs("div",{className:"p-4",children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-text-primary",children:"Nome"}),u.jsx("input",{type:"text",id:"name",name:"name",value:v.name,onChange:R,className:"mt-1 block w-full rounded-md bg-surface-1 border-surface-2 shadow-sm focus:border-accent-primary focus:ring focus:ring-accent-primary focus:ring-opacity-50"})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"bonus",className:"block text-sm font-medium text-text-primary",children:"Bnus"}),u.jsx("input",{type:"text",id:"bonus",name:"bonus",value:v.bonus,onChange:R,className:"mt-1 block w-full rounded-md bg-surface-1 border-surface-2 shadow-sm focus:border-accent-primary focus:ring focus:ring-accent-primary focus:ring-opacity-50"})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"damage",className:"block text-sm font-medium text-text-primary",children:"Dano"}),u.jsx("input",{type:"text",id:"damage",name:"damage",value:v.damage,onChange:R,className:"mt-1 block w-full rounded-md bg-surface-1 border-surface-2 shadow-sm focus:border-accent-primary focus:ring focus:ring-accent-primary focus:ring-opacity-50"})]}),u.jsx("div",{className:"flex justify-start mt-4",children:u.jsx("button",{onClick:D,className:"px-4 py-2 bg-feedback-negative text-text-primary rounded-md hover:bg-feedback-negative-hover",children:"Deletar"})})]})}):null}const my=({activeTab:i,onTabChange:c})=>{const o=r=>Ae("px-4 py-2 text-sm font-medium rounded-t-md border-b-2",i===r?"border-accent-primary text-accent-primary bg-surface-1":"border-transparent text-text-secondary hover:bg-surface-1 hover:border-accent-primary-hover");return u.jsxs("div",{className:"flex border-b border-surface-2 mb-2.5",children:[u.jsx("button",{type:"button",onClick:()=>c("principal"),className:o("principal"),children:"Principal"}),u.jsx("button",{type:"button",onClick:()=>c("detalhes"),className:o("detalhes"),children:"Detalhes"}),u.jsx("button",{type:"button",onClick:()=>c("configuracoes"),className:o("configuracoes"),children:"Configuraes"})]})};function hy({tokenId:i,updateToken:c,onClose:o,editingTokenImage:r,setEditingTokenImage:d,editingTokenSize:h,setEditingTokenSize:m,editingTokenNotes:S,setEditingTokenNotes:b,editingInspiration:p,setEditingInspiration:v,hasTokenSheetChanged:A}){const{getUpdatedPlayerToken:R}=gl(),{modalStack:N,closeModal:D}=nn(),[x,E]=w.useState("principal"),C=N.length>0?N[N.length-1]:null,_=C==null?void 0:C.name,U=C==null?void 0:C.props;return u.jsxs(u.Fragment,{children:[u.jsx(my,{activeTab:x,onTabChange:E}),x==="principal"?u.jsx(uy,{}):x==="detalhes"?u.jsx(oy,{editingTokenNotes:S,setEditingTokenNotes:b,editingInspiration:p,setEditingInspiration:v}):u.jsx(fy,{editingTokenImage:r,setEditingTokenImage:d,editingTokenSize:h,setEditingTokenSize:m}),u.jsxs("div",{className:"pt-2 flex justify-end space-x-3",children:[u.jsx("button",{type:"button",onClick:o,className:"px-4 py-2 bg-accent-secondary hover:bg-accent-secondary-hover text-text-primary font-semibold rounded-md ",children:"Cancelar"}),u.jsx("button",{type:"submit",onClick:H=>{H.preventDefault();const z=R();c(i,z),o()},className:"px-4 py-2 text-text-primary font-semibold rounded-md disabled:opacity-50 disabled:cursor-not-allowed",disabled:!A,children:"Salvar"})]}),_==="actionEdit"&&(U==null?void 0:U.actionId)&&u.jsx(dy,{isOpen:!0,actionId:U.actionId,onClose:D,zIndex:200})]})}const Fm=700;function gy({tokenId:i,isOpen:c,onClose:o,zIndex:r}){var se,me;const{tokens:d,updateToken:h}=hl(),m=i&&d.find(de=>de.id===i)||null,{editingTokenImage:S,setEditingTokenImage:b,editingTokenSize:p,setEditingTokenSize:v,editingTokenType:A,setEditingTokenType:R,editingTokenNotes:N,setEditingTokenNotes:D,editingInspiration:x,setEditingInspiration:E,hasTokenSheetChanged:C,handleSave:_}=_h({initialTokenData:m,onSave:de=>{i&&(m==null?void 0:m.type)!==Be.PLAYER&&(h(i,de),o())}}),U=400,H=300,z=900,X=800,j={x:Math.max(0,(window.innerWidth-((m==null?void 0:m.type)===Be.PLAYER?750:450))/2+30),y:Math.max(0,(window.innerHeight-((m==null?void 0:m.type)===Be.PLAYER?Fm:620))/2+30)},y=(m==null?void 0:m.type)===Be.PLAYER?750:450,V=(m==null?void 0:m.type)===Be.PLAYER?Fm:620;if(!i||A===null||!c)return null;const F=A===Be.PLAYER?`${(m==null?void 0:m.name)||""}`:`Ficha de ${(m==null?void 0:m.name)||""}`,le=(m==null?void 0:m.name)||"";return u.jsx(Jb,{id:`sheet-${i}`,title:F,minimizedTitle:le,isOpen:c,onClose:o,initialPosition:j,initialWidth:y,initialHeight:V,minWidth:U,minHeight:H,maxWidth:z,maxHeight:X,zIndex:r,children:u.jsx("form",{onSubmit:_,className:"space-y-0.5 bg-surface-0 ",children:A===Be.PLAYER&&(m==null?void 0:m.type)===Be.PLAYER?u.jsx(Wb,{initialToken:m,setToken:de=>{i&&h(i,de)},children:u.jsx(hy,{tokenId:i,updateToken:h,onClose:o,editingTokenImage:S,setEditingTokenImage:b,editingTokenSize:p,setEditingTokenSize:v,editingTokenNotes:N,setEditingTokenNotes:D,editingInspiration:x,setEditingInspiration:E,hasTokenSheetChanged:C})}):u.jsx(Pb,{editingTokenName:(m==null?void 0:m.name)||"",setEditingTokenName:de=>{m&&h(m.id,{...m,name:de})},editingTokenType:A,setEditingTokenType:R,editingCurrentHp:((se=m==null?void 0:m.currentHp)==null?void 0:se.toString())||"",setEditingCurrentHp:de=>{m&&h(m.id,{...m,currentHp:parseInt(de)})},editingMaxHp:((me=m==null?void 0:m.maxHp)==null?void 0:me.toString())||"",setEditingMaxHp:de=>{m&&h(m.id,{...m,maxHp:parseInt(de)})},editingTokenNotes:N,setEditingTokenNotes:D,editingTokenImage:S,setEditingTokenImage:b,editingTokenSize:p,setEditingTokenSize:v})})})}function py({isOpen:i,title:c,content:o,confirmText:r,cancelText:d,onConfirm:h,onCancel:m,zIndex:S}){return u.jsx(qs,{isOpen:i,onClose:m,title:c,onConfirm:h,confirmText:r,cancelText:d,zIndex:S,children:u.jsx("div",{className:"p-4",children:u.jsx("p",{children:o})})})}const by=w.createContext(void 0),yy=({children:i,initialTokenData:c,onSave:o})=>{const r=_h({initialTokenData:c,onSave:o});return u.jsx(by.Provider,{value:r,children:i})},Uh=w.createContext(void 0),vy=({children:i})=>{const[c,o]=w.useState(null),r=w.useCallback(d=>{o(d)},[]);return u.jsx(Uh.Provider,{value:{selectedInstanceId:c,setSelectedInstanceId:r},children:i})},xy=()=>{const i=w.useContext(Uh);if(i===void 0)throw new Error("useSelectedToken must be used within a SelectedTokenProvider");return i};function Sy(){const{tokens:i,gridInstances:c,addToken:o,updateToken:r,removeGridInstance:d,makeGridInstanceIndependent:h}=hl(),{isToolbarVisible:m,setIsToolbarVisible:S,isRightSidebarVisible:b,setIsRightSidebarVisible:p,activeTool:v}=Ys(),{modalStack:A,openModal:R,closeModal:N,updateModalProps:D}=nn(),x=w.useRef(null),[E,C]=w.useState({instanceId:null,visualSVGPoint:null}),[_,U]=w.useState(null),[H,z]=w.useState([]),X=A.length>0?A[A.length-1]:null,j=X==null?void 0:X.name,y=X==null?void 0:X.props,{selectedInstanceId:V,setSelectedInstanceId:F}=xy(),le=w.useCallback(()=>{z([]),F(null)},[F]);w.useEffect(()=>{const Q=j==="hpControl"?y==null?void 0:y.instanceId:null,I=j==="sheet"?y==null?void 0:y.tokenId:null;j==="hpControl"&&Q&&!c.find(J=>J.instanceId===Q)&&N(),j==="sheet"&&I&&!i.find(J=>J.id===I)&&N(),E.instanceId&&!c.find(J=>J.instanceId===E.instanceId)&&C({instanceId:null,visualSVGPoint:null}),_&&!c.find(J=>J.instanceId===_)&&U(null),z(J=>J.filter(ee=>c.some(oe=>oe.instanceId===ee))),V&&!c.some(J=>J.instanceId===V)&&F(null)},[i,c,j,N,E.instanceId,_,y==null?void 0:y.instanceId,y==null?void 0:y.tokenId,V,F]),w.useEffect(()=>{v!==Ue.SELECT&&(le(),N())},[v,le,N]),w.useEffect(()=>{if(j==="hpControl"&&(y!=null&&y.instanceId)){const Q=c.find(J=>J.instanceId===y.instanceId);!(E.instanceId===y.instanceId&&E.visualSVGPoint!==null)&&(!Q||v!==Ue.SELECT)&&N()}},[c,v,j,y,E,N]);const se=(Q,I)=>{const J=I||(y==null?void 0:y.tokenType);if(!J){console.error("handleSaveNewTokenName: tokenType is missing.");return}let ee;J===Be.PLAYER?ee={name:Q,type:Be.PLAYER,image:It,color:Am,size:Hs,currentHp:ca,maxHp:ca,notes:"",species:"",charClass:"",subclass:"",level:jm,background:"",inspiration:Yp,armorClass:10,shieldEquipped:!1,tempHp:0,hitDiceUsed:0,hitDiceMax:jm,deathSavesSuccesses:0,deathSavesFailures:0}:ee={name:Q,type:J,image:It,color:Am,size:Hs,currentHp:ca,maxHp:ca,notes:""};const oe=o(ee);N(),R("sheet",{tokenId:oe.id})},me=Q=>{if(!Q)return null;const I=10*16,J=Q.x+Q.width/2-I/2,oe=Dh*16+20,Ce=Q.y-oe;return{x:J,y:Ce}},de=w.useCallback((Q,I)=>{if(v!==Ue.SELECT||(F(Q),z([]),A.some(oe=>oe.name==="hpControl"&&oe.props.instanceId===Q)))return;const ee=me(I);R("hpControl",{instanceId:Q,anchorPoint:ee})},[v,R,A,F,z]),ye=w.useCallback((Q,I)=>{const J=c.find(ee=>ee.instanceId===Q);if(J){const ee=i.find(oe=>oe.id===J.tokenInfoId);if(ee){const oe=ee.maxHp??I,Ce=Math.max(0,Math.min(I,oe));r(J.tokenInfoId,{currentHp:Ce})}}},[c,i,r]),Y=w.useCallback(Q=>{d(Q),j==="hpControl"&&(y==null?void 0:y.instanceId)===Q&&N(),z(I=>I.filter(J=>J!==Q)),V===Q&&F(null)},[d,j,y,N,V,F]),ae=w.useCallback(Q=>{h(Q)&&N()},[h,N]),W=w.useCallback((Q,I)=>{const J=me(I);if(j==="hpControl"){const ee=y==null?void 0:y.anchorPoint;(J&&ee&&(J.x!==ee.x||J.y!==ee.y)||J&&!ee||!J&&ee)&&D({anchorPoint:J})}},[j,D,y==null?void 0:y.anchorPoint]);w.useEffect(()=>{const Q=j==="hpControl"?y==null?void 0:y.instanceId:null,I=j==="sheet"?y==null?void 0:y.tokenId:null;j==="hpControl"&&Q&&!c.find(J=>J.instanceId===Q)&&N(),j==="sheet"&&I&&!i.find(J=>J.id===I)&&N(),E.instanceId&&!c.find(J=>J.instanceId===E.instanceId)&&C({instanceId:null,visualSVGPoint:null}),_&&!c.find(J=>J.instanceId===_)&&U(null),z(J=>J.filter(ee=>c.some(oe=>oe.instanceId===ee))),V&&!c.some(J=>J.instanceId===V)&&F(null)},[i,c,j,N,E.instanceId,_,y==null?void 0:y.instanceId,y==null?void 0:y.tokenId,V,F]),w.useEffect(()=>{if(j==="hpControl"&&(y!=null&&y.instanceId)){const Q=c.find(J=>J.instanceId===y.instanceId);!(E.instanceId===y.instanceId&&E.visualSVGPoint!==null)&&(!Q||v!==Ue.SELECT)&&N()}},[c,v,j,y,E,N]);const be=w.useCallback(Q=>{j==="hpControl"&&(y==null?void 0:y.instanceId)===Q&&(U(Q),N()),C(I=>({...I,instanceId:Q})),le()},[j,y,N,le]),M=w.useCallback((Q,I)=>{C(J=>J.instanceId===Q?{instanceId:Q,visualSVGPoint:I}:J)},[]),Z=w.useCallback(Q=>{var J;if(c.find(ee=>ee.instanceId===Q)&&_===Q){const ee=(J=x.current)==null?void 0:J.querySelector(`[data-instance-id="${Q}"]`),oe=(ee==null?void 0:ee.getBoundingClientRect())??null,Ce=oe?{x:oe.x,y:oe.y,width:oe.width,height:oe.height,top:oe.top,right:oe.right,bottom:oe.bottom,left:oe.left}:null;R("hpControl",{instanceId:Q,anchorPoint:Ce?me(Ce):null})}U(null),C({instanceId:null,visualSVGPoint:null})},[_,R,c]);w.useEffect(()=>{const Q=I=>{const J=document.activeElement;J&&(J.tagName==="INPUT"||J.tagName==="TEXTAREA"||J.tagName==="SELECT")&&J.closest(".hp-control-modal-input"),I.key==="Delete"&&(V?(d(V),F(null),N()):H.length>0?(H.forEach(ee=>d(ee)),le()):j==="hpControl"&&(y!=null&&y.instanceId)&&(d(y.instanceId),N()))};return window.addEventListener("keydown",Q),()=>{window.removeEventListener("keydown",Q)}},[j,y,H,d,le,N]),w.useEffect(()=>{const Q=I=>{I.key==="Alt"&&I.preventDefault()};return window.addEventListener("keydown",Q),()=>{window.removeEventListener("keydown",Q)}},[]);const ne="fixed top-1/2 -translate-y-1/2 z-30 p-2 bg-surface-1 hover:bg-border-base rounded-md shadow-lg transition-colors focus:outline-none focus:ring-2 focus:ring-border-strong",te=()=>{N(),le()},ie=w.useCallback(Q=>{var I;if(z(Q),Q.length===1){if(F(Q[0]),c.find(ee=>ee.instanceId===Q[0])){const ee=(I=x.current)==null?void 0:I.querySelector(`[data-instance-id="${Q[0]}"]`),oe=(ee==null?void 0:ee.getBoundingClientRect())??null,Ce=me(oe);R("hpControl",{instanceId:Q[0],anchorPoint:Ce})}}else F(null),N()},[N,F,R,c]);return u.jsxs("div",{className:"flex h-screen w-screen bg-surface-0 overflow-hidden relative",ref:x,children:[m?u.jsx(_1,{}):u.jsx("button",{onClick:()=>S(!0),className:`${ne} left-2 cursor-pointer hover:bg-accent-primary`,"aria-label":"Mostrar Barra de Ferramentas",children:u.jsx(nh,{className:" w-6 h-6 text-text-primary"})}),u.jsx(mb,{onGridInstanceSelectForHPModal:de,onBackgroundClick:te,activeHPModalInstanceId:j==="hpControl"?y==null?void 0:y.instanceId:null,onHPModalAnchorShouldUpdate:W,draggingVisuals:E,onGridInstanceDragStart:be,onGridInstanceDragMove:M,onGridInstanceDragEnd:Z,multiSelectedInstanceIds:H,onSetMultiSelectedInstanceIds:ie,onClearMultiSelection:le,selectedInstanceId:V,setSelectedInstanceId:F}),b?u.jsx(Hb,{}):u.jsx("button",{onClick:()=>p(!0),className:`${ne} right-2 cursor-pointer hover:bg-accent-primary`,"aria-label":"Mostrar Barra Lateral Direita",children:u.jsx(ah,{className:"w-6 h-6 text-text-primary"})}),A.map((Q,I)=>{const{name:J,props:ee}=Q,oe=I===A.length-1;switch(J){case"simpleName":return u.jsx(Lb,{isOpen:oe,onClose:N,onSave:se,title:ee.title,tokenType:ee.type,zIndex:100+I,containerRef:x},Q.id);case"sheet":const Ce=i.find(Ee=>Ee.id===ee.tokenId),Pe=Ce&&Ce.type===Be.PLAYER?Ce:null;return u.jsx(yy,{initialTokenData:Pe,onSave:Ee=>{ee.tokenId&&(r(ee.tokenId,Ee),N())},children:u.jsx(gy,{tokenId:ee.tokenId,isOpen:!0,onClose:N,zIndex:100+I})},ee.tokenId);case"actionEdit":return null;case"hpControl":const Ge=c.find(Ee=>Ee.instanceId===ee.instanceId),We=Ge?i.find(Ee=>Ee.id===Ge.tokenInfoId):null;return ee.instanceId&&We&&ee.anchorPoint&&u.jsx(Bb,{instanceId:ee.instanceId,tokenInfo:We,anchorPoint:ee.anchorPoint,isOpen:oe,onClose:N,onHPChange:Ee=>{ee.instanceId&&ye(ee.instanceId,Ee)},onRemoveFromBoard:Y,onMakeIndependent:ae,zIndex:100+I,containerRef:x},Q.id);case"confirmationModal":return u.jsx(py,{isOpen:!0,title:ee.title,content:ee.content,confirmText:ee.confirmText,cancelText:ee.cancelText,onConfirm:ee.onConfirm,onCancel:ee.onCancel,zIndex:200+I,containerRef:x},Q.id);default:return null}})]})}lp.createRoot(document.getElementById("root")).render(u.jsx(w.StrictMode,{children:u.jsx(G1,{children:u.jsx(Jp,{children:u.jsx(Wp,{children:u.jsx(Fp,{children:u.jsx(V1,{children:u.jsxs(vy,{children:[" ",u.jsx(Sy,{})]})})})})})})}));
